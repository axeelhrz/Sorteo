(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1617],{9627:function(e,t,s){Promise.resolve().then(s.bind(s,4222))},4222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(7821),i=s(8078),n=s(4542),r=s(8149),o=s(8504),l=s(7851),c=s(5805),d=s(6312),u=s(6030),_=s(6943),p=s(4504),h=s.n(p);let m=e=>{let{raffle:t,onPaymentCreated:s}=e,n=(0,o.useRouter)(),{isAuthenticated:r}=(0,d.a)(),[l,c]=(0,i.useState)(1),[p,m]=(0,i.useState)(!1),[x,g]=(0,i.useState)(null),v=t.totalTickets-t.soldTickets,f=Number(t.productValue),j=l*f,N=l>0&&l<=v,k=e=>{c(Math.max(1,Math.min(l+e,v)))},y=async()=>{if(!N){g("Cantidad de tickets inv\xe1lida");return}m(!0),g(null);try{let e=await _.Z.createPayment({raffleId:t.id,amount:j,ticketQuantity:l});s&&s(e.id),n.push("/checkout?paymentId=".concat(e.id))}catch(t){var e,a;g((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al procesar la compra. Intenta de nuevo."),m(!1)}};return r?t.status!==u.r.ACTIVE?(0,a.jsx)("div",{className:h().blockContainer,children:(0,a.jsx)("div",{className:h().messageBox,children:(0,a.jsx)("p",{children:"Este sorteo no est\xe1 disponible para compra"})})}):v<=0?(0,a.jsx)("div",{className:h().blockContainer,children:(0,a.jsx)("div",{className:h().messageBox,children:(0,a.jsx)("p",{children:"\xa1Todos los tickets se han vendido!"})})}):(0,a.jsxs)("div",{className:h().blockContainer,children:[(0,a.jsx)("h2",{className:h().title,children:"Compra tus tickets"}),(0,a.jsxs)("div",{className:h().infoSection,children:[(0,a.jsxs)("div",{className:h().infoItem,children:[(0,a.jsx)("span",{className:h().label,children:"Tickets disponibles:"}),(0,a.jsx)("span",{className:h().value,children:v})]}),(0,a.jsxs)("div",{className:h().infoItem,children:[(0,a.jsx)("span",{className:h().label,children:"Precio por ticket:"}),(0,a.jsxs)("span",{className:h().value,children:["S/. ",f.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:h().quantitySection,children:[(0,a.jsx)("label",{htmlFor:"quantity",className:h().label,children:"Cantidad de tickets:"}),(0,a.jsxs)("div",{className:h().quantityControls,children:[(0,a.jsx)("input",{id:"quantity",type:"number",min:"1",max:v,value:l,onChange:e=>{let t=parseInt(e.target.value,10);isNaN(t)||c(Math.max(1,Math.min(t,v)))},className:h().quantityInput}),(0,a.jsxs)("div",{className:h().quickButtons,children:[(0,a.jsx)("button",{className:h().quickButton,onClick:()=>k(1),disabled:l>=v,children:"+1"}),(0,a.jsx)("button",{className:h().quickButton,onClick:()=>k(5),disabled:l>=v,children:"+5"}),(0,a.jsx)("button",{className:h().quickButton,onClick:()=>k(10),disabled:l>=v,children:"+10"})]})]})]}),(0,a.jsx)("div",{className:h().subtotalSection,children:(0,a.jsxs)("div",{className:h().subtotalRow,children:[(0,a.jsxs)("span",{children:["Subtotal (",l," tickets):"]}),(0,a.jsxs)("span",{className:h().subtotalValue,children:["S/. ",j.toFixed(2)]})]})}),x&&(0,a.jsx)("div",{className:h().errorMessage,children:x}),(0,a.jsx)("button",{className:h().buyButton,onClick:y,disabled:!N||p,children:p?"Procesando...":"Continuar con la compra"}),!N&&(0,a.jsxs)("p",{className:h().validationMessage,children:["Selecciona una cantidad v\xe1lida (1 - ",v,")"]})]}):(0,a.jsx)("div",{className:h().blockContainer,children:(0,a.jsxs)("div",{className:h().messageBox,children:[(0,a.jsx)("p",{children:"Inicia sesi\xf3n para comprar tickets"}),(0,a.jsx)("button",{className:h().loginButton,onClick:()=>n.push("/login"),children:"Iniciar sesi\xf3n"})]})})};var x=s(3404),g=s(507),v=s(2474),f=s.n(v);function j(){var e,t,s,_,p,h,v,j,N,k,y;let T=(0,o.useParams)().id,{user:B}=(0,d.a)(),[b,I]=(0,i.useState)(null),[w,C]=(0,i.useState)(!0),[S,D]=(0,i.useState)(null),[E,L]=(0,i.useState)([]),[P,q]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{let e=async()=>{try{C(!0);let e=await c.Z.getRaffleById(T);I(e)}catch(e){console.error("Error loading raffle:",e),D("No pudimos cargar el sorteo. Intenta nuevamente.")}finally{C(!1)}};T&&e();let t=setInterval(()=>{T&&b&&(b.status===u.r.ACTIVE||b.status===u.r.SOLD_OUT)&&e()},5e3);return()=>clearInterval(t)},[T,null==b?void 0:b.status]),(0,i.useEffect)(()=>{(async()=>{if(B&&T)try{q(!0);let e=await x.x.get("/api/raffle-tickets?raffleId=".concat(T));L(e.data||[])}catch(e){console.error("Error loading user tickets:",e)}finally{q(!1)}})()},[B,T]),w)return(0,a.jsx)("main",{className:f().container,children:(0,a.jsxs)("div",{className:f().loadingContainer,children:[(0,a.jsx)("div",{className:f().spinner}),(0,a.jsx)("p",{children:"Cargando sorteo..."})]})});if(S||!b)return(0,a.jsx)("main",{className:f().container,children:(0,a.jsxs)("div",{className:f().errorContainer,children:[(0,a.jsx)(l.jRj,{className:f().errorIcon}),(0,a.jsx)("h1",{className:f().errorTitle,children:"Sorteo no encontrado"}),(0,a.jsx)("p",{className:f().errorDescription,children:"El sorteo que buscas no existe o no est\xe1 disponible en este momento."}),(0,a.jsx)(n.default,{href:"/sorteos",children:(0,a.jsx)("button",{className:f().backButton,children:"Volver al listado"})})]})});let A=b.soldTickets/b.totalTickets*100,V=b.totalTickets-b.soldTickets,F=b.status===u.r.ACTIVE,H=b.status===u.r.SOLD_OUT,R=b.status===u.r.FINISHED,M=b.status===u.r.PAUSED,W=(()=>{if(V<=0||0===b.soldTickets)return null;let e=Math.max(1,(new Date().getTime()-new Date(b.createdAt).getTime())/864e5),t=b.soldTickets/e;if(t<=0)return null;let s=new Date;return s.setDate(s.getDate()+Math.ceil(V/t)),s})();return(0,a.jsxs)("main",{className:f().container,children:[(0,a.jsx)(n.default,{href:"/sorteos",className:f().backLink,children:"← Volver al listado"}),(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsxs)("div",{className:f().leftColumn,children:[(0,a.jsxs)("div",{className:f().imageContainer,children:[(null===(e=b.product)||void 0===e?void 0:e.mainImage)?(0,a.jsx)(r.default,{src:b.product.mainImage,alt:b.product.name,fill:!0,className:f().image,priority:!0}):(0,a.jsx)("div",{className:f().imagePlaceholder,children:(0,a.jsx)("span",{children:"Sin imagen disponible"})}),(0,a.jsxs)("div",{className:"".concat(f().statusBadge," ").concat(f()["status-".concat(b.status)]),children:[b.status===u.r.ACTIVE&&"Activo",b.status===u.r.PAUSED&&"Pausado",b.status===u.r.SOLD_OUT&&"Agotado",b.status===u.r.FINISHED&&"Finalizado"]})]}),(0,a.jsxs)("div",{className:f().shopInfo,children:[(0,a.jsx)("h3",{className:f().shopTitle,children:"Tienda"}),(0,a.jsxs)("div",{className:f().shopCard,children:[(null===(t=b.shop)||void 0===t?void 0:t.logo)&&(0,a.jsx)(r.default,{src:b.shop.logo,alt:b.shop.name,width:48,height:48,className:f().shopLogo}),(0,a.jsxs)("div",{className:f().shopDetails,children:[(0,a.jsx)("h4",{className:f().shopName,children:null===(s=b.shop)||void 0===s?void 0:s.name}),(null===(_=b.shop)||void 0===_?void 0:_.status)==="verified"&&(0,a.jsxs)("span",{className:f().verifiedBadge,children:[(0,a.jsx)(l._rq,{className:f().verifiedIcon}),"Tienda verificada"]})]})]}),(null===(p=b.shop)||void 0===p?void 0:p.description)&&(0,a.jsx)("p",{className:f().shopDescription,children:b.shop.description}),(0,a.jsx)(n.default,{href:"/tienda/".concat(null===(h=b.shop)||void 0===h?void 0:h.id),children:(0,a.jsx)("button",{className:f().viewShopButton,children:"Ver otros sorteos"})})]})]}),(0,a.jsxs)("div",{className:f().rightColumn,children:[(0,a.jsxs)("div",{className:f().productSection,children:[(0,a.jsx)("h1",{className:f().productName,children:null===(v=b.product)||void 0===v?void 0:v.name}),(0,a.jsx)("p",{className:f().productDescription,children:null===(j=b.product)||void 0===j?void 0:j.description}),(0,a.jsxs)("div",{className:f().valueBox,children:[(0,a.jsx)("span",{className:f().valueLabel,children:"Valor del producto"}),(0,a.jsxs)("span",{className:f().valueAmount,children:["S/ ",Number(b.productValue).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:f().rulesSection,children:[(0,a.jsx)("h3",{className:f().sectionTitle,children:"C\xf3mo funciona este sorteo"}),(0,a.jsxs)("div",{className:f().rulesList,children:[(0,a.jsxs)("div",{className:f().rule,children:[(0,a.jsx)("span",{className:f().ruleIcon,children:"\uD83C\uDFAB"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:f().ruleTitle,children:"Tickets y participaci\xf3n"}),(0,a.jsxs)("p",{className:f().ruleText,children:["Por cada producto de S/ ",Number(b.productValue).toFixed(2)," se generan"," ",(0,a.jsx)("strong",{children:Math.floor(2*Number(b.productValue))})," tickets."]})]})]}),(0,a.jsxs)("div",{className:f().rule,children:[(0,a.jsx)("span",{className:f().ruleIcon,children:"\uD83C\uDFB2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:f().ruleTitle,children:"Sorteo autom\xe1tico"}),(0,a.jsx)("p",{className:f().ruleText,children:"Cuando se venden todos los tickets, el sorteo se ejecuta autom\xe1ticamente."})]})]}),(0,a.jsxs)("div",{className:f().rule,children:[(0,a.jsx)("span",{className:f().ruleIcon,children:"\uD83C\uDFC6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:f().ruleTitle,children:"Ganador aleatorio"}),(0,a.jsx)("p",{className:f().ruleText,children:"El ganador se elige de forma completamente aleatoria entre todos los tickets vendidos."})]})]})]})]}),(0,a.jsxs)("div",{className:f().progressSection,children:[(0,a.jsx)("h3",{className:f().sectionTitle,children:"Progreso del sorteo"}),(0,a.jsxs)("div",{className:f().progressHeader,children:[(0,a.jsx)("span",{className:f().progressLabel,children:"Tickets vendidos"}),(0,a.jsxs)("span",{className:f().progressCount,children:[b.soldTickets," de ",b.totalTickets]})]}),(0,a.jsx)("div",{className:f().progressBar,children:(0,a.jsx)("div",{className:f().progressFill,style:{width:"".concat(Math.min(A,100),"%")}})}),(0,a.jsxs)("div",{className:f().progressFooter,children:[(0,a.jsx)("span",{className:f().remainingTickets,children:V>0?"".concat(V," tickets disponibles"):"Todos los tickets vendidos"}),(0,a.jsxs)("span",{className:f().progressPercent,children:[Math.round(A),"%"]})]}),W&&F&&(0,a.jsxs)("div",{className:f().estimatedDate,children:[(0,a.jsx)("span",{className:f().estimatedLabel,children:"Fecha estimada del sorteo:"}),(0,a.jsx)("span",{className:f().estimatedValue,children:W.toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]})]}),b.requiresDeposit&&(0,a.jsxs)("div",{className:f().depositInfo,children:[(0,a.jsx)(l.UIZ,{className:f().depositIcon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:f().depositTitle,children:"Dep\xf3sito de garant\xeda"}),(0,a.jsx)("p",{className:f().depositText,children:"Esta tienda tiene un dep\xf3sito de garant\xeda para asegurar la entrega del premio."})]})]}),B?(0,a.jsxs)("div",{className:f().userParticipation,children:[(0,a.jsx)("h3",{className:f().sectionTitle,children:"Tus participaciones"}),P?(0,a.jsx)("p",{className:f().participationText,children:"Cargando tus tickets..."}):E.length>0?(0,a.jsxs)("div",{className:f().ticketsList,children:[(0,a.jsxs)("p",{className:f().participationText,children:["Tienes ",(0,a.jsx)("strong",{children:E.length})," ticket",E.length>1?"s":""," en este sorteo:"]}),(0,a.jsx)("div",{className:f().ticketNumbers,children:E.map(e=>(0,a.jsxs)("span",{className:f().ticketNumber,children:["#",e.number]},e.id))}),(0,a.jsxs)("p",{className:f().participationDate,children:["Comprado",E.length>1?"s":""," el"," ",new Date((null===(N=E[0])||void 0===N?void 0:N.createdAt)||Date.now()).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]}):(0,a.jsx)("p",{className:f().participationText,children:"A\xfan no participas en este sorteo. \xa1Compra tickets para tener oportunidad de ganar!"})]}):(0,a.jsxs)("div",{className:f().loginPrompt,children:[(0,a.jsx)("p",{className:f().loginText,children:"Inicia sesi\xf3n o reg\xedstrate para comprar tickets y ver tus participaciones."}),(0,a.jsxs)("div",{className:f().loginButtons,children:[(0,a.jsx)(n.default,{href:"/login",children:(0,a.jsx)("button",{className:f().loginButton,children:"Iniciar sesi\xf3n"})}),(0,a.jsx)(n.default,{href:"/register",children:(0,a.jsx)("button",{className:f().registerButton,children:"Registrarse"})})]})]}),F&&!M&&(0,a.jsx)(m,{raffle:b,onPaymentCreated:()=>{B&&setTimeout(()=>{x.x.get("/api/raffle-tickets?raffleId=".concat(T)).then(e=>{L(e.data||[])})},2e3)}}),M&&(0,a.jsx)("div",{className:f().soldOutMessage,children:(0,a.jsx)("p",{children:"Este sorteo est\xe1 pausado temporalmente."})}),H&&(0,a.jsx)("div",{className:f().soldOutMessage,children:(0,a.jsx)("p",{children:"Tickets agotados. El sorteo se ejecutar\xe1 pronto."})}),R&&(0,a.jsxs)("div",{className:f().finishedMessage,children:[(0,a.jsx)("p",{children:"Este sorteo ha finalizado."}),(0,a.jsx)(n.default,{href:"/sorteos/".concat(T,"/winner"),children:(0,a.jsx)("button",{className:f().viewWinnerButton,children:"Ver ticket ganador →"})})]})]})]}),R&&b.winnerTicketId&&(0,a.jsxs)("div",{className:f().winnerSection,children:[(0,a.jsx)("h2",{className:f().winnerTitle,children:"\uD83C\uDFC6 Sorteo finalizado"}),(0,a.jsxs)("div",{className:f().winnerCard,children:[(0,a.jsxs)("div",{className:f().winnerInfo,children:[(0,a.jsx)("p",{className:f().winnerLabel,children:"El ganador ha sido seleccionado"}),(0,a.jsx)("p",{className:f().winnerDetailText,children:"El sorteo ha finalizado y el ganador ha sido notificado. Visita la p\xe1gina del ganador para ver m\xe1s detalles."})]}),(0,a.jsx)(n.default,{href:"/sorteos/".concat(T,"/winner"),children:(0,a.jsx)("button",{className:f().viewWinnerButton,children:"Ver ticket ganador →"})})]})]}),(0,a.jsx)(g.Z,{}),(0,a.jsxs)("div",{className:f().relatedSection,children:[(0,a.jsx)("h2",{className:f().relatedTitle,children:"Otros sorteos de esta tienda"}),(0,a.jsx)("p",{className:f().relatedText,children:(0,a.jsxs)(n.default,{href:"/tienda/".concat(null===(k=b.shop)||void 0===k?void 0:k.id),children:["Ver todos los sorteos de ",null===(y=b.shop)||void 0===y?void 0:y.name," →"]})})]})]})}},507:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(7821),i=s(7851),n=s(4829),r=s.n(n);function o(){let e=[{number:1,title:"Eleg\xeds el sorteo",description:"Explora nuestro cat\xe1logo y elige el sorteo que te interesa.",icon:i.xUG},{number:2,title:"Compr\xe1s tickets",description:"Adquiere la cantidad de tickets que desees. Cada ticket es una participaci\xf3n.",icon:i.E25},{number:3,title:"Se realiza el sorteo",description:"Cuando se venden todos los tickets, se ejecuta el sorteo autom\xe1ticamente.",icon:i.KCr},{number:4,title:"Se publica el ganador",description:"El ticket ganador se elige de forma aleatoria y se publica en la plataforma.",icon:i.HR2}];return(0,a.jsxs)("section",{className:r().container,children:[(0,a.jsxs)("div",{className:r().header,children:[(0,a.jsx)("h2",{className:r().title,children:"\xbfC\xf3mo funciona este sorteo?"}),(0,a.jsx)("p",{className:r().subtitle,children:"Entend\xe9 el mecanismo en 4 pasos simples"})]}),(0,a.jsx)("div",{className:r().stepsContainer,children:e.map((t,s)=>{let i=t.icon;return(0,a.jsxs)("div",{className:r().step,children:[(0,a.jsx)("div",{className:r().stepIcon,children:(0,a.jsx)(i,{})}),(0,a.jsxs)("div",{className:r().stepContent,children:[(0,a.jsxs)("h3",{className:r().stepTitle,children:["Paso ",t.number,": ",t.title]}),(0,a.jsx)("p",{className:r().stepDescription,children:t.description})]}),s<e.length-1&&(0,a.jsx)("div",{className:r().connector})]},t.number)})}),(0,a.jsxs)("div",{className:r().infoBox,children:[(0,a.jsx)("h3",{className:r().infoTitle,children:"Informaci\xf3n importante"}),(0,a.jsxs)("ul",{className:r().infoList,children:[(0,a.jsx)("li",{children:"Cada ticket representa una participaci\xf3n en el sorteo."}),(0,a.jsx)("li",{children:"El ganador se elige de forma completamente aleatoria."}),(0,a.jsx)("li",{children:"El resultado es transparente y verificable."}),(0,a.jsx)("li",{children:"El ganador ser\xe1 notificado por email inmediatamente."}),(0,a.jsx)("li",{children:"Todos los sorteos cumplen con la normativa vigente."})]})]})]})}},6312:function(e,t,s){"use strict";s.d(t,{a:function(){return n}});var a=s(8078),i=s(7197);function n(){let[e,t]=(0,a.useState)(!1),s=(0,i.t)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("token");console.log("Token from localStorage:",e),e&&(console.log("Setting token in store:",e),s.setToken(e)),t(!0)},[]),{...s,isHydrated:e}}},3404:function(e,t,s){"use strict";s.d(t,{x:function(){return r}});var a=s(7147),i=s(9190);class n{async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,t){return this.client.get(e,t)}async post(e,t,s){return this.client.post(e,t,s)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}constructor(){(0,a._)(this,"client",void 0),this.client=i.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let t=localStorage.getItem("token");console.log("API Request - Token from localStorage:",t),t?(e.headers.Authorization="Bearer ".concat(t),console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&localStorage.removeItem("token"),Promise.reject(e)})}}let r=new n},6943:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(3404);let i={async createPayment(e){try{return(await a.x.post("/payments",e)).data}catch(e){throw console.error("Error creating payment:",e),e}},async confirmPayment(e){try{return(await a.x.post("/payments/confirm",e)).data}catch(e){throw console.error("Error confirming payment:",e),e}},async failPayment(e,t){try{return(await a.x.post("/payments/".concat(e,"/fail"),{failureReason:t})).data}catch(e){throw console.error("Error failing payment:",e),e}},async getPaymentById(e){try{return(await a.x.get("/payments/".concat(e))).data}catch(e){throw console.error("Error fetching payment:",e),e}},async getMyPayments(){try{return(await a.x.get("/payments/user/me")).data}catch(e){throw console.error("Error fetching user payments:",e),e}},async getCompletedPaymentsByRaffleId(e){try{return(await a.x.get("/payments/raffle/".concat(e))).data}catch(e){throw console.error("Error fetching raffle payments:",e),e}},async refundPayment(e){try{return(await a.x.post("/payments/".concat(e,"/refund"),{})).data}catch(e){throw console.error("Error refunding payment:",e),e}}}},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(3404);let i={async getActiveRaffles(e){try{let t=new URLSearchParams;return(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.category)&&t.append("category",e.category),(null==e?void 0:e.shopId)&&t.append("shopId",e.shopId),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.minValue)!==void 0&&t.append("minValue",e.minValue.toString()),(null==e?void 0:e.maxValue)!==void 0&&t.append("maxValue",e.maxValue.toString()),(null==e?void 0:e.sortBy)&&t.append("sortBy",e.sortBy),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(await a.x.get("/raffles/public/active?".concat(t.toString()))).data}catch(e){throw console.error("Error fetching active raffles:",e),e}},async getRaffleById(e){try{return(await a.x.get("/raffles/public/".concat(e))).data}catch(e){throw console.error("Error fetching raffle:",e),e}},async getRafflesByShop(e,t){try{let s=new URLSearchParams;return(null==t?void 0:t.search)&&s.append("search",t.search),(null==t?void 0:t.sortBy)&&s.append("sortBy",t.sortBy),(null==t?void 0:t.page)&&s.append("page",t.page.toString()),(null==t?void 0:t.limit)&&s.append("limit",t.limit.toString()),(await a.x.get("/raffles/public/shop/".concat(e,"?").concat(s.toString()))).data}catch(e){throw console.error("Error fetching shop raffles:",e),e}},async getCategories(){try{return(await a.x.get("/raffles/public/categories")).data}catch(e){return console.error("Error fetching categories:",e),[]}},async getShopsWithActiveRaffles(){try{return(await a.x.get("/raffles/public/shops")).data}catch(e){return console.error("Error fetching shops:",e),[]}}}},7197:function(e,t,s){"use strict";s.d(t,{t:function(){return n}});var a=s(3020),i=s(4302);let n=(0,a.Ue)()((0,i.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t})},setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),logout:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},6030:function(e,t,s){"use strict";var a,i;s.d(t,{r:function(){return a}}),(i=a||(a={})).DRAFT="draft",i.PENDING_APPROVAL="pending_approval",i.ACTIVE="active",i.PAUSED="paused",i.SOLD_OUT="sold_out",i.FINISHED="finished",i.CANCELLED="cancelled",i.REJECTED="rejected"},2474:function(e){e.exports={container:"detail_container__ULKUD",backLink:"detail_backLink__NQ9wo",loadingContainer:"detail_loadingContainer__zkUnc",errorContainer:"detail_errorContainer__YN7G7",spinner:"detail_spinner__weEuB",spin:"detail_spin__yeIrc",errorIcon:"detail_errorIcon__u1Jxx",errorTitle:"detail_errorTitle__jj0vi",errorDescription:"detail_errorDescription__xojbs",backButton:"detail_backButton__245oZ",content:"detail_content__M27T9",leftColumn:"detail_leftColumn__362CK",imageContainer:"detail_imageContainer__5H5v9",image:"detail_image__5cMHf",imagePlaceholder:"detail_imagePlaceholder__3J6i1",statusBadge:"detail_statusBadge__tKHA4","status-active":"detail_status-active__dqsFd","status-sold_out":"detail_status-sold_out__zfI8i","status-finished":"detail_status-finished__mwD6p","status-paused":"detail_status-paused__Gr_IE",shopInfo:"detail_shopInfo__oBDPu",shopTitle:"detail_shopTitle__djNe_",shopCard:"detail_shopCard__TI_qP",shopLogo:"detail_shopLogo__W33_B",shopDetails:"detail_shopDetails__qTKYr",shopName:"detail_shopName__XSKp0",verifiedBadge:"detail_verifiedBadge__AAaj8",verifiedIcon:"detail_verifiedIcon__B3G9b",shopDescription:"detail_shopDescription__y4Him",viewShopButton:"detail_viewShopButton__yppoP",rightColumn:"detail_rightColumn__EevaV",productSection:"detail_productSection__e6RrF",productName:"detail_productName__Vitwc",productDescription:"detail_productDescription__fgglb",valueBox:"detail_valueBox__2LHWf",valueLabel:"detail_valueLabel__1hnls",valueAmount:"detail_valueAmount__ZcW5c",rulesSection:"detail_rulesSection___WLv8",sectionTitle:"detail_sectionTitle__NzNFV",rulesList:"detail_rulesList__pShQw",rule:"detail_rule__8YuSq",ruleIcon:"detail_ruleIcon__wR_Jc",ruleTitle:"detail_ruleTitle__qXFbx",ruleText:"detail_ruleText__LgDI1",progressSection:"detail_progressSection__Dz7o2",progressHeader:"detail_progressHeader__Tl2mB",progressLabel:"detail_progressLabel__tGIZ3",progressCount:"detail_progressCount__eChVp",progressBar:"detail_progressBar__QoIov",progressFill:"detail_progressFill__kDOOh",progressFooter:"detail_progressFooter__H4aLX",remainingTickets:"detail_remainingTickets__7g9ve",progressPercent:"detail_progressPercent__plgYQ",estimatedDate:"detail_estimatedDate__eecTb",estimatedLabel:"detail_estimatedLabel__c4FCn",estimatedValue:"detail_estimatedValue__p_HVX",depositInfo:"detail_depositInfo__cTTME",depositIcon:"detail_depositIcon__7xNM3",depositTitle:"detail_depositTitle__m6PyC",depositText:"detail_depositText__vQG_B",userParticipation:"detail_userParticipation__2fbqO",participationText:"detail_participationText__bm9LK",ticketsList:"detail_ticketsList__1h_Qg",ticketNumbers:"detail_ticketNumbers__rFCaT",ticketNumber:"detail_ticketNumber__NIQqL",participationDate:"detail_participationDate__OhJwK",loginPrompt:"detail_loginPrompt__06FvA",loginText:"detail_loginText__KyGSC",loginButtons:"detail_loginButtons__jo6yd",loginButton:"detail_loginButton__zPo6O",registerButton:"detail_registerButton__Pvffg",buyButton:"detail_buyButton__ZvoJX",soldOutMessage:"detail_soldOutMessage___W9K7",finishedMessage:"detail_finishedMessage__ps6N7",viewWinnerButton:"detail_viewWinnerButton__FFxSF",winnerSection:"detail_winnerSection__8gsd9",winnerTitle:"detail_winnerTitle__198V4",winnerCard:"detail_winnerCard___8oIa",winnerInfo:"detail_winnerInfo__ytu6q",winnerLabel:"detail_winnerLabel__3oCdX",winnerNumber:"detail_winnerNumber__AGkQa",winnerDetails:"detail_winnerDetails__i3j86",winnerDetailText:"detail_winnerDetailText__bYR2D",relatedSection:"detail_relatedSection__Gq38b",relatedTitle:"detail_relatedTitle__z9geH",relatedText:"detail_relatedText__spQ_1"}},4504:function(e){e.exports={blockContainer:"BuyTicketsBlock_blockContainer__2vhQG",title:"BuyTicketsBlock_title__xeTXq",messageBox:"BuyTicketsBlock_messageBox__Bvkmn",loginButton:"BuyTicketsBlock_loginButton__k0fgW",infoSection:"BuyTicketsBlock_infoSection__7xBhO",infoItem:"BuyTicketsBlock_infoItem__nNFXl",label:"BuyTicketsBlock_label__DLbn3",value:"BuyTicketsBlock_value__uYPnp",quantitySection:"BuyTicketsBlock_quantitySection__eAsMh",quantityControls:"BuyTicketsBlock_quantityControls__boTTh",quantityInput:"BuyTicketsBlock_quantityInput__hX66Q",quickButtons:"BuyTicketsBlock_quickButtons__xRSvK",quickButton:"BuyTicketsBlock_quickButton__VaRml",subtotalSection:"BuyTicketsBlock_subtotalSection__LLADU",subtotalRow:"BuyTicketsBlock_subtotalRow__fYzsX",subtotalValue:"BuyTicketsBlock_subtotalValue__JsJyB",errorMessage:"BuyTicketsBlock_errorMessage__LVuEk",buyButton:"BuyTicketsBlock_buyButton__fs33T",validationMessage:"BuyTicketsBlock_validationMessage__b_YTO"}},4829:function(e){e.exports={container:"HowItWorks_container__mnq7x",header:"HowItWorks_header__TUNtf",title:"HowItWorks_title__R9mRH",subtitle:"HowItWorks_subtitle__p1VGO",stepsContainer:"HowItWorks_stepsContainer__z4SVF",step:"HowItWorks_step__xqJEj",stepIcon:"HowItWorks_stepIcon__daqZC",float:"HowItWorks_float__bIpD0",stepContent:"HowItWorks_stepContent__1KjE5",stepTitle:"HowItWorks_stepTitle__wWntG",stepDescription:"HowItWorks_stepDescription__Gjb4i",connector:"HowItWorks_connector__0xEXv",infoBox:"HowItWorks_infoBox__vaEP0",infoTitle:"HowItWorks_infoTitle__5IZQi",infoList:"HowItWorks_infoList__05_Ra"}}},function(e){e.O(0,[8433,9134,2489,4755,4542,6153,7115,2364,1744],function(){return e(e.s=9627)}),_N_E=e.O()}]);
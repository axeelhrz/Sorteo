(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{2449:function(e,a,t){Promise.resolve().then(t.bind(t,3532))},3532:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var s=t(7821),r=t(8078),o=t(8504),i=t(7851),n=t(6312),l=t(3404),d=t(4767),c=t(6943),h=t(9298),u=t(8075),p=t(9730),m=t(2962),x=t.n(m);function g(){var e,a,t,m;let g=(0,o.useRouter)(),{user:j,token:v,setUser:f,logout:b,isHydrated:y}=(0,n.a)(),[N,_]=(0,r.useState)(!0),[k,C]=(0,r.useState)([]),[S,w]=(0,r.useState)(null),[I,T]=(0,r.useState)([]),[F,E]=(0,r.useState)([]),[A,P]=(0,r.useState)([]),[D,B]=(0,r.useState)([]),[z,R]=(0,r.useState)("overview"),[L,q]=(0,r.useState)([]),[G,M]=(0,r.useState)(null),[V,O]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),[U,J]=(0,r.useState)(""),[X,Z]=(0,r.useState)(null),[K,Q]=(0,r.useState)(null),[Y,$]=(0,r.useState)([]),[ee,ea]=(0,r.useState)([]),[et,es]=(0,r.useState)(null),[er,eo]=(0,r.useState)({}),[ei,en]=(0,r.useState)(null),[el,ed]=(0,r.useState)(!1),[ec,eh]=(0,r.useState)(!1),[eu,ep]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(!1),[eg,ej]=(0,r.useState)({shopId:"",productId:"",totalTickets:"",specialConditions:""}),[ev,ef]=(0,r.useState)({shopId:"",name:"",description:"",value:0,height:0,width:0,depth:0,category:"",mainImage:""}),[eb,ey]=(0,r.useState)([]),[,eN]=(0,r.useState)(null),[e_,ek]=(0,r.useState)(!1),[eC,eS]=(0,r.useState)(null),[ew,eI]=(0,r.useState)(null),[eT,eF]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(y){if(!v){g.push("/login");return}try{let r=await l.x.getProfile();f(r.data);let o=[],i=null;if("shop"===r.data.role)try{if(console.log("\uD83D\uDED2 Obteniendo tienda para usuario con rol shop..."),i=await d.m.getMyShop(),console.log("✅ Tienda obtenida:",i),i){let e=i;w(e),o=[e],C(o),ej(a=>({...a,shopId:e.id})),ef(a=>({...a,shopId:e.id}))}}catch(r){var e,a,t,s;console.error("❌ Error obteniendo tienda del usuario:",r),console.error("Detalles del error:",{status:null===(e=r.response)||void 0===e?void 0:e.status,message:(null===(t=r.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||r.message,data:null===(s=r.response)||void 0===s?void 0:s.data}),setTimeout(async()=>{try{console.log("\uD83D\uDD04 Reintentando obtener tienda...");let e=await d.m.getMyShop();console.log("✅ Tienda obtenida en reintento:",e),w(e),C([e]),ej(a=>({...a,shopId:e.id})),ef(a=>({...a,shopId:e.id})),en(null)}catch(t){var e,a;console.error("❌ Error al reintentar obtener la tienda:",t),en("Error al obtener tu tienda: ".concat((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||t.message||"Error desconocido",". Por favor, recarga la p\xe1gina."))}},1e3)}else try{o=(await l.x.get("/shops")).data||[],C(o)}catch(e){console.log("No shops found")}try{if(o.length>0){let e=[];for(let a of o)try{let t=await l.x.get("/products?shopId=".concat(a.id));t.data&&Array.isArray(t.data)&&e.push(...t.data)}catch(e){console.log("No products found for shop ".concat(a.id))}T(e)}else{let e=await l.x.get("/products");T(e.data||[])}}catch(e){console.log("No products found")}try{if("admin"===r.data.role){let e=await u.d.getPendingRaffles(50,0);q(e.data||[]);let a=await l.x.get("/raffles");E(a.data||[])}else{let e=(await l.x.get("/raffles")).data||[];if(E(e),"user"===r.data.role){let a=e.filter(e=>"draft"!==e.status&&"rejected"!==e.status);$(a)}}}catch(e){console.log("No raffles found")}try{if("user"===r.data.role){let e=await l.x.get("/raffle-tickets?userId=".concat(r.data.id));ea(e.data||[])}else{let e=await l.x.get("/raffle-tickets");P(e.data||[])}}catch(e){console.log("No tickets found")}try{let e=await l.x.get("/deposits");B(e.data||[])}catch(e){console.log("No deposits found")}i?(ej(e=>({...e,shopId:i.id})),ef(e=>({...e,shopId:i.id}))):o.length>0&&(ej(e=>({...e,shopId:o[0].id})),ef(e=>({...e,shopId:o[0].id})))}catch(e){console.error("Error fetching data:",e),en("Error al cargar los datos"),b(),g.push("/login")}finally{_(!1)}}})()},[y,v]);let eE=async()=>{try{await l.x.logout()}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}finally{b(),g.push("/")}},eA=()=>{ed(!1),ej({shopId:"",productId:"",totalTickets:"",specialConditions:""})},eP=async e=>{if(e.preventDefault(),!eg.shopId||!eg.productId){en("Por favor completa todos los campos requeridos");return}if(eg.totalTickets&&(isNaN(Number(eg.totalTickets))||1>Number(eg.totalTickets))){en("La cantidad de tickets debe ser un n\xfamero mayor a 0");return}ep(!0);try{let e={shopId:eg.shopId,productId:eg.productId,specialConditions:eg.specialConditions||void 0};eg.totalTickets&&(e.totalTickets=parseInt(eg.totalTickets,10));let a=await l.x.post("/raffles",e);E([...F,a.data]),eA(),en(null)}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al crear el sorteo")}finally{ep(!1)}},eD=(e,a,t)=>{let s=[];return e<=0&&s.push("La altura debe ser mayor a 0"),a<=0&&s.push("El ancho debe ser mayor a 0"),t<=0&&s.push("La profundidad debe ser mayor a 0"),e>15&&s.push("La altura no puede exceder ".concat(15,"cm")),a>15&&s.push("El ancho no puede exceder ".concat(15,"cm")),t>15&&s.push("La profundidad no puede exceder ".concat(15,"cm")),s},eB=(e,a)=>{let t=parseFloat(a)||0;ef(a=>({...a,[e]:t})),ey(eD("height"===e?t:ev.height,"width"===e?t:ev.width,"depth"===e?t:ev.depth))},ez=async()=>{if((null==j?void 0:j.role)!=="shop"||S)S?ef(e=>({...e,shopId:S.id})):k.length>0&&ef(e=>({...e,shopId:k[0].id}));else try{let e=await d.m.getMyShop();w(e),C([e]),ef(a=>({...a,shopId:e.id}))}catch(e){console.error("Error obteniendo tienda al abrir modal:",e),en(null),setTimeout(async()=>{try{let e=await d.m.getMyShop();w(e),C([e]),ef(a=>({...a,shopId:e.id})),eh(!0)}catch(e){console.error("Error al reintentar obtener la tienda:",e),en("No se pudo obtener la informaci\xf3n de tu tienda. Por favor, recarga la p\xe1gina.")}},500);return}eh(!0)},eR=()=>{eh(!1),ef({shopId:k.length>0?k[0].id:"",name:"",description:"",value:0,height:0,width:0,depth:0,category:"",mainImage:""}),ey([]),eN(null)},eL=async e=>{eS(e),en(null);try{let a=await l.x.put("/raffles/".concat(e,"/pause"),{});E(F.map(t=>t.id===e?a.data:t)),(null==j?void 0:j.role)==="user"&&$(Y.map(t=>t.id===e?a.data:t))}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al pausar el sorteo")}finally{eS(null)}},eq=async e=>{eI(e),en(null);try{let a=await l.x.put("/raffles/".concat(e,"/resume"),{});E(F.map(t=>t.id===e?a.data:t)),(null==j?void 0:j.role)==="user"&&$(Y.map(t=>t.id===e?a.data:t))}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al reanudar el sorteo")}finally{eI(null)}},eG=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas enviar este sorteo a aprobaci\xf3n? Una vez enviado, no podr\xe1s editarlo hasta que sea aprobado o rechazado.")){eF(e),en(null);try{let a=await l.x.put("/raffles/".concat(e,"/submit-approval"),{});if(E(F.map(t=>t.id===e?a.data:t)),(null==j?void 0:j.role)==="admin"){let e=await u.d.getPendingRaffles(50,0);q(e.data||[])}}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al enviar el sorteo a aprobaci\xf3n")}finally{eF(null)}}},eM=async e=>{try{let a=await u.d.getRaffleDetail(e);M(a),O(!0)}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al cargar detalles del sorteo")}},eV=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas aprobar este sorteo?")){Z(e),en(null);try{await u.d.approveRaffle(e),q(L.filter(a=>a.id!==e)),O(!1),M(null);let a=await u.d.getPendingRaffles(50,0);q(a.data||[]);let t=await l.x.get("/raffles");E(t.data||[])}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al aprobar el sorteo")}finally{Z(null)}}},eO=async e=>{if(!U.trim()){en("Por favor ingresa un motivo de rechazo");return}Q(e),en(null);try{await u.d.rejectRaffle(e,U),q(L.filter(a=>a.id!==e)),H(!1),O(!1),J(""),M(null);let a=await u.d.getPendingRaffles(50,0);q(a.data||[]);let t=await l.x.get("/raffles");E(t.data||[])}catch(e){var a,t;en((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al rechazar el sorteo")}finally{Q(null)}},eW=async e=>{var a,t,s;let r=er[e]||1,o=Y.find(a=>a.id===e);if(!o){en("Sorteo no encontrado");return}let i=o.totalTickets-o.soldTickets;if(r>i){en("Solo hay ".concat(i," tickets disponibles"));return}if(r<1){en("Debes comprar al menos 1 ticket");return}es(e),en(null);try{let e=o.productValue||(null===(a=o.product)||void 0===a?void 0:a.value)||0,t=await c.Z.createPayment({raffleId:o.id,amount:r*e,ticketQuantity:r});g.push("/checkout?paymentId=".concat(t.id))}catch(e){en((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error al procesar la compra. Intenta de nuevo."),es(null)}},eH=async e=>{var a,t,s,r;let o=null===(a=e.target.files)||void 0===a?void 0:a[0];if(o){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(o.type)){en("Tipo de archivo no permitido. Solo se permiten im\xe1genes (JPEG, PNG, WEBP, GIF)");return}if(o.size>5242880){en("El archivo es demasiado grande. M\xe1ximo permitido: 5MB");return}eN(o),en(null),ek(!0);try{let e=await h.T.uploadProductImage(o);ef(a=>({...a,mainImage:e}));let a=e.startsWith("http")?e:"".concat(((t="http://localhost:3001/api",void 0===t)?void 0:t.replace("/api",""))||"http://localhost:3001").concat(e);ef(e=>({...e,mainImage:a}))}catch(e){en((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Error al subir la imagen"),eN(null)}finally{ek(!1)}}},eU=async e=>{if(e.preventDefault(),en(null),!ev.shopId&&(null==j?void 0:j.role)==="shop")try{let e=await d.m.getMyShop();w(e),C([e]),ef(a=>({...a,shopId:e.id}))}catch(e){console.error("Error obteniendo/creando tienda:",e),en("No se pudo obtener la informaci\xf3n de tu tienda. Por favor, recarga la p\xe1gina e intenta nuevamente.");return}if(!ev.shopId){(null==j?void 0:j.role)==="shop"?en("No se pudo asociar tu tienda. Por favor, recarga la p\xe1gina e intenta nuevamente."):en("Por favor selecciona una tienda para crear el producto.");return}let a=eD(ev.height,ev.width,ev.depth);if(a.length>0){ey(a),en("Por favor corrige los errores en las dimensiones");return}if(!ev.name||!ev.description||ev.value<=0){en("Por favor completa todos los campos requeridos");return}ex(!0);try{let e=await l.x.post("/products",ev);T([...I,e.data]),eR(),en(null),eN(null)}catch(e){var t,s;en((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error al crear el producto")}finally{ex(!1)}},eJ=e=>({pending:"#FFA500",verified:"#4CAF50",blocked:"#F44336",active:"#2196F3",paused:"#FF9800",inactive:"#9E9E9E",archived:"#757575",draft:"#FF9800",pending_approval:"#FFC107",sold_out:"#9C27B0",finished:"#4CAF50",cancelled:"#F44336",rejected:"#F44336",sold:"#2196F3",winner:"#FFD700",refunded:"#9E9E9E",held:"#FF9800",released:"#4CAF50",executed:"#F44336"})[e]||"#757575";return!y||N?(0,s.jsx)("div",{className:x().dashboard,children:(0,s.jsx)("div",{className:x().loadingContainer,children:(0,s.jsx)("p",{children:"Cargando..."})})}):j?(0,s.jsxs)("div",{className:x().dashboard,children:[(0,s.jsx)("div",{className:x().header,children:(0,s.jsxs)("div",{className:x().headerContent,children:[(0,s.jsxs)("div",{className:x().headerTitle,children:[(0,s.jsx)(p.Z,{size:"small",showText:!1}),(0,s.jsx)("h1",{children:"Dashboard"})]}),(0,s.jsxs)("div",{className:x().userSection,children:[(0,s.jsxs)("div",{className:x().userInfo,children:[(0,s.jsx)("div",{className:x().userAvatar,children:(0,s.jsx)(i.fzv,{})}),(0,s.jsxs)("div",{className:x().userDetails,children:[(0,s.jsx)("p",{className:x().userName,children:j.name}),(0,s.jsx)("p",{className:x().email,children:j.email}),(0,s.jsx)("span",{className:x().role,children:j.role})]})]}),(0,s.jsxs)("button",{onClick:eE,className:x().logoutBtn,children:[(0,s.jsx)(i.xqh,{className:x().logoutIcon}),"Cerrar Sesi\xf3n"]})]})]})}),ei&&(0,s.jsx)("div",{className:x().errorBanner,children:ei}),(0,s.jsx)("div",{className:x().tabsContainer,children:"user"===j.role?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"".concat(x().tab," ").concat("overview"===z?x().activeTab:""),onClick:()=>R("overview"),children:"Resumen"}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("raffles"===z?x().activeTab:""),onClick:()=>R("raffles"),children:["Sorteos Disponibles (",Y.length,")"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("tickets"===z?x().activeTab:""),onClick:()=>R("tickets"),children:["Mis Tickets (",ee.length,")"]})]}):"admin"===j.role?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("pending"===z?x().activeTab:""),onClick:()=>R("pending"),children:[(0,s.jsx)(i.TCC,{className:x().tabIcon}),"Sorteos Pendientes (",L.length,")"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("overview"===z?x().activeTab:""),onClick:()=>R("overview"),children:[(0,s.jsx)(i.orK,{className:x().tabIcon}),"Resumen"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("raffles"===z?x().activeTab:""),onClick:()=>R("raffles"),children:[(0,s.jsx)(i.KCr,{className:x().tabIcon}),"Todos los Sorteos (",F.length,")"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"".concat(x().tab," ").concat("overview"===z?x().activeTab:""),onClick:()=>R("overview"),children:"Resumen"}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("products"===z?x().activeTab:""),onClick:()=>R("products"),children:["Productos (",I.length,")"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("raffles"===z?x().activeTab:""),onClick:()=>R("raffles"),children:["Sorteos (",F.length,")"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("tickets"===z?x().activeTab:""),onClick:()=>R("tickets"),children:["Tickets (",A.length,")"]}),(0,s.jsxs)("button",{className:"".concat(x().tab," ").concat("deposits"===z?x().activeTab:""),onClick:()=>R("deposits"),children:["Dep\xf3sitos (",D.length,")"]})]})}),(0,s.jsxs)("div",{className:x().content,children:["pending"===z&&"admin"===j.role&&(0,s.jsxs)("div",{className:x().tableContainer,children:[(0,s.jsx)("div",{className:x().tableHeader,children:(0,s.jsx)("h2",{children:"Sorteos Pendientes de Aprobaci\xf3n"})}),0===L.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay sorteos pendientes de aprobaci\xf3n"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Tienda"}),(0,s.jsx)("th",{children:"Producto"}),(0,s.jsx)("th",{children:"Valor"}),(0,s.jsx)("th",{children:"Total Tickets"}),(0,s.jsx)("th",{children:"Requiere Dep\xf3sito"}),(0,s.jsx)("th",{children:"Fecha Creaci\xf3n"}),(0,s.jsx)("th",{children:"Acciones"})]})}),(0,s.jsx)("tbody",{children:L.map(e=>{var a,t,r;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(null===(a=e.shop)||void 0===a?void 0:a.name)||"N/A"}),(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:(null===(t=e.product)||void 0===t?void 0:t.name)||"Producto desconocido"})}),(0,s.jsxs)("td",{children:["S/. ",(e.productValue||(null===(r=e.product)||void 0===r?void 0:r.value)||0).toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsx)("td",{children:e.totalTickets.toLocaleString()}),(0,s.jsx)("td",{children:e.requiresDeposit?(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#FF9800"},children:"S\xed"}):(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#4CAF50"},children:"No"})}),(0,s.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,s.jsx)("button",{className:x().createBtn,onClick:()=>eM(e.id),style:{padding:"6px 12px",fontSize:"12px"},children:"Ver Detalles"})})})]},e.id)})})]})]}),"products"===z&&"shop"===j.role&&(0,s.jsxs)("div",{className:x().tableContainer,children:[(0,s.jsxs)("div",{className:x().tableHeader,children:[(0,s.jsx)("h2",{children:"Productos"}),(0,s.jsx)("button",{className:x().createBtn,onClick:ez,children:"Crear Producto"})]}),0===I.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay productos creados"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Nombre"}),(0,s.jsx)("th",{children:"Valor"}),(0,s.jsx)("th",{children:"Dimensiones"}),(0,s.jsx)("th",{children:"Requiere Dep\xf3sito"}),(0,s.jsx)("th",{children:"Estado"})]})}),(0,s.jsx)("tbody",{children:I.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:e.name})}),(0,s.jsxs)("td",{children:["S/. ",e.value.toLocaleString()]}),(0,s.jsxs)("td",{children:[e.height,"\xd7",e.width,"\xd7",e.depth," cm"]}),(0,s.jsx)("td",{children:e.requiresDeposit?(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#FF9800"},children:"S\xed"}):(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#4CAF50"},children:"No"})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status)},children:e.status})})]},e.id))})]})]}),"overview"===z&&(0,s.jsx)("div",{className:x().overviewGrid,children:"user"===j.role?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.KCr,{})}),(0,s.jsx)("h3",{children:"Sorteos Disponibles"}),(0,s.jsx)("p",{className:x().bigNumber,children:Y.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Sorteos activos para participar"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.E25,{})}),(0,s.jsx)("h3",{children:"Mis Tickets"}),(0,s.jsx)("p",{className:x().bigNumber,children:ee.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Tickets comprados"}),(0,s.jsx)("div",{className:x().statusBreakdown,children:ee.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["Vendidos: ",ee.filter(e=>"sold"===e.status).length]}),(0,s.jsxs)("span",{children:["Ganadores: ",ee.filter(e=>"winner"===e.status).length]})]})})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.HR2,{})}),(0,s.jsx)("h3",{children:"Sorteos Participados"}),(0,s.jsx)("p",{className:x().bigNumber,children:new Set(ee.map(e=>e.raffleId)).size}),(0,s.jsx)("p",{className:x().subtitle,children:"Diferentes sorteos"})]})]}):"admin"===j.role?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.TCC,{})}),(0,s.jsx)("h3",{children:"Sorteos Pendientes"}),(0,s.jsx)("p",{className:x().bigNumber,children:L.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Esperando aprobaci\xf3n"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.KCr,{})}),(0,s.jsx)("h3",{children:"Sorteos Activos"}),(0,s.jsx)("p",{className:x().bigNumber,children:F.filter(e=>"active"===e.status).length}),(0,s.jsx)("p",{className:x().subtitle,children:"Sorteos en curso"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i._rq,{})}),(0,s.jsx)("h3",{children:"Sorteos Finalizados"}),(0,s.jsx)("p",{className:x().bigNumber,children:F.filter(e=>"finished"===e.status).length}),(0,s.jsx)("p",{className:x().subtitle,children:"Sorteos completados"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.x8h,{})}),(0,s.jsx)("h3",{children:"Total Sorteos"}),(0,s.jsx)("p",{className:x().bigNumber,children:F.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Todos los sorteos"}),(0,s.jsxs)("div",{className:x().statusBreakdown,children:[(0,s.jsxs)("span",{children:["Pendientes: ",L.length]}),(0,s.jsxs)("span",{children:["Activos: ",F.filter(e=>"active"===e.status).length]}),(0,s.jsxs)("span",{children:["Finalizados: ",F.filter(e=>"finished"===e.status).length]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.zFh,{})}),(0,s.jsx)("h3",{children:"Productos"}),(0,s.jsx)("p",{className:x().bigNumber,children:I.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Total de productos"}),(0,s.jsx)("div",{className:x().statusBreakdown,children:I.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["Activos: ",I.filter(e=>"active"===e.status).length]}),(0,s.jsxs)("span",{children:["Inactivos: ",I.filter(e=>"inactive"===e.status).length]}),(0,s.jsxs)("span",{children:["Con dep\xf3sito: ",I.filter(e=>e.requiresDeposit).length]})]})})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.KCr,{})}),(0,s.jsx)("h3",{children:"Sorteos"}),(0,s.jsx)("p",{className:x().bigNumber,children:F.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Total de sorteos"}),(0,s.jsx)("div",{className:x().statusBreakdown,children:F.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["Activos: ",F.filter(e=>"active"===e.status).length]}),(0,s.jsxs)("span",{children:["Pausados: ",F.filter(e=>"paused"===e.status).length]}),(0,s.jsxs)("span",{children:["Finalizados: ",F.filter(e=>"finished"===e.status).length]}),(0,s.jsxs)("span",{children:["Tickets vendidos: ",F.reduce((e,a)=>e+a.soldTickets,0).toLocaleString()]})]})})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.E25,{})}),(0,s.jsx)("h3",{children:"Tickets"}),(0,s.jsx)("p",{className:x().bigNumber,children:A.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Total de tickets"}),(0,s.jsx)("div",{className:x().statusBreakdown,children:A.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["Vendidos: ",A.filter(e=>"sold"===e.status).length]}),(0,s.jsxs)("span",{children:["Ganadores: ",A.filter(e=>"winner"===e.status).length]}),(0,s.jsxs)("span",{children:["Reembolsados: ",A.filter(e=>"refunded"===e.status).length]})]})})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardIcon,children:(0,s.jsx)(i.oQC,{})}),(0,s.jsx)("h3",{children:"Dep\xf3sitos"}),(0,s.jsx)("p",{className:x().bigNumber,children:D.length}),(0,s.jsx)("p",{className:x().subtitle,children:"Total de dep\xf3sitos"}),(0,s.jsx)("div",{className:x().statusBreakdown,children:D.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["Retenidos: ",D.filter(e=>"held"===e.status).length]}),(0,s.jsxs)("span",{children:["Liberados: ",D.filter(e=>"released"===e.status).length]}),(0,s.jsxs)("span",{children:["Monto total: $",D.reduce((e,a)=>e+a.amount,0).toLocaleString()]})]})})]})]})}),"raffles"===z&&(0,s.jsxs)("div",{className:x().tableContainer,children:[(0,s.jsxs)("div",{className:x().tableHeader,children:[(0,s.jsx)("h2",{children:"user"===j.role?"Sorteos Disponibles":"Sorteos"}),"user"!==j.role&&(0,s.jsx)("button",{className:x().createBtn,onClick:()=>{S?ej(e=>({...e,shopId:S.id})):k.length>0&&ej(e=>({...e,shopId:k[0].id})),ed(!0)},children:"Crear Sorteo"})]}),"user"===j.role?0===Y.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay sorteos disponibles en este momento"}):(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginTop:"20px"},children:Y.map(e=>{var a,t,r,o;let i=e.totalTickets-e.soldTickets,n=e.totalTickets>0?e.soldTickets/e.totalTickets*100:0,l=(null===(a=e.product)||void 0===a?void 0:a.name)||(null===(t=I.find(a=>a.id===e.productId))||void 0===t?void 0:t.name)||"Producto desconocido",d=e.productValue||(null===(r=e.product)||void 0===r?void 0:r.value)||(null===(o=I.find(a=>a.id===e.productId))||void 0===o?void 0:o.value)||0,c=er[e.id]||1,h=c*d,u="active"===e.status&&i>0;return(0,s.jsxs)("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"20px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:"cancelled"===e.status||"finished"===e.status?.8:1},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"},children:[(0,s.jsx)("h3",{style:{marginTop:0,marginBottom:"10px",color:"#333",flex:1},children:l}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px",alignItems:"flex-end"},children:[(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status),fontSize:"12px",padding:"4px 8px",borderRadius:"4px",color:"#fff",fontWeight:"bold"},children:{active:"Activo",paused:"Pausado",sold_out:"Agotado",finished:"Finalizado",cancelled:"Cancelado",pending_approval:"Pendiente de Aprobaci\xf3n"}[e.status]||e.status}),"finished"===e.status&&e.winnerTicketId&&(0,s.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:ee.some(a=>a.raffleId===e.id&&a.id===e.winnerTicketId)?(0,s.jsx)("span",{style:{padding:"2px 6px",backgroundColor:"#4CAF50",color:"#fff",borderRadius:"4px",fontWeight:"bold"},children:"\uD83C\uDFC6 Ganaste!"}):(0,s.jsx)("span",{style:{color:"#999"},children:"Finalizado"})})]})]}),(0,s.jsxs)("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#1976d2",margin:"10px 0"},children:["S/. ",d.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsxs)("div",{style:{margin:"15px 0"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px"},children:[(0,s.jsx)("span",{children:"Tickets disponibles:"}),(0,s.jsxs)("strong",{style:{color:i>0?"#4CAF50":"#F44336"},children:[i.toLocaleString()," / ",e.totalTickets.toLocaleString()]})]}),(0,s.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden",marginTop:"5px"},children:(0,s.jsx)("div",{style:{width:"".concat(n,"%"),height:"100%",backgroundColor:n>=100?"#4CAF50":"#2196F3",transition:"width 0.3s ease"}})}),(0,s.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:[Math.round(n),"% vendido"]})]}),u&&(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Cantidad de tickets:"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:()=>eo({...er,[e.id]:Math.max(1,c-1)}),disabled:c<=1,className:x().quantityBtn,children:"-"}),(0,s.jsx)("input",{type:"number",min:"1",max:i,value:c,onChange:a=>{let t=parseInt(a.target.value)||1;eo({...er,[e.id]:Math.max(1,Math.min(t,i))})},style:{width:"70px",padding:"8px",border:"2px solid #e0e0e0",borderRadius:"6px",textAlign:"center",fontSize:"14px",fontWeight:"600"}}),(0,s.jsx)("button",{onClick:()=>eo({...er,[e.id]:Math.min(i,c+1)}),disabled:c>=i,className:x().quantityBtn,children:"+"})]}),(0,s.jsxs)("p",{style:{fontSize:"14px",marginTop:"10px",fontWeight:"bold"},children:["Total: S/. ",h.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsx)("button",{onClick:()=>eW(e.id),disabled:et===e.id||0===i,className:x().buyTicketsBtn,children:et===e.id?"Procesando...":"Comprar Tickets"})]}),!u&&(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"4px",textAlign:"center",color:"#666",fontSize:"14px"},children:["sold_out"===e.status&&"Este sorteo est\xe1 agotado","finished"===e.status&&"Este sorteo ha finalizado","cancelled"===e.status&&"Este sorteo ha sido cancelado","paused"===e.status&&"Este sorteo est\xe1 pausado","pending_approval"===e.status&&"Este sorteo est\xe1 pendiente de aprobaci\xf3n","active"!==e.status&&"sold_out"!==e.status&&"finished"!==e.status&&"cancelled"!==e.status&&"pending_approval"!==e.status&&"paused"!==e.status&&"No disponible para compra"]})]},e.id)})}):0===F.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay sorteos creados"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Producto"}),(0,s.jsx)("th",{children:"Valor"}),(0,s.jsx)("th",{children:"Total Tickets"}),(0,s.jsx)("th",{children:"Vendidos"}),(0,s.jsx)("th",{children:"Disponibles"}),(0,s.jsx)("th",{children:"Progreso"}),(0,s.jsx)("th",{children:"Estado"}),(0,s.jsx)("th",{children:"Acciones"}),(0,s.jsx)("th",{children:"Fecha Creaci\xf3n"})]})}),(0,s.jsx)("tbody",{children:F.map(e=>{var a,t,r,o;let n=e.totalTickets>0?e.soldTickets/e.totalTickets*100:0,l=e.totalTickets-e.soldTickets,d=(null===(a=e.product)||void 0===a?void 0:a.name)||(null===(t=I.find(a=>a.id===e.productId))||void 0===t?void 0:t.name)||"Producto desconocido",c=e.productValue||(null===(r=e.product)||void 0===r?void 0:r.value)||(null===(o=I.find(a=>a.id===e.productId))||void 0===o?void 0:o.value)||0;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:d})}),(0,s.jsxs)("td",{children:["S/. ",c.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsx)("td",{children:e.totalTickets.toLocaleString()}),(0,s.jsx)("td",{children:e.soldTickets.toLocaleString()}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{style:{color:l>0?"#4CAF50":"#F44336",fontWeight:"bold"},children:l.toLocaleString()})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:x().progressBar,children:[(0,s.jsx)("div",{className:x().progressFill,style:{width:"".concat(n,"%")}}),(0,s.jsxs)("span",{className:x().progressText,children:[Math.round(n),"%"]})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status)},children:{draft:"Borrador",pending_approval:"Pendiente de Aprobaci\xf3n",active:"Activo",paused:"Pausado",sold_out:"Agotado",finished:"Finalizado",cancelled:"Cancelado",rejected:"Rechazado"}[e.status]||e.status})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:["draft"===e.status&&"shop"===j.role&&(0,s.jsx)("button",{className:x().createBtn,onClick:()=>eG(e.id),disabled:eT===e.id,style:{padding:"6px 12px",fontSize:"12px",background:"linear-gradient(135deg, #4CAF50 0%, #388E3C 100%)",whiteSpace:"nowrap"},title:"Enviar este sorteo a aprobaci\xf3n para que los usuarios puedan comprar tickets",children:eT===e.id?"Enviando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i._rq,{style:{marginRight:"4px"}}),"Enviar a Aprobaci\xf3n"]})}),"active"===e.status&&"shop"===j.role&&(0,s.jsx)("button",{className:x().cancelBtn,onClick:()=>eL(e.id),disabled:eC===e.id,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"#FF9800",color:"white",borderColor:"#FF9800",whiteSpace:"nowrap"},children:eC===e.id?"Pausando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.R4s,{style:{marginRight:"4px"}}),"Pausar"]})}),"paused"===e.status&&"shop"===j.role&&(0,s.jsx)("button",{className:x().submitBtn,onClick:()=>eq(e.id),disabled:ew===e.id,style:{padding:"6px 12px",fontSize:"12px",whiteSpace:"nowrap"},children:ew===e.id?"Reanudando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.BVE,{style:{marginRight:"4px"}}),"Reanudar"]})}),"pending_approval"===e.status&&"shop"===j.role&&(0,s.jsx)("span",{style:{fontSize:"12px",color:"#FF9800",fontStyle:"italic",whiteSpace:"nowrap"},children:"⏳ Esperando aprobaci\xf3n"})]})}),(0,s.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"})})]},e.id)})})]})]}),"tickets"===z&&(0,s.jsxs)("div",{className:x().tableContainer,children:[(0,s.jsx)("h2",{children:"user"===j.role?"Mis Tickets":"Tickets"}),"user"===j.role?0===ee.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No has comprado tickets a\xfan. \xa1Participa en los sorteos disponibles!"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"N\xfamero de Ticket"}),(0,s.jsx)("th",{children:"Producto del Sorteo"}),(0,s.jsx)("th",{children:"Valor del Producto"}),(0,s.jsx)("th",{children:"Estado"}),(0,s.jsx)("th",{children:"Fecha de Compra"})]})}),(0,s.jsx)("tbody",{children:ee.map(e=>{var a,t,r,o;let i=F.find(a=>a.id===e.raffleId),n=(null==i?void 0:null===(a=i.product)||void 0===a?void 0:a.name)||(null===(t=I.find(e=>e.id===(null==i?void 0:i.productId)))||void 0===t?void 0:t.name)||"Producto desconocido",l=(null==i?void 0:i.productValue)||(null==i?void 0:null===(r=i.product)||void 0===r?void 0:r.value)||(null===(o=I.find(e=>e.id===(null==i?void 0:i.productId)))||void 0===o?void 0:o.value)||0,d=(null==i?void 0:i.status)==="finished"&&(null==i?void 0:i.winnerTicketId)===e.id,c=(null==i?void 0:i.status)==="finished";return(0,s.jsxs)("tr",{style:{backgroundColor:d?"#e8f5e9":"transparent"},children:[(0,s.jsxs)("td",{children:[(0,s.jsxs)("strong",{children:["#",e.number]}),d&&(0,s.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:"#4CAF50",color:"#fff",borderRadius:"4px",fontSize:"11px",fontWeight:"bold"},children:"\uD83C\uDFC6 GANADOR"})]}),(0,s.jsx)("td",{children:n}),(0,s.jsxs)("td",{children:["S/. ",l.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsx)("td",{children:d?(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#4CAF50",color:"#fff",fontWeight:"bold"},children:"\uD83C\uDFC6 Ganador"}):c?(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#9E9E9E",color:"#fff"},children:"Finalizado"}):(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status)},children:"sold"===e.status?"Comprado":"winner"===e.status?"Ganador":e.status})}),(0,s.jsx)("td",{children:e.purchasedAt?new Date(e.purchasedAt).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}):"-"})]},e.id)})})]}):0===A.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay tickets creados"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"N\xfamero"}),(0,s.jsx)("th",{children:"Sorteo ID"}),(0,s.jsx)("th",{children:"Estado"})]})}),(0,s.jsx)("tbody",{children:A.slice(0,50).map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsxs)("strong",{children:["#",e.number]})}),(0,s.jsxs)("td",{children:[e.raffleId.substring(0,8),"..."]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status)},children:e.status})})]},e.id))})]}),"user"!==j.role&&A.length>50&&(0,s.jsxs)("p",{className:x().moreItems,children:["... y ",A.length-50," m\xe1s"]})]}),"deposits"===z&&"user"!==j.role&&(0,s.jsxs)("div",{className:x().tableContainer,children:[(0,s.jsx)("h2",{children:"Dep\xf3sitos"}),0===D.length?(0,s.jsx)("p",{className:x().emptyMessage,children:"No hay dep\xf3sitos creados"}):(0,s.jsxs)("table",{className:x().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Monto"}),(0,s.jsx)("th",{children:"Sorteo ID"}),(0,s.jsx)("th",{children:"Estado"})]})}),(0,s.jsx)("tbody",{children:D.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsxs)("strong",{children:["$",e.amount.toLocaleString()]})}),(0,s.jsxs)("td",{children:[e.raffleId.substring(0,8),"..."]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:eJ(e.status)},children:e.status})})]},e.id))})]})]}),el&&(0,s.jsx)("div",{className:x().modalOverlay,onClick:eA,children:(0,s.jsxs)("div",{className:x().modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:x().modalHeader,children:[(0,s.jsx)("h2",{children:"Crear Nuevo Sorteo"}),(0,s.jsx)("button",{className:x().closeBtn,onClick:eA,children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:eP,className:x().form,children:[S?(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Tienda"}),(0,s.jsx)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",color:"#666"},children:(0,s.jsx)("strong",{children:S.name})})]}):(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"shopId",children:"Tienda *"}),(0,s.jsxs)("select",{id:"shopId",value:eg.shopId,onChange:e=>ej({...eg,shopId:e.target.value}),required:!0,className:x().input,children:[(0,s.jsx)("option",{value:"",children:"Selecciona una tienda"}),k.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productId",children:"Producto *"}),(0,s.jsxs)("select",{id:"productId",value:eg.productId,onChange:e=>{ej({...eg,productId:e.target.value})},required:!0,className:x().input,children:[(0,s.jsx)("option",{value:"",children:"Selecciona un producto"}),I.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - S/. ",e.value.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]},e.id))]})]}),eg.productId&&(()=>{let e=I.find(e=>e.id===eg.productId),a=e?Math.floor(2*e.value):0;return(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"totalTickets",children:"Cantidad de Tickets (opcional)"}),(0,s.jsx)("input",{type:"number",id:"totalTickets",min:"1",step:"1",value:eg.totalTickets,onChange:e=>ej({...eg,totalTickets:e.target.value}),className:x().input,placeholder:"Dejar vac\xedo para usar: ".concat(a.toLocaleString()," tickets (autom\xe1tico)")}),(0,s.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:eg.totalTickets?"Se crear\xe1n ".concat(parseInt(eg.totalTickets)||0," tickets personalizados."):"Si no especificas una cantidad, se crear\xe1n autom\xe1ticamente ".concat(a.toLocaleString()," tickets (valor del producto \xd7 2).")}),e&&(0,s.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#e3f2fd",borderRadius:"4px",fontSize:"12px",color:"#1976d2"},children:[(0,s.jsx)("strong",{children:"Producto seleccionado:"})," ",e.name,(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Valor:"})," S/. ",e.value.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2}),(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"C\xe1lculo autom\xe1tico:"})," ",e.value.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})," \xd7 2 = ",a.toLocaleString()," tickets"]})]})})(),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"specialConditions",children:"Condiciones Especiales"}),(0,s.jsx)("textarea",{id:"specialConditions",value:eg.specialConditions,onChange:e=>ej({...eg,specialConditions:e.target.value}),placeholder:"Ingresa condiciones especiales del sorteo (opcional)",className:x().textarea,rows:4})]}),(0,s.jsxs)("div",{className:x().formActions,children:[(0,s.jsx)("button",{type:"button",onClick:eA,className:x().cancelBtn,children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:eu,className:x().submitBtn,children:eu?"Creando...":"Crear Sorteo"})]})]})]})}),ec&&(0,s.jsx)("div",{className:x().modalOverlay,onClick:eR,children:(0,s.jsxs)("div",{className:x().modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:x().modalHeader,children:[(0,s.jsx)("h2",{children:"Crear Nuevo Producto"}),(0,s.jsx)("button",{className:x().closeBtn,onClick:eR,children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:eU,className:x().form,children:[S&&(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Tienda"}),(0,s.jsx)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",color:"#666"},children:(0,s.jsx)("strong",{children:S.name})})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productName",children:"Nombre del Producto *"}),(0,s.jsx)("input",{type:"text",id:"productName",value:ev.name,onChange:e=>ef({...ev,name:e.target.value}),required:!0,className:x().input,placeholder:"Ej: iPhone 15 Pro Max"})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productDescription",children:"Descripci\xf3n *"}),(0,s.jsx)("textarea",{id:"productDescription",value:ev.description,onChange:e=>ef({...ev,description:e.target.value}),required:!0,className:x().textarea,rows:4,placeholder:"Describe el producto en detalle..."})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productValue",children:"Valor del Producto (S/.) *"}),(0,s.jsx)("input",{type:"number",id:"productValue",step:"0.01",min:"0.01",value:ev.value||"",onChange:e=>ef({...ev,value:parseFloat(e.target.value)||0}),required:!0,className:x().input,placeholder:"0.00"})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productCategory",children:"Categor\xeda (opcional)"}),(0,s.jsx)("input",{type:"text",id:"productCategory",value:ev.category,onChange:e=>ef({...ev,category:e.target.value}),className:x().input,placeholder:"Ej: Electr\xf3nica, Ropa, Hogar..."})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productMainImage",children:"Imagen Principal (opcional)"}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("input",{type:"file",id:"productImageFile",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:eH,className:x().input,style:{marginBottom:"10px"},disabled:e_}),e_&&(0,s.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"Subiendo imagen..."}),ev.mainImage&&!e_&&(0,s.jsx)("div",{style:{marginTop:"10px"},children:(0,s.jsx)("img",{src:ev.mainImage,alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"4px",border:"1px solid #ddd"}})})]}),(0,s.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:"O ingresa una URL de imagen:"}),(0,s.jsx)("input",{type:"url",id:"productMainImage",value:ev.mainImage,onChange:e=>ef({...ev,mainImage:e.target.value}),className:x().input,placeholder:"https://ejemplo.com/imagen.jpg",style:{marginTop:"5px"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{style:{marginBottom:"10px",fontSize:"16px"},children:"Dimensiones (en cent\xedmetros) *"}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"15px"},children:"M\xe1ximo permitido: 15cm por cada dimensi\xf3n. Si alguna dimensi\xf3n excede este l\xedmite, se requerir\xe1 un dep\xf3sito de garant\xeda."}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px"},children:[(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productHeight",children:"Altura (cm)"}),(0,s.jsx)("input",{type:"number",id:"productHeight",step:"0.1",min:"0.1",max:"15",value:ev.height||"",onChange:e=>eB("height",e.target.value),required:!0,className:x().input})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productWidth",children:"Ancho (cm)"}),(0,s.jsx)("input",{type:"number",id:"productWidth",step:"0.1",min:"0.1",max:"15",value:ev.width||"",onChange:e=>eB("width",e.target.value),required:!0,className:x().input})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{htmlFor:"productDepth",children:"Profundidad (cm)"}),(0,s.jsx)("input",{type:"number",id:"productDepth",step:"0.1",min:"0.1",max:"15",value:ev.depth||"",onChange:e=>eB("depth",e.target.value),required:!0,className:x().input})]})]}),eb.length>0&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#ffebee",borderRadius:"4px",color:"#c62828"},children:[(0,s.jsx)("strong",{children:"Errores en las dimensiones:"}),(0,s.jsx)("ul",{style:{margin:"10px 0 0 20px"},children:eb.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]}),(ev.height>15||ev.width>15||ev.depth>15)&&0===eb.length&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fff3cd",borderRadius:"4px",color:"#856404"},children:["⚠️ Este producto requiere un dep\xf3sito de garant\xeda porque excede las dimensiones m\xe1ximas permitidas (15\xd715\xd715 cm).",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Dep\xf3sito requerido:"})," S/. ",ev.value.toFixed(2)]}),ev.height>0&&ev.width>0&&ev.depth>0&&ev.height<=15&&ev.width<=15&&ev.depth<=15&&(0,s.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"4px",color:"#155724"},children:"✓ Este producto no requiere dep\xf3sito de garant\xeda."})]}),(0,s.jsxs)("div",{className:x().formActions,children:[(0,s.jsx)("button",{type:"button",onClick:eR,className:x().cancelBtn,children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:em,className:x().submitBtn,children:em?"Creando...":"Crear Producto"})]})]})]})}),V&&G&&"admin"===j.role&&(0,s.jsx)("div",{className:x().modalOverlay,onClick:()=>{O(!1),M(null)},children:(0,s.jsxs)("div",{className:x().modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:x().modalHeader,children:[(0,s.jsx)("h2",{children:"Detalles del Sorteo"}),(0,s.jsx)("button",{className:x().closeBtn,onClick:()=>{O(!1),M(null)},children:"\xd7"})]}),(0,s.jsxs)("div",{className:x().form,style:{padding:"24px"},children:[(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Tienda"}),(0,s.jsx)("p",{style:{margin:"8px 0",color:"#333",fontSize:"16px",fontWeight:"600"},children:(null===(e=G.shop)||void 0===e?void 0:e.name)||"N/A"})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Producto"}),(0,s.jsx)("p",{style:{margin:"8px 0",color:"#333",fontSize:"16px",fontWeight:"600"},children:(null===(a=G.product)||void 0===a?void 0:a.name)||"Producto desconocido"})]}),(null===(t=G.product)||void 0===t?void 0:t.description)&&(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Descripci\xf3n"}),(0,s.jsx)("p",{style:{margin:"8px 0",color:"#666",fontSize:"14px"},children:G.product.description})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Valor del Producto"}),(0,s.jsxs)("p",{style:{margin:"8px 0",color:"#333",fontSize:"18px",fontWeight:"600"},children:["S/. ",(G.productValue||(null===(m=G.product)||void 0===m?void 0:m.value)||0).toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Total de Tickets"}),(0,s.jsx)("p",{style:{margin:"8px 0",color:"#333",fontSize:"16px"},children:G.totalTickets.toLocaleString()})]}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Requiere Dep\xf3sito"}),(0,s.jsx)("p",{style:{margin:"8px 0"},children:G.requiresDeposit?(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#FF9800"},children:"S\xed"}):(0,s.jsx)("span",{className:x().badge,style:{backgroundColor:"#4CAF50"},children:"No"})})]}),G.specialConditions&&(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Condiciones Especiales"}),(0,s.jsx)("p",{style:{margin:"8px 0",color:"#666",fontSize:"14px"},children:G.specialConditions})]}),(0,s.jsxs)("div",{className:x().formActions,children:[(0,s.jsx)("button",{className:x().cancelBtn,onClick:()=>{O(!1),M(null)},disabled:X===G.id||K===G.id,children:"Cerrar"}),(0,s.jsxs)("button",{className:x().cancelBtn,onClick:()=>H(!0),disabled:X===G.id||K===G.id,style:{backgroundColor:"#F44336",color:"white",borderColor:"#F44336"},children:[(0,s.jsx)(i.$Rx,{style:{marginRight:"6px"}}),"Rechazar"]}),(0,s.jsx)("button",{className:x().submitBtn,onClick:()=>eV(G.id),disabled:X===G.id||K===G.id,children:X===G.id?"Procesando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i._rq,{style:{marginRight:"6px"}}),"Aprobar"]})})]})]})]})}),W&&G&&"admin"===j.role&&(0,s.jsx)("div",{className:x().modalOverlay,onClick:()=>{H(!1),J("")},children:(0,s.jsxs)("div",{className:x().modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:x().modalHeader,children:[(0,s.jsx)("h2",{children:"Rechazar Sorteo"}),(0,s.jsx)("button",{className:x().closeBtn,onClick:()=>{H(!1),J("")},children:"\xd7"})]}),(0,s.jsxs)("div",{className:x().form,style:{padding:"24px"},children:[(0,s.jsx)("p",{style:{color:"#666",marginBottom:"20px",fontSize:"14px"},children:"Por favor, proporciona un motivo para rechazar este sorteo. La tienda podr\xe1 ver este motivo."}),(0,s.jsxs)("div",{className:x().formGroup,children:[(0,s.jsx)("label",{children:"Motivo del Rechazo *"}),(0,s.jsx)("textarea",{className:x().textarea,value:U,onChange:e=>J(e.target.value),placeholder:"Ingresa el motivo del rechazo...",disabled:K===G.id,rows:4})]}),(0,s.jsxs)("div",{className:x().formActions,children:[(0,s.jsx)("button",{className:x().cancelBtn,onClick:()=>{H(!1),J("")},disabled:K===G.id,children:"Cancelar"}),(0,s.jsx)("button",{className:x().submitBtn,onClick:()=>eO(G.id),disabled:K===G.id||!U.trim(),style:{backgroundColor:"#F44336",borderColor:"#F44336"},children:K===G.id?"Procesando...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$Rx,{style:{marginRight:"6px"}}),"Confirmar Rechazo"]})})]})]})]})})]})]}):(0,s.jsx)("div",{className:x().dashboard,children:(0,s.jsx)("div",{className:x().errorContainer,children:(0,s.jsx)("p",{children:"No autenticado"})})})}},9730:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var s=t(7821),r=t(8149),o=t(4542),i={src:"/_next/static/media/logo.4501bff6.png",height:1080,width:1080,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAz0lEQVR42mNgaFnGzAAFZnO3GZkDMYyPkDNtkpWbteVEyqr9/0FYdObmEwxc1bJwhXMOXTgx++D5/5P2nvk7Zd/Zv0uOXf4P5J+AyAb3Gi08eun/z99//i48cunf0uOX//3////vsuNX/jOE9QGti+g3Akr8BwlefPj839XHL8EKFhy5+J8hdiLEPTMOnDsBtOY/yHgg+++qk1f/zzt84QQDHGRMk7Wfv/2Ezuwt/5Vmbv6vNXvrCYbIfqgjp2+Ce7Nx23Gjms1HEd6csoEZAALjd67o7P0OAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},n=t(3616),l=t.n(n);function d(e){let{size:a="medium",showText:t=!0,className:n="",href:d="/"}=e,c=(0,s.jsxs)("div",{className:"".concat(l().logo," ").concat(l()[a]," ").concat(n),children:[(0,s.jsx)(r.default,{src:i,alt:"TIKETEA ONLINE",width:"small"===a?40:"medium"===a?60:80,height:"small"===a?40:"medium"===a?60:80,className:l().logoImage,priority:!0}),t&&(0,s.jsx)("span",{className:l().logoText,children:"TIKETEA ONLINE"})]});return d?(0,s.jsx)(o.default,{href:d,className:l().logoLink,children:c}):c}},6312:function(e,a,t){"use strict";t.d(a,{a:function(){return o}});var s=t(8078),r=t(7197);function o(){let[e,a]=(0,s.useState)(!1),t=(0,r.t)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("token");console.log("Token from localStorage:",e),e&&(console.log("Setting token in store:",e),t.setToken(e)),a(!0)},[]),{...t,isHydrated:e}}},3404:function(e,a,t){"use strict";t.d(a,{x:function(){return i}});var s=t(7147),r=t(9190);class o{async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,a){return this.client.get(e,a)}async post(e,a,t){return this.client.post(e,a,t)}async put(e,a){return this.client.put(e,a)}async delete(e){return this.client.delete(e)}constructor(){(0,s._)(this,"client",void 0),this.client=r.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let a=localStorage.getItem("token");console.log("API Request - Token from localStorage:",a),a?(e.headers.Authorization="Bearer ".concat(a),console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>{var a;return(null===(a=e.response)||void 0===a?void 0:a.status)===401&&localStorage.removeItem("token"),Promise.reject(e)})}}let i=new o},8075:function(e,a,t){"use strict";t.d(a,{d:function(){return r}});var s=t(3404);let r={getDashboardStats:async()=>(await s.x.get("/admin/dashboard/stats")).data,getPendingRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await s.x.get("/admin/raffles/pending",{params:{limit:e,offset:a}})).data},getActiveRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/raffles/active",{params:{limit:e,offset:a,...t&&{shopId:t}}})).data},getFinishedRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/raffles/finished",{params:{limit:e,offset:a,...t&&{shopId:t}}})).data},getRaffleDetail:async e=>(await s.x.get("/admin/raffles/".concat(e))).data,approveRaffle:async e=>(await s.x.put("/admin/raffles/".concat(e,"/approve"),{})).data,rejectRaffle:async(e,a)=>(await s.x.put("/admin/raffles/".concat(e,"/reject"),{reason:a})).data,cancelRaffle:async(e,a)=>(await s.x.put("/admin/raffles/".concat(e,"/cancel"),{reason:a})).data,executeRaffle:async e=>(await s.x.put("/admin/raffles/".concat(e,"/execute"),{})).data,getAllShops:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/shops",{params:{limit:e,offset:a,...t&&{status:t}}})).data},getShopDetail:async e=>(await s.x.get("/admin/shops/".concat(e))).data,changeShopStatus:async(e,a,t)=>(await s.x.put("/admin/shops/".concat(e,"/status"),{status:a,...t&&{reason:t}})).data,getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/users",{params:{limit:e,offset:a,...t&&{role:t}}})).data},getUserDetail:async e=>(await s.x.get("/admin/users/".concat(e))).data,getAuditLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/audit/logs",{params:{limit:e,offset:a,...t}})).data},getEntityAuditLogs:async(e,a)=>(await s.x.get("/admin/audit/entity/".concat(e,"/").concat(a))).data,getAllPayments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/payments",{params:{limit:e,offset:a,...(null==t?void 0:t.status)&&{status:t.status},...(null==t?void 0:t.userId)&&{userId:t.userId},...(null==t?void 0:t.raffleId)&&{raffleId:t.raffleId}}})).data},getPaymentDetail:async e=>(await s.x.get("/admin/payments/".concat(e))).data}},6943:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(3404);let r={async createPayment(e){try{return(await s.x.post("/payments",e)).data}catch(e){throw console.error("Error creating payment:",e),e}},async confirmPayment(e){try{return(await s.x.post("/payments/confirm",e)).data}catch(e){throw console.error("Error confirming payment:",e),e}},async failPayment(e,a){try{return(await s.x.post("/payments/".concat(e,"/fail"),{failureReason:a})).data}catch(e){throw console.error("Error failing payment:",e),e}},async getPaymentById(e){try{return(await s.x.get("/payments/".concat(e))).data}catch(e){throw console.error("Error fetching payment:",e),e}},async getMyPayments(){try{return(await s.x.get("/payments/user/me")).data}catch(e){throw console.error("Error fetching user payments:",e),e}},async getCompletedPaymentsByRaffleId(e){try{return(await s.x.get("/payments/raffle/".concat(e))).data}catch(e){throw console.error("Error fetching raffle payments:",e),e}},async refundPayment(e){try{return(await s.x.post("/payments/".concat(e,"/refund"),{})).data}catch(e){throw console.error("Error refunding payment:",e),e}}}},4767:function(e,a,t){"use strict";t.d(a,{m:function(){return r}});var s=t(3404);let r={getMyShop:async()=>(await s.x.get("/shops/my-shop/current")).data,getShopById:async e=>(await s.x.get("/shops/".concat(e))).data,updateShop:async(e,a)=>(await s.x.put("/shops/".concat(e),a)).data,getAllShops:async()=>(await s.x.get("/shops")).data,getVerifiedShops:async()=>(await s.x.get("/shops/verified")).data,getShopStatistics:async e=>(await s.x.get("/shops/".concat(e,"/statistics"))).data}},9298:function(e,a,t){"use strict";t.d(a,{T:function(){return r}});var s=t(3404);let r={async uploadProductImage(e){let a=new FormData;return a.append("image",e),(await s.x.post("/uploads/products/image",a,{headers:{"Content-Type":"multipart/form-data"}})).data.fileUrl},async deleteImage(e){await s.x.delete("/uploads/products/image/".concat(e))}}},7197:function(e,a,t){"use strict";t.d(a,{t:function(){return o}});var s=t(3020),r=t(4302);let o=(0,s.Ue)()((0,r.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:a=>e({user:a,isAuthenticated:!!a}),setToken:a=>{a?localStorage.setItem("token",a):localStorage.removeItem("token"),e({token:a})},setIsLoading:a=>e({isLoading:a}),setError:a=>e({error:a}),logout:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},2962:function(e){e.exports={dashboard:"dashboard_dashboard__gQFzy",loadingContainer:"dashboard_loadingContainer__DQmdc",errorContainer:"dashboard_errorContainer__2k3e0",header:"dashboard_header__0IQ3E",headerTitle:"dashboard_headerTitle__HIxZh",headerIcon:"dashboard_headerIcon__5FI23",headerContent:"dashboard_headerContent__3oqbj",userSection:"dashboard_userSection__BSeKt",userInfo:"dashboard_userInfo__J_gfr",userAvatar:"dashboard_userAvatar__AphB1",userDetails:"dashboard_userDetails__hitT1",userName:"dashboard_userName__CtC1T",email:"dashboard_email__98kzB",role:"dashboard_role__560J9",logoutBtn:"dashboard_logoutBtn__UgAUz",logoutIcon:"dashboard_logoutIcon__DdWYL",errorBanner:"dashboard_errorBanner__FsIo1",tabsContainer:"dashboard_tabsContainer__IbrIv",tab:"dashboard_tab__nvtkC",activeTab:"dashboard_activeTab__YbTNq",tabIcon:"dashboard_tabIcon__8vIXb",content:"dashboard_content__lgdH3",overviewGrid:"dashboard_overviewGrid__tJR4P",card:"dashboard_card__uY0FF",cardIcon:"dashboard_cardIcon__mzkui",bigNumber:"dashboard_bigNumber__u5eTh",subtitle:"dashboard_subtitle__xP_XA",statusBreakdown:"dashboard_statusBreakdown__vsufj",tableContainer:"dashboard_tableContainer__XIu3f",table:"dashboard_table__qUgyM",badge:"dashboard_badge__3z1pJ",progressBar:"dashboard_progressBar__PzDkJ",progressFill:"dashboard_progressFill__eBY_A",progressText:"dashboard_progressText__zzeEz",emptyMessage:"dashboard_emptyMessage__Iagxl",moreItems:"dashboard_moreItems__rmW6c",tableHeader:"dashboard_tableHeader__n9Xxd",createBtn:"dashboard_createBtn__6OW9J",modalOverlay:"dashboard_modalOverlay__b2eFY",modal:"dashboard_modal__qgAga",modalHeader:"dashboard_modalHeader__E15Ib",closeBtn:"dashboard_closeBtn__FCbJn",form:"dashboard_form__2eBG3",formGroup:"dashboard_formGroup__xr6t0",input:"dashboard_input__5d_PV",textarea:"dashboard_textarea__gVSwe",formActions:"dashboard_formActions__l_SfE",cancelBtn:"dashboard_cancelBtn__sU02m",submitBtn:"dashboard_submitBtn__SO014",buyTicketsBtn:"dashboard_buyTicketsBtn__jp_hU",quantityBtn:"dashboard_quantityBtn__cJA_m"}},3616:function(e){e.exports={logo:"Logo_logo__hia7S",logoLink:"Logo_logoLink__gM3sV",logoImage:"Logo_logoImage__daWgp",logoText:"Logo_logoText___NRG4",small:"Logo_small__digRM",medium:"Logo_medium__HI_Ok",large:"Logo_large__OX_7R",dark:"Logo_dark__vov1N"}}},function(e){e.O(0,[9286,9134,2489,4755,4542,6153,7115,2364,1744],function(){return e(e.s=2449)}),_N_E=e.O()}]);
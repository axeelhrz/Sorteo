(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{38:function(e,a,t){Promise.resolve().then(t.bind(t,2621))},2621:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var s=t(7821),n=t(8078),i=t(7851),r=t(8075),d=t(865),c=t.n(d);function l(){let[e,a]=(0,n.useState)(null),[t,d]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{d(!0);let e=await r.d.getDashboardStats();a(e),o(null)}catch(a){var e,t;o((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al cargar estad\xedsticas"),console.error("Error fetching dashboard stats:",a)}finally{d(!1)}})()},[]),t)?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,s.jsx)("p",{children:"Cargando estad\xedsticas..."})}):l?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#e74c3c"},children:(0,s.jsxs)("p",{children:["Error: ",l]})}):e?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsx)("h2",{style:{margin:"0 0 8px 0",color:"#333",fontSize:"28px",fontWeight:"700"},children:"Resumen General"}),(0,s.jsx)("p",{style:{margin:"0",color:"#666",fontSize:"14px"},children:"Estad\xedsticas y m\xe9tricas de la plataforma"})]}),(0,s.jsxs)("div",{className:c().dashboardGrid,children:[(0,s.jsxs)("div",{className:c().statCard,children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.WY8,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Usuarios Registrados"})]}),(0,s.jsx)("div",{className:c().value,children:e.users.total})]}),(0,s.jsxs)("div",{className:c().statCard,children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.x8h,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Tiendas Totales"})]}),(0,s.jsx)("div",{className:c().value,children:e.shops.total})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().warning),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.TCC,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Tiendas Pendientes"})]}),(0,s.jsx)("div",{className:c().value,children:e.shops.pending})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().success),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i._rq,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Tiendas Verificadas"})]}),(0,s.jsx)("div",{className:c().value,children:e.shops.verified})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().danger),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.$Rx,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Tiendas Bloqueadas"})]}),(0,s.jsx)("div",{className:c().value,children:e.shops.blocked})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().warning),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.TCC,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Sorteos Pendientes"})]}),(0,s.jsx)("div",{className:c().value,children:e.raffles.pending})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().success),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.KCr,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Sorteos Activos"})]}),(0,s.jsx)("div",{className:c().value,children:e.raffles.active})]}),(0,s.jsxs)("div",{className:c().statCard,children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i._rq,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Sorteos Finalizados"})]}),(0,s.jsx)("div",{className:c().value,children:e.raffles.finished})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().danger),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.$Rx,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Sorteos Rechazados"})]}),(0,s.jsx)("div",{className:c().value,children:e.raffles.rejected})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().danger),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.$Rx,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Sorteos Cancelados"})]}),(0,s.jsx)("div",{className:c().value,children:e.raffles.cancelled})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().success),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.E25,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Tickets Vendidos"})]}),(0,s.jsx)("div",{className:c().value,children:e.tickets.totalSold})]}),(0,s.jsxs)("div",{className:c().statCard,children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.XiQ,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Total de Pagos"})]}),(0,s.jsx)("div",{className:c().value,children:e.payments.total})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().success),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i._rq,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Pagos Completados"})]}),(0,s.jsx)("div",{className:c().value,children:e.payments.completed})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().warning),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.TCC,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Pagos Pendientes"})]}),(0,s.jsx)("div",{className:c().value,children:e.payments.pending})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().danger),children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.$Rx,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Pagos Fallidos"})]}),(0,s.jsx)("div",{className:c().value,children:e.payments.failed})]}),(0,s.jsxs)("div",{className:"".concat(c().statCard," ").concat(c().success),style:{gridColumn:"span 2"},children:[(0,s.jsxs)("div",{className:c().statHeader,children:[(0,s.jsx)(i.oQC,{className:c().statIcon}),(0,s.jsx)("h3",{children:"Ingresos Totales"})]}),(0,s.jsxs)("div",{className:c().value,style:{fontSize:"32px",color:"#27ae60"},children:["S/. ",e.payments.totalRevenue.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"40px",padding:"28px",background:"white",borderRadius:"16px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",borderLeft:"4px solid #667eea"},children:[(0,s.jsx)("h3",{style:{color:"#333",marginTop:0,fontSize:"20px",fontWeight:"600",marginBottom:"12px"},children:"Acciones R\xe1pidas"}),(0,s.jsx)("p",{style:{color:"#666",marginBottom:"20px",fontSize:"14px",lineHeight:"1.6"},children:"Accede a las diferentes secciones del panel desde el men\xfa lateral para:"}),(0,s.jsxs)("ul",{style:{color:"#666",lineHeight:"2",fontSize:"14px",paddingLeft:"20px"},children:[(0,s.jsx)("li",{children:"Revisar y aprobar/rechazar sorteos pendientes de aprobaci\xf3n"}),(0,s.jsx)("li",{children:"Monitorear sorteos activos y su progreso"}),(0,s.jsx)("li",{children:"Verificar sorteos finalizados y ganadores"}),(0,s.jsx)("li",{children:"Gestionar el estado de las tiendas"}),(0,s.jsx)("li",{children:"Ver informaci\xf3n de usuarios registrados"}),(0,s.jsx)("li",{children:"Consultar el registro de auditor\xeda de acciones administrativas"})]})]})]}):(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,s.jsx)("p",{children:"No hay datos disponibles"})})}},3404:function(e,a,t){"use strict";t.d(a,{x:function(){return r}});var s=t(7147),n=t(9190);class i{async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,a){return this.client.get(e,a)}async post(e,a,t){return this.client.post(e,a,t)}async put(e,a){return this.client.put(e,a)}async delete(e){return this.client.delete(e)}constructor(){(0,s._)(this,"client",void 0),this.client=n.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let a=localStorage.getItem("token");console.log("API Request - Token from localStorage:",a),a?(e.headers.Authorization="Bearer ".concat(a),console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>{var a;return(null===(a=e.response)||void 0===a?void 0:a.status)===401&&localStorage.removeItem("token"),Promise.reject(e)})}}let r=new i},8075:function(e,a,t){"use strict";t.d(a,{d:function(){return n}});var s=t(3404);let n={getDashboardStats:async()=>(await s.x.get("/admin/dashboard/stats")).data,getPendingRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await s.x.get("/admin/raffles/pending",{params:{limit:e,offset:a}})).data},getActiveRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/raffles/active",{params:{limit:e,offset:a,...t&&{shopId:t}}})).data},getFinishedRaffles:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/raffles/finished",{params:{limit:e,offset:a,...t&&{shopId:t}}})).data},getRaffleDetail:async e=>(await s.x.get("/admin/raffles/".concat(e))).data,approveRaffle:async e=>(await s.x.put("/admin/raffles/".concat(e,"/approve"),{})).data,rejectRaffle:async(e,a)=>(await s.x.put("/admin/raffles/".concat(e,"/reject"),{reason:a})).data,cancelRaffle:async(e,a)=>(await s.x.put("/admin/raffles/".concat(e,"/cancel"),{reason:a})).data,executeRaffle:async e=>(await s.x.put("/admin/raffles/".concat(e,"/execute"),{})).data,getAllShops:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/shops",{params:{limit:e,offset:a,...t&&{status:t}}})).data},getShopDetail:async e=>(await s.x.get("/admin/shops/".concat(e))).data,changeShopStatus:async(e,a,t)=>(await s.x.put("/admin/shops/".concat(e,"/status"),{status:a,...t&&{reason:t}})).data,getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/users",{params:{limit:e,offset:a,...t&&{role:t}}})).data},getUserDetail:async e=>(await s.x.get("/admin/users/".concat(e))).data,getAuditLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/audit/logs",{params:{limit:e,offset:a,...t}})).data},getEntityAuditLogs:async(e,a)=>(await s.x.get("/admin/audit/entity/".concat(e,"/").concat(a))).data,getAllPayments:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return(await s.x.get("/admin/payments",{params:{limit:e,offset:a,...(null==t?void 0:t.status)&&{status:t.status},...(null==t?void 0:t.userId)&&{userId:t.userId},...(null==t?void 0:t.raffleId)&&{raffleId:t.raffleId}}})).data},getPaymentDetail:async e=>(await s.x.get("/admin/payments/".concat(e))).data}},865:function(e){e.exports={adminContainer:"admin_adminContainer__Eh90a",sidebar:"admin_sidebar__mXGAh",closed:"admin_closed__0toWD",sidebarHeader:"admin_sidebarHeader__R_jJT",toggleBtn:"admin_toggleBtn__xfw93",sidebarNav:"admin_sidebarNav__WZtZQ",navItem:"admin_navItem__DShOG",navIcon:"admin_navIcon__3O_Ni",sidebarFooter:"admin_sidebarFooter__3hkih",userInfo:"admin_userInfo__LVYmW",logoutBtn:"admin_logoutBtn__XlQ6d",mainContent:"admin_mainContent__LKiLk",topBar:"admin_topBar__NC1F1",content:"admin_content__q9bCm",unauthorized:"admin_unauthorized__IQ2li",unauthorizedContent:"admin_unauthorizedContent__WVcyS",dashboardGrid:"admin_dashboardGrid__eoxej",statCard:"admin_statCard__x3Xg1",warning:"admin_warning__AVQfv",danger:"admin_danger__sptcS",success:"admin_success__1eje9",info:"admin_info__tS_KQ",statHeader:"admin_statHeader__eYJkD",statIcon:"admin_statIcon__S4aUI",value:"admin_value__TMFsT",tableContainer:"admin_tableContainer__GVxxO",tableHeader:"admin_tableHeader___8L4K",filterContainer:"admin_filterContainer__6WkIk",filterSelect:"admin_filterSelect__OG5aD",filterInput:"admin_filterInput__qeIwH",table:"admin_table__Wi_BD",tableHead:"admin_tableHead__HUGym",tableHeadCell:"admin_tableHeadCell__aGufP",tableCell:"admin_tableCell__sFHBM",tableBodyRow:"admin_tableBodyRow__arYS1",statusBadge:"admin_statusBadge__6Bfmv",pending:"admin_pending__ESWta",active:"admin_active__3D2D6",finished:"admin_finished__w5SWW",rejected:"admin_rejected__lb5oK",cancelled:"admin_cancelled__Qaxdn",verified:"admin_verified__eRcoj",blocked:"admin_blocked__bylJi",actionButtons:"admin_actionButtons__n1G3j",btn:"admin_btn__lDLne",btnPrimary:"admin_btnPrimary__uvegQ",btnSuccess:"admin_btnSuccess__IODau",btnDanger:"admin_btnDanger__76sY_",btnWarning:"admin_btnWarning__5Fqhx",btnSecondary:"admin_btnSecondary__assgO",modal:"admin_modal__DNvY3",open:"admin_open__bBxNv",modalContent:"admin_modalContent__tBgZX",modalHeader:"admin_modalHeader__frRax",modalBody:"admin_modalBody__6pNmP",modalFooter:"admin_modalFooter__jGFWx",formGroup:"admin_formGroup__W0nf_",pagination:"admin_pagination__0kMUt",paginationBtn:"admin_paginationBtn__oojru"}},8416:function(e,a,t){"use strict";t.d(a,{w_:function(){return o}});var s=t(8078),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=s.createContext&&s.createContext(n),r=["attr","size","title"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,s)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach(function(a){var s,n;s=a,n=t[a],(s=function(e){var a=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,a||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:a+""}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function o(e){return a=>s.createElement(m,d({attr:l({},e.attr)},a),function e(a){return a&&a.map((a,t)=>s.createElement(a.tag,l({key:t},a.attr),e(a.child)))}(e.child))}function m(e){var a=a=>{var t,{attr:n,size:i,title:c}=e,o=function(e,a){if(null==e)return{};var t,s,n=function(e,a){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(a.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,r),m=i||a.size||"1em";return a.className&&(t=a.className),e.className&&(t=(t?t+" ":"")+e.className),s.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,o,{className:t,style:l(l({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&s.createElement("title",null,c),e.children)};return void 0!==i?s.createElement(i.Consumer,null,e=>a(e)):a(n)}}},function(e){e.O(0,[9286,9134,2489,7115,2364,1744],function(){return e(e.s=38)}),_N_E=e.O()}]);
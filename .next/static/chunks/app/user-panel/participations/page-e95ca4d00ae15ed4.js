(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9200],{5436:function(a,i,t){Promise.resolve().then(t.bind(t,6118))},6118:function(a,i,t){"use strict";t.r(i),t.d(i,{default:function(){return l}});var e=t(7821),s=t(8078),r=t(4542),c=t(6201),n=t(4944),o=t(3988),p=t.n(o);function l(){let[a,i]=(0,s.useState)([]),[t,o]=(0,s.useState)(!0),[l,d]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{try{o(!0);let a=await n.m.getParticipations();i(a)}catch(a){console.error("Error fetching participations:",a),d("Error al cargar tus participaciones")}finally{o(!1)}})()},[]),t)?(0,e.jsx)(c.Z,{activeSection:"participations",children:(0,e.jsx)("div",{className:p().loadingContainer,children:(0,e.jsx)("p",{children:"Cargando participaciones..."})})}):(0,e.jsx)(c.Z,{activeSection:"participations",children:(0,e.jsxs)("div",{className:p().container,children:[(0,e.jsxs)("div",{className:p().header,children:[(0,e.jsx)("h1",{className:p().title,children:"\uD83C\uDFAB Mis Participaciones"}),(0,e.jsx)("p",{className:p().subtitle,children:"Aqu\xed puedes ver todos los sorteos en los que has participado"})]}),l&&(0,e.jsx)("div",{className:p().errorBanner,children:l}),0===a.length?(0,e.jsxs)("div",{className:p().emptyState,children:[(0,e.jsx)("p",{className:p().emptyIcon,children:"\uD83C\uDFB0"}),(0,e.jsx)("h2",{children:"No tienes participaciones a\xfan"}),(0,e.jsx)("p",{children:"Comienza a comprar tickets en nuestros sorteos"}),(0,e.jsx)(r.default,{href:"/sorteos",className:p().ctaButton,children:"Ver Sorteos Disponibles"})]}):(0,e.jsx)("div",{className:p().participationsGrid,children:a.map(a=>{let i=(a.soldTickets||0)/(a.totalTickets||1)*100;return(0,e.jsxs)("div",{className:p().participationCard,children:[a.raffleImage&&(0,e.jsx)("div",{className:p().cardImage,children:(0,e.jsx)("img",{src:a.raffleImage,alt:a.raffleTitle})}),(0,e.jsxs)("div",{className:p().cardContent,children:[(0,e.jsxs)("div",{className:p().cardHeader,children:[(0,e.jsx)("h3",{className:p().cardTitle,children:a.raffleTitle}),(0,e.jsxs)("span",{className:"".concat(p().statusBadge," ").concat(p()[a.raffleStatus]),children:["active"===a.raffleStatus&&"\uD83D\uDD34 Activo","sold_out"===a.raffleStatus&&"\uD83D\uDFE1 Agotado","finished"===a.raffleStatus&&"✅ Finalizado","cancelled"===a.raffleStatus&&"❌ Cancelado"]})]}),(0,e.jsx)("p",{className:p().shopName,children:a.shopName}),(0,e.jsxs)("div",{className:p().ticketsInfo,children:[(0,e.jsxs)("p",{className:p().ticketCount,children:[(0,e.jsx)("strong",{children:a.ticketCount})," tickets comprados"]}),(0,e.jsxs)("p",{className:p().purchaseDate,children:["Comprado: ",new Date(a.purchaseDate).toLocaleDateString()]})]}),"active"===a.raffleStatus&&(0,e.jsxs)("div",{className:p().progressSection,children:[(0,e.jsx)("div",{className:p().progressBar,children:(0,e.jsx)("div",{className:p().progressFill,style:{width:"".concat(i,"%")}})}),(0,e.jsxs)("p",{className:p().progressText,children:[a.ticketsRemaining," tickets restantes"]})]}),a.isWinner&&(0,e.jsxs)("div",{className:p().winnerBadge,children:["\uD83C\uDFC6 \xa1GANADOR! Ticket #",a.winnerTicketNumber]}),"finished"===a.raffleStatus&&!a.isWinner&&(0,e.jsxs)("div",{className:p().lostBadge,children:["Ticket ganador: #",a.winnerTicketNumber]}),(0,e.jsx)(r.default,{href:"/user-panel/participations/".concat(a.raffleId),className:p().viewDetailsButton,children:"Ver Detalles Completos →"})]})]},a.raffleId)})})]})})}},3988:function(a){a.exports={container:"participations_container__UGhj_",header:"participations_header__s0c4M",title:"participations_title__m4hTs",subtitle:"participations_subtitle__LPp3A",loadingContainer:"participations_loadingContainer__Rf8AM",errorBanner:"participations_errorBanner__7pZO3",emptyState:"participations_emptyState__pOx_5",emptyIcon:"participations_emptyIcon__Bm_y2",ctaButton:"participations_ctaButton__4GuST",participationsGrid:"participations_participationsGrid__cLi4g",participationCard:"participations_participationCard__MvAI2",cardImage:"participations_cardImage__HaqF3",cardContent:"participations_cardContent__eISxb",cardHeader:"participations_cardHeader__I2nMX",cardTitle:"participations_cardTitle__E5ScV",statusBadge:"participations_statusBadge__VCrUf",active:"participations_active__zmAUP",sold_out:"participations_sold_out__Lt_L3",finished:"participations_finished__1imUF",cancelled:"participations_cancelled__vkVtO",shopName:"participations_shopName__CzKXS",ticketsInfo:"participations_ticketsInfo__en9g5",ticketCount:"participations_ticketCount__6KwlD",purchaseDate:"participations_purchaseDate___Mi1m",progressSection:"participations_progressSection__dIMlp",progressBar:"participations_progressBar__IHM4w",progressFill:"participations_progressFill__MS_rV",progressText:"participations_progressText__D__H0",winnerBadge:"participations_winnerBadge__gPSWC",lostBadge:"participations_lostBadge__f0Keu",viewDetailsButton:"participations_viewDetailsButton__eBytS"}}},function(a){a.O(0,[8797,9134,2489,4755,4542,1105,7115,2364,1744],function(){return a(a.s=5436)}),_N_E=a.O()}]);
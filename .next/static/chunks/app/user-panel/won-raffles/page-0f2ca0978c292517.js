(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7273],{1220:function(e,n,a){Promise.resolve().then(a.bind(a,3023))},3023:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return d}});var r=a(7821),s=a(8078),t=a(4542),o=a(6201),i=a(4944),l=a(7495),c=a.n(l);function d(){let[e,n]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[d,f]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{try{l(!0);let e=await i.m.getWonRaffles();n(e)}catch(e){console.error("Error fetching won raffles:",e),f("Error al cargar tus sorteos ganados")}finally{l(!1)}})()},[]),a)?(0,r.jsx)(o.Z,{activeSection:"won-raffles",children:(0,r.jsx)("div",{className:c().loadingContainer,children:(0,r.jsx)("p",{children:"Cargando sorteos ganados..."})})}):(0,r.jsx)(o.Z,{activeSection:"won-raffles",children:(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsxs)("div",{className:c().header,children:[(0,r.jsx)("h1",{className:c().title,children:"\uD83C\uDFC6 Mis Sorteos Ganados"}),(0,r.jsx)("p",{className:c().subtitle,children:"Aqu\xed puedes ver los sorteos que has ganado y el estado de entrega"})]}),d&&(0,r.jsx)("div",{className:c().errorBanner,children:d}),0===e.length?(0,r.jsxs)("div",{className:c().emptyState,children:[(0,r.jsx)("p",{className:c().emptyIcon,children:"\uD83C\uDF81"}),(0,r.jsx)("h2",{children:"A\xfan no has ganado ning\xfan sorteo"}),(0,r.jsx)("p",{children:"\xa1Sigue participando! Tu pr\xf3ximo premio podr\xeda estar cerca"}),(0,r.jsx)(t.default,{href:"/sorteos",className:c().ctaButton,children:"Ver Sorteos Disponibles"})]}):(0,r.jsx)("div",{className:c().wonRafflesList,children:e.map(e=>(0,r.jsxs)("div",{className:c().wonRaffleCard,children:[e.raffleImage&&(0,r.jsx)("div",{className:c().cardImage,children:(0,r.jsx)("img",{src:e.raffleImage,alt:e.raffleTitle})}),(0,r.jsxs)("div",{className:c().cardContent,children:[(0,r.jsxs)("div",{className:c().cardHeader,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:c().cardTitle,children:e.raffleTitle}),(0,r.jsx)("p",{className:c().shopName,children:e.shopName})]}),(0,r.jsxs)("div",{className:"".concat(c().deliveryBadge," ").concat(c()[e.deliveryStatus]),children:["pending"===e.deliveryStatus&&"⏳ Pendiente","in_process"===e.deliveryStatus&&"\uD83D\uDCE6 En Proceso","delivered"===e.deliveryStatus&&"✅ Entregado"]})]}),(0,r.jsxs)("div",{className:c().winnerInfo,children:[(0,r.jsxs)("p",{className:c().winnerTicket,children:[(0,r.jsx)("strong",{children:"Ticket Ganador:"})," #",e.ticketNumber]}),(0,r.jsxs)("p",{className:c().winDate,children:["Ganado: ",new Date(e.winDate).toLocaleDateString()]})]}),e.productDescription&&(0,r.jsx)("p",{className:c().productDescription,children:e.productDescription}),(0,r.jsxs)("div",{className:c().shopContact,children:[e.shopEmail&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.shopEmail]}),e.shopPhone&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Tel\xe9fono:"})," ",e.shopPhone]})]}),e.deliveryEvidence&&(0,r.jsxs)("div",{className:c().evidenceSection,children:[(0,r.jsx)("h4",{children:"Evidencia de Entrega"}),e.deliveryEvidence.photoUrl&&(0,r.jsx)("p",{children:(0,r.jsx)("a",{href:e.deliveryEvidence.photoUrl,target:"_blank",rel:"noopener noreferrer",children:"\uD83D\uDCF8 Ver Foto de Entrega"})}),e.deliveryEvidence.conversationScreenshot&&(0,r.jsx)("p",{children:(0,r.jsx)("a",{href:e.deliveryEvidence.conversationScreenshot,target:"_blank",rel:"noopener noreferrer",children:"\uD83D\uDCAC Ver Conversaci\xf3n"})}),e.deliveryEvidence.notes&&(0,r.jsx)("p",{className:c().notes,children:e.deliveryEvidence.notes})]}),(0,r.jsxs)("div",{className:c().actions,children:["delivered"!==e.deliveryStatus&&e.canCreateComplaint&&(0,r.jsx)(t.default,{href:"/user-panel/support?raffleId=".concat(e.raffleId),className:c().complaintButton,children:"\uD83D\uDCCB Abrir Reclamo"}),"delivered"!==e.deliveryStatus&&(0,r.jsx)("button",{className:c().markReceivedButton,onClick:()=>{},children:"✅ Marcar como Recibido"}),(0,r.jsx)(t.default,{href:"/user-panel/won-raffles/".concat(e.raffleId),className:c().viewDetailsButton,children:"Ver Detalles →"})]})]})]},e.raffleId))})]})})}},7495:function(e){e.exports={container:"won-raffles_container__zbXI_",header:"won-raffles_header__2QGQ9",title:"won-raffles_title__gCIFG",subtitle:"won-raffles_subtitle__ecaAt",loadingContainer:"won-raffles_loadingContainer__s6Ejs",errorBanner:"won-raffles_errorBanner__QPuLp",emptyState:"won-raffles_emptyState__TVemM",emptyIcon:"won-raffles_emptyIcon__sc_GU",ctaButton:"won-raffles_ctaButton__umh1t",wonRafflesList:"won-raffles_wonRafflesList__BBWfO",wonRaffleCard:"won-raffles_wonRaffleCard__SdYHM",cardImage:"won-raffles_cardImage__ZcaeT",cardContent:"won-raffles_cardContent__A7VJe",cardHeader:"won-raffles_cardHeader__Rk7ht",cardTitle:"won-raffles_cardTitle__qpAxQ",shopName:"won-raffles_shopName__yQAY8",deliveryBadge:"won-raffles_deliveryBadge__sU7hB",pending:"won-raffles_pending__IrDrv",in_process:"won-raffles_in_process__jsgfk",delivered:"won-raffles_delivered__QfZ7G",winnerInfo:"won-raffles_winnerInfo__L3GWi",winnerTicket:"won-raffles_winnerTicket__ov6b2",winDate:"won-raffles_winDate__L1IPX",productDescription:"won-raffles_productDescription__9xr_w",shopContact:"won-raffles_shopContact__9cb1f",evidenceSection:"won-raffles_evidenceSection__mGYkf",notes:"won-raffles_notes__j7Z3_",actions:"won-raffles_actions__UnqKg",complaintButton:"won-raffles_complaintButton__4JQHR",markReceivedButton:"won-raffles_markReceivedButton__LaHI4",viewDetailsButton:"won-raffles_viewDetailsButton__INBZO"}}},function(e){e.O(0,[8797,2907,4183,9134,1044,2489,8641,4755,4542,1105,7115,2364,1744],function(){return e(e.s=1220)}),_N_E=e.O()}]);
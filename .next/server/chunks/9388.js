exports.id=9388,exports.ids=[9388],exports.modules={57800:(e,t,a)=>{Promise.resolve().then(a.bind(a,81364))},4104:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,33817,23)),Promise.resolve().then(a.t.bind(a,19323,23)),Promise.resolve().then(a.t.bind(a,52204,23)),Promise.resolve().then(a.t.bind(a,60820,23)),Promise.resolve().then(a.t.bind(a,55915,23)),Promise.resolve().then(a.t.bind(a,81611,23))},81364:(e,t,a)=>{"use strict";function r(){return null}a.d(t,{default:()=>r}),a(5507),a(82986),a(26379)},2345:(e,t,a)=>{"use strict";a.d(t,{i:()=>l});var r=a(19899);a(5507);var n=a(76153),o=a(38442);function l({children:e,requiredRole:t}){(0,n.useRouter)();let{user:a,isAuthenticated:l}=(0,o.t)();return l&&a?t&&a.role!==t?r.jsx("div",{children:"No tienes permiso para acceder a esta p\xe1gina"}):r.jsx(r.Fragment,{children:e}):r.jsx("div",{children:"Cargando..."})}},26028:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var r=a(19899),n=a(10195),o=a.n(n);function l({shop:e}){return r.jsx("div",{className:o().shopHeader,children:(0,r.jsxs)("div",{className:o().shopHeaderContent,children:[e.logo&&r.jsx("img",{src:e.logo,alt:e.name,className:o().shopLogo}),(0,r.jsxs)("div",{className:o().shopHeaderInfo,children:[r.jsx("h1",{className:o().shopName,children:e.name}),r.jsx("p",{className:o().shopDescription,children:e.description})]})]})})}},84499:(e,t,a)=>{"use strict";a.d(t,{G:()=>s});var r=a(19899),n=a(54175),o=a(76153),l=a(10195),i=a.n(l);function s({isBlocked:e=!1}){let t=(0,o.usePathname)();return r.jsx("aside",{className:i().sidebar,children:(0,r.jsxs)("nav",{className:i().sidebarNav,children:[r.jsx(n.default,{href:"/panel/tienda",className:`${i().navLink} ${"/panel/tienda"===t?i().active:""}`,children:"\uD83D\uDCCB Mi tienda"}),r.jsx(n.default,{href:"/panel/productos",className:`${i().navLink} ${"/panel/productos"===t?i().active:""}`,children:"\uD83D\uDCE6 Mis productos"}),r.jsx(n.default,{href:"/panel/sorteos",className:`${i().navLink} ${"/panel/sorteos"===t?i().active:""}`,children:"\uD83C\uDFB2 Mis sorteos"}),!e&&r.jsx(n.default,{href:"/panel/sorteos/crear",className:`${i().navLink} ${"/panel/sorteos/crear"===t?i().active:""}`,children:"➕ Crear sorteo"})]})})}},10752:(e,t,a)=>{"use strict";a.d(t,{x:()=>l});var r=a(20751);let n=(()=>{let e="http://localhost:3001/api";if(!e.startsWith("http://")&&!e.startsWith("https://"))return console.warn("⚠️ NEXT_PUBLIC_API_URL no tiene protocolo, usando https://"),`https://${e}`;if(!e.endsWith("/api")){let t=e.endsWith("/")?e.slice(0,-1):e;return`${t}/api`}return e})();class o{client;constructor(){this.client=r.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let t=localStorage.getItem("token");console.log("API Request - Token from localStorage:",t),t?(e.headers.Authorization=`Bearer ${t}`,console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e)))}async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,t){return this.client.get(e,t)}async post(e,t,a){return this.client.post(e,t,a)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}}let l=new o},26379:(e,t,a)=>{"use strict";let r;a.d(t,{I8:()=>c,db:()=>s});var n=a(3827),o=a(82986),l=a(31027),i=a(80549);r=0===(0,n.C6)().length?(0,n.ZF)({apiKey:"AIzaSyCROuDbFChzWrRSXQ42lih56oLEA1hjne4",authDomain:"sorteo-b8fb0.firebaseapp.com",projectId:"sorteo-b8fb0",storageBucket:"sorteo-b8fb0.firebasestorage.app",messagingSenderId:"58395659334",appId:"1:58395659334:web:58c8f46dab380710eb4e47"}):(0,n.C6)()[0];let s=(0,o.ad)(r);(0,l.cF)(r);let c=(0,i.v0)(r)},16012:(e,t,a)=>{"use strict";a.d(t,{Y:()=>s});var r=a(80549),n=a(82986),o=a(26379),l=a(1260);let i=async e=>{try{let t=await (0,n.getDoc)((0,n.doc)(o.db,"users",e.uid));if(!t.exists())return{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:l.i.USER};let a=t.data();return{id:e.uid,name:a.name||e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:a.role||l.i.USER}}catch(t){return console.error("Error converting Firebase user:",t),{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:l.i.USER}}},s={async register(e){try{let t=(await (0,r.Xb)(o.I8,e.email,e.password)).user;e.name&&await (0,r.ck)(t,{displayName:e.name});let a=await t.getIdToken(),s={name:e.name,email:e.email,role:e.role,createdAt:(0,n.serverTimestamp)(),updatedAt:(0,n.serverTimestamp)()};if(e.role===l.i.SHOP&&e.shopName){let a={userId:t.uid,name:e.shopName,description:"",status:"pending",createdAt:(0,n.serverTimestamp)(),updatedAt:(0,n.serverTimestamp)()},r=await (0,n.ET)((0,n.collection)(o.db,"shops"),a);s.shopId=r.id,await (0,n.pl)((0,n.doc)(o.db,"users",t.uid),s)}else await (0,n.pl)((0,n.doc)(o.db,"users",t.uid),s);return{user:await i(t),token:a}}catch(t){console.error("Error registering user:",t);let e="Error al registrar usuario";throw"auth/email-already-in-use"===t.code?e="Este email ya est\xe1 registrado":"auth/invalid-email"===t.code?e="Email inv\xe1lido":"auth/weak-password"===t.code?e="La contrase\xf1a debe tener al menos 6 caracteres":"auth/operation-not-allowed"===t.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===t.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":t.message&&(e=t.message),Error(e)}},async login(e){try{let t=(await (0,r.e5)(o.I8,e.email,e.password)).user,a=await t.getIdToken();return{user:await i(t),token:a}}catch(t){console.error("Error logging in:",t);let e="Error al iniciar sesi\xf3n";throw"auth/user-not-found"===t.code?e="Usuario no encontrado":"auth/wrong-password"===t.code?e="Contrase\xf1a incorrecta":"auth/invalid-email"===t.code?e="Email inv\xe1lido":"auth/user-disabled"===t.code?e="Usuario deshabilitado":"auth/too-many-requests"===t.code?e="Demasiados intentos. Intenta m\xe1s tarde":"auth/operation-not-allowed"===t.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===t.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":t.message&&(e=t.message),Error(e)}},async logout(){try{await (0,r.w7)(o.I8)}catch(e){throw console.error("Error logging out:",e),e}},async getCurrentUser(){try{let e=o.I8.currentUser;if(!e)return null;return await i(e)}catch(e){return console.error("Error getting current user:",e),null}},async getCurrentUserToken(){try{let e=o.I8.currentUser;if(!e)return null;return await e.getIdToken()}catch(e){return console.error("Error getting token:",e),null}},onAuthStateChanged:e=>(0,r.Aj)(o.I8,async t=>{t?e(await i(t)):e(null)})}},38442:(e,t,a)=>{"use strict";a.d(t,{t:()=>l});var r=a(24978),n=a(31460),o=a(16012);let l=(0,r.Ue)()((0,n.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t})},setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),logout:async()=>{try{await o.Y.logout()}catch(e){console.error("Error logging out:",e)}finally{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}},refreshToken:async()=>{try{let e=await o.Y.getCurrentUserToken();e&&t().setToken(e)}catch(e){console.error("Error refreshing token:",e)}}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},1260:(e,t,a)=>{"use strict";var r;a.d(t,{i:()=>r}),function(e){e.ADMIN="admin",e.SHOP="shop",e.USER="user"}(r||(r={}))},10195:e=>{e.exports={panelContainer:"panel_panelContainer__Kt8Ty",sidebar:"panel_sidebar__KeScH",sidebarNav:"panel_sidebarNav__KjeNV",navLink:"panel_navLink__sQoV6",active:"panel_active___ehGn",mainContent:"panel_mainContent__7V2fv",shopHeader:"panel_shopHeader__iRrDp",shopHeaderContent:"panel_shopHeaderContent__wsZnH",shopLogo:"panel_shopLogo__gTusz",shopHeaderInfo:"panel_shopHeaderInfo__IKOo3",shopName:"panel_shopName__lr5MU",shopDescription:"panel_shopDescription__zNvIE",statusBadge:"panel_statusBadge__37f3q",formGroup:"panel_formGroup__0UyVN",formLabel:"panel_formLabel___zOHD",formInput:"panel_formInput__bLzwR",formTextarea:"panel_formTextarea__B2MkI",formSelect:"panel_formSelect__thum_",primaryButton:"panel_primaryButton__ArDHW",secondaryButton:"panel_secondaryButton__KSKVI",dangerButton:"panel_dangerButton__2WLFi",buttonGroup:"panel_buttonGroup__pcyfD",card:"panel_card__ttDyJ",cardHeader:"panel_cardHeader__scyyA",cardTitle:"panel_cardTitle__K6V__",cardActions:"panel_cardActions___eqre",cardAction:"panel_cardAction__xpZWN",cardActionPrimary:"panel_cardActionPrimary__t_VOi",cardActionSecondary:"panel_cardActionSecondary__gcgLm",table:"panel_table__GBWH_",tableHeader:"panel_tableHeader__TN7va",tableHeaderCell:"panel_tableHeaderCell__WZypp",tableRow:"panel_tableRow__oR22e",tableCell:"panel_tableCell__GdQvd",tableCellCenter:"panel_tableCellCenter__Gc4za",tableCellRight:"panel_tableCellRight__jl067",emptyState:"panel_emptyState__1c4lK",emptyStateIcon:"panel_emptyStateIcon__znkGr",emptyStateTitle:"panel_emptyStateTitle__OpZSI",emptyStateDescription:"panel_emptyStateDescription__P3sK_",alert:"panel_alert__dbKCy",alertSuccess:"panel_alertSuccess__T39ZR",alertError:"panel_alertError__9DFT4",alertWarning:"panel_alertWarning__sOPwe",alertInfo:"panel_alertInfo__PLXx9",progressBar:"panel_progressBar__Ik7pm",progressBarFill:"panel_progressBarFill__NCwij",profileForm:"panel_profileForm__VbWs3",profileFormSection:"panel_profileFormSection__t80bQ",profileFormSectionTitle:"panel_profileFormSectionTitle__o8RW2",readOnlyField:"panel_readOnlyField___M4rQ",raffleForm:"panel_raffleForm__s3ll7",raffleFormSection:"panel_raffleFormSection__PUcJc",raffleFormSectionTitle:"panel_raffleFormSectionTitle__1DglO",dimensionsGrid:"panel_dimensionsGrid__7jafN",dimensionInfo:"panel_dimensionInfo__bjc2e",dimensionLabel:"panel_dimensionLabel__FAjKe",dimensionValue:"panel_dimensionValue__Jm7tM",depositWarning:"panel_depositWarning__mU2qE",ticketCalculation:"panel_ticketCalculation___d694",ticketCalculationValue:"panel_ticketCalculationValue__KOcl_",raffleDetail:"panel_raffleDetail__nigCY",raffleDetailHeader:"panel_raffleDetailHeader__xcVaX",raffleDetailTitle:"panel_raffleDetailTitle___LWvI",raffleDetailStatus:"panel_raffleDetailStatus__GBSlq",raffleDetailSection:"panel_raffleDetailSection__Y6dGR",raffleDetailSectionTitle:"panel_raffleDetailSectionTitle__6HXue",raffleDetailGrid:"panel_raffleDetailGrid__U8h9R",raffleDetailItem:"panel_raffleDetailItem__frOK2",raffleDetailItemLabel:"panel_raffleDetailItemLabel__PLUUN",raffleDetailItemValue:"panel_raffleDetailItemValue__mVKfw",ticketProgress:"panel_ticketProgress__9PZKW",ticketProgressLabel:"panel_ticketProgressLabel__fBS77",ticketProgressPercentage:"panel_ticketProgressPercentage__nBOhy",statCard:"panel_statCard__Dx3Sz",statCardIcon:"panel_statCardIcon__zp227",statCardValue:"panel_statCardValue__RWvG6",statCardLabel:"panel_statCardLabel__wRjrF",formHelpText:"panel_formHelpText__IpKar",formInputError:"panel_formInputError__oPd_O"}},24198:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>o});var r=a(35023);a(91641);let n=(0,a(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/components/MakeAdminScript.tsx#default`),o={title:"TIKETEA ONLINE",description:"Plataforma de sorteos online - TIKETEA ONLINE"};function l({children:e}){return r.jsx("html",{lang:"es",children:(0,r.jsxs)("body",{children:[e,r.jsx(n,{})]})})}},91641:()=>{}};
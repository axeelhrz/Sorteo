exports.id=786,exports.ids=[786],exports.modules={7236:()=>{},4104:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,33817,23)),Promise.resolve().then(t.t.bind(t,19323,23)),Promise.resolve().then(t.t.bind(t,52204,23)),Promise.resolve().then(t.t.bind(t,60820,23)),Promise.resolve().then(t.t.bind(t,55915,23)),Promise.resolve().then(t.t.bind(t,81611,23))},97837:(e,r,t)=>{"use strict";t.d(r,{Z:()=>x});var a=t(19899),s=t(5507),n=t(76153),o=t(38442),i=t(1260),c=t(54175),l=t(55562),d=t(54756),u=t.n(d);function h({}){let e=(0,n.usePathname)(),r=r=>e.includes(r),t=[{label:"Inicio",icon:l.m6D,href:"/user-panel",id:"dashboard"},{label:"Mis Participaciones",icon:l.E25,href:"/user-panel/participations",id:"participations"},{label:"Sorteos Ganados",icon:l.HR2,href:"/user-panel/won-raffles",id:"won-raffles"},{label:"Historial de Compras",icon:l.NOg,href:"/user-panel/purchase-history",id:"purchase-history"},{label:"Notificaciones",icon:l.vWP,href:"/user-panel/notifications",id:"notifications"},{label:"Centro de Soporte",icon:l.EQ9,href:"/user-panel/support",id:"support"},{label:"Mi Perfil",icon:l.fzv,href:"/user-panel/profile",id:"profile"}];return(0,a.jsxs)("aside",{className:u().sidebar,children:[a.jsx("div",{className:u().sidebarHeader,children:a.jsx("h2",{className:u().title,children:"Mi Panel"})}),a.jsx("nav",{className:u().menu,children:t.map(e=>{let t=e.icon;return(0,a.jsxs)(c.default,{href:e.href,className:`${u().menuItem} ${r(e.id)?u().active:""}`,children:[a.jsx(t,{className:u().icon}),a.jsx("span",{className:u().label,children:e.label})]},e.id)})}),a.jsx("div",{className:u().sidebarFooter,children:a.jsx("p",{className:u().footerText,children:"\xbfNecesitas ayuda? Contacta con nuestro equipo de soporte."})})]})}var p=t(10752),f=t(26386),m=t.n(f);function g(){let e=(0,n.useRouter)(),{user:r,logout:t}=(0,o.t)(),[i]=(0,s.useState)(0),[c,d]=(0,s.useState)(!1),u=async()=>{try{await p.x.logout()}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}finally{t(),e.push("/")}};return a.jsx("header",{className:m().header,children:(0,a.jsxs)("div",{className:m().headerContent,children:[a.jsx("div",{className:m().leftSection,children:a.jsx("h1",{className:m().title,children:"Mi Panel"})}),(0,a.jsxs)("div",{className:m().rightSection,children:[(0,a.jsxs)("button",{className:m().notificationBtn,children:[a.jsx(l.vWP,{}),i>0&&a.jsx("span",{className:m().badge,children:i})]}),(0,a.jsxs)("div",{className:m().userMenu,children:[(0,a.jsxs)("button",{className:m().userButton,onClick:()=>d(!c),children:[a.jsx("div",{className:m().userAvatar,children:r?.name?.charAt(0).toUpperCase()||"U"}),a.jsx("span",{className:m().userName,children:r?.name}),a.jsx(l.bTu,{className:m().chevron})]}),c&&(0,a.jsxs)("div",{className:m().dropdown,children:[(0,a.jsxs)("a",{href:"/user-panel/profile",className:m().dropdownItem,children:[a.jsx(l.fzv,{className:m().dropdownIcon}),"Mi Perfil"]}),(0,a.jsxs)("a",{href:"/user-panel/profile?tab=preferences",className:m().dropdownItem,children:[a.jsx(l.nbt,{className:m().dropdownIcon}),"Preferencias"]}),(0,a.jsxs)("a",{href:"/user-panel/profile?tab=security",className:m().dropdownItem,children:[a.jsx(l.UIZ,{className:m().dropdownIcon}),"Seguridad"]}),a.jsx("hr",{className:m().divider}),(0,a.jsxs)("button",{onClick:u,className:`${m().dropdownItem} ${m().logoutBtn}`,children:[a.jsx(l.xqh,{className:m().dropdownIcon}),"Cerrar Sesi\xf3n"]})]})]})]})]})})}var _=t(10016),y=t.n(_);function x({children:e,activeSection:r}){(0,n.useRouter)();let{user:t,isAuthenticated:s}=(0,o.t)();return s&&t&&t.role===i.i.USER?(0,a.jsxs)("div",{className:y().container,children:[a.jsx(h,{activeSection:r}),(0,a.jsxs)("div",{className:y().mainContent,children:[a.jsx(g,{}),a.jsx("div",{className:y().content,children:e})]})]}):a.jsx("div",{className:y().loading,children:"Redirigiendo..."})}},10752:(e,r,t)=>{"use strict";t.d(r,{x:()=>n});var a=t(20751);class s{client;constructor(){this.client=a.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let r=localStorage.getItem("token");console.log("API Request - Token from localStorage:",r),r?(e.headers.Authorization=`Bearer ${r}`,console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e)))}async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,r){return this.client.get(e,r)}async post(e,r,t){return this.client.post(e,r,t)}async put(e,r){return this.client.put(e,r)}async delete(e){return this.client.delete(e)}}let n=new s},53176:(e,r,t)=>{"use strict";t.d(r,{m:()=>s});var a=t(10752);let s={async getDashboard(){try{return(await a.x.get("/user-panel/dashboard")).data}catch(e){throw console.error("Error fetching dashboard:",e),e}},async getParticipations(){try{return(await a.x.get("/user-panel/participations")).data}catch(e){throw console.error("Error fetching participations:",e),e}},async getParticipationDetail(e){try{return(await a.x.get(`/user-panel/participations/${e}`)).data}catch(e){throw console.error("Error fetching participation detail:",e),e}},async getWonRaffles(){try{return(await a.x.get("/user-panel/won-raffles")).data}catch(e){throw console.error("Error fetching won raffles:",e),e}},async getWonRaffleDetail(e){try{return(await a.x.get(`/user-panel/won-raffles/${e}`)).data}catch(e){throw console.error("Error fetching won raffle detail:",e),e}},async markWonRaffleAsReceived(e){try{return(await a.x.put(`/user-panel/won-raffles/${e}/mark-received`,{})).data}catch(e){throw console.error("Error marking raffle as received:",e),e}},async getPurchaseHistory(){try{return(await a.x.get("/user-panel/purchase-history")).data}catch(e){throw console.error("Error fetching purchase history:",e),e}},async getPurchaseDetail(e){try{return(await a.x.get(`/user-panel/purchase-history/${e}`)).data}catch(e){throw console.error("Error fetching purchase detail:",e),e}},async downloadPurchaseReceipt(e){try{return(await a.x.get(`/user-panel/purchase-history/${e}/receipt`,{responseType:"blob"})).data}catch(e){throw console.error("Error downloading receipt:",e),e}},async exportPurchaseHistoryCSV(){try{return(await a.x.get("/user-panel/purchase-history/export/csv",{responseType:"blob"})).data}catch(e){throw console.error("Error exporting purchase history:",e),e}},async getNotifications(e){try{let r=e?`?limit=${e}`:"";return(await a.x.get(`/user-panel/notifications${r}`)).data}catch(e){throw console.error("Error fetching notifications:",e),e}},async markNotificationAsRead(e){try{return(await a.x.put(`/user-panel/notifications/${e}/read`,{})).data}catch(e){throw console.error("Error marking notification as read:",e),e}},async markAllNotificationsAsRead(){try{await a.x.put("/user-panel/notifications/mark-all-read",{})}catch(e){throw console.error("Error marking all notifications as read:",e),e}},async getProfile(){try{return(await a.x.get("/user-panel/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},async updateProfile(e){try{return(await a.x.put("/user-panel/profile",e)).data}catch(e){throw console.error("Error updating profile:",e),e}},async changePassword(e,r){try{await a.x.post("/user-panel/security/change-password",{currentPassword:e,newPassword:r})}catch(e){throw console.error("Error changing password:",e),e}},async getPreferences(){try{return(await a.x.get("/user-panel/preferences")).data}catch(e){throw console.error("Error fetching preferences:",e),e}},async updatePreferences(e){try{return(await a.x.put("/user-panel/preferences",e)).data}catch(e){throw console.error("Error updating preferences:",e),e}},async getSecuritySettings(){try{return(await a.x.get("/user-panel/security")).data}catch(e){throw console.error("Error fetching security settings:",e),e}},async closeAllSessions(){try{await a.x.post("/user-panel/security/close-all-sessions",{})}catch(e){throw console.error("Error closing all sessions:",e),e}},async getComplaints(){try{return(await a.x.get("/user-panel/complaints")).data}catch(e){throw console.error("Error fetching complaints:",e),e}}}},38442:(e,r,t)=>{"use strict";t.d(r,{t:()=>n});var a=t(24978),s=t(31460);let n=(0,a.Ue)()((0,s.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>{r?localStorage.setItem("token",r):localStorage.removeItem("token"),e({token:r})},setIsLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),logout:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},1260:(e,r,t)=>{"use strict";var a;t.d(r,{i:()=>a}),function(e){e.ADMIN="admin",e.SHOP="shop",e.USER="user"}(a||(a={}))},26386:e=>{e.exports={header:"user-panel-header_header__YvbYt",headerContent:"user-panel-header_headerContent__Wt_R3",leftSection:"user-panel-header_leftSection__qi6d9",title:"user-panel-header_title__zvJDX",rightSection:"user-panel-header_rightSection__O5ycN",notificationBtn:"user-panel-header_notificationBtn__1mzqo",badge:"user-panel-header_badge__9b4vT",userMenu:"user-panel-header_userMenu__RvZZg",userButton:"user-panel-header_userButton__HZjuO",userAvatar:"user-panel-header_userAvatar__qcskj",userName:"user-panel-header_userName__3sU8a",chevron:"user-panel-header_chevron__tEq6H",dropdown:"user-panel-header_dropdown__PUF_1",dropdownItem:"user-panel-header_dropdownItem__y3HfC",divider:"user-panel-header_divider__CZXSh",logoutBtn:"user-panel-header_logoutBtn__rP_BX"}},10016:e=>{e.exports={container:"user-panel-layout_container__UNfmn",mainContent:"user-panel-layout_mainContent__XokmT",content:"user-panel-layout_content__Faw9P",loading:"user-panel-layout_loading__ve4Fo"}},54756:e=>{e.exports={sidebar:"user-panel-sidebar_sidebar__ZXmxx",sidebarHeader:"user-panel-sidebar_sidebarHeader__z0nLM",title:"user-panel-sidebar_title__8xInR",menu:"user-panel-sidebar_menu__PEmWn",menuItem:"user-panel-sidebar_menuItem__A1IhO",active:"user-panel-sidebar_active__DIftH",icon:"user-panel-sidebar_icon__2h__E",label:"user-panel-sidebar_label__vK2wW",sidebarFooter:"user-panel-sidebar_sidebarFooter__OXSDq",footerText:"user-panel-sidebar_footerText__crP40"}},22399:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>s});var a=t(35023);t(91641);let s={title:"TIKETEA ONLINE",description:"Plataforma de sorteos online - TIKETEA ONLINE"};function n({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{children:e})})}},91641:()=>{}};
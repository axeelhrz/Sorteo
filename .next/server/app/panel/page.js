(()=>{var e={};e.id=3790,e.ids=[3790],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},72271:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>l}),t(89880),t(24198),t(12874);var a=t(27105),s=t(15265),o=t(90157),n=t.n(o),i=t(44665),u={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);t.d(r,u);let l=["",{children:["panel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,89880)),"/Users/axelhernandez/Sorteos/frontend/src/app/panel/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,24198)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/axelhernandez/Sorteos/frontend/src/app/panel/page.tsx"],c="/panel/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/panel/page",pathname:"/panel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},57800:(e,r,t)=>{Promise.resolve().then(t.bind(t,81364))},30968:(e,r,t)=>{Promise.resolve().then(t.bind(t,56207))},4104:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,33817,23)),Promise.resolve().then(t.t.bind(t,19323,23)),Promise.resolve().then(t.t.bind(t,52204,23)),Promise.resolve().then(t.t.bind(t,60820,23)),Promise.resolve().then(t.t.bind(t,55915,23)),Promise.resolve().then(t.t.bind(t,81611,23))},56207:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(19899);t(5507);var s=t(76153),o=t(38442);function n(){(0,s.useRouter)();let{user:e,isAuthenticated:r}=(0,o.t)();return a.jsx("div",{children:"Redirigiendo..."})}t(1260)},81364:(e,r,t)=>{"use strict";function a(){return null}t.d(r,{default:()=>a}),t(5507),t(82986),t(26379)},26379:(e,r,t)=>{"use strict";let a;t.d(r,{I8:()=>l,db:()=>u});var s=t(3827),o=t(82986),n=t(31027),i=t(80549);a=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyCROuDbFChzWrRSXQ42lih56oLEA1hjne4",authDomain:"sorteo-b8fb0.firebaseapp.com",projectId:"sorteo-b8fb0",storageBucket:"sorteo-b8fb0.firebasestorage.app",messagingSenderId:"58395659334",appId:"1:58395659334:web:58c8f46dab380710eb4e47"}):(0,s.C6)()[0];let u=(0,o.ad)(a);(0,n.cF)(a);let l=(0,i.v0)(a)},16012:(e,r,t)=>{"use strict";t.d(r,{Y:()=>u});var a=t(80549),s=t(82986),o=t(26379),n=t(1260);let i=async e=>{try{let r=await (0,s.getDoc)((0,s.doc)(o.db,"users",e.uid));if(!r.exists())return{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:n.i.USER};let t=r.data();return{id:e.uid,name:t.name||e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:t.role||n.i.USER}}catch(r){return console.error("Error converting Firebase user:",r),{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:n.i.USER}}},u={async register(e){try{let r=(await (0,a.Xb)(o.I8,e.email,e.password)).user;e.name&&await (0,a.ck)(r,{displayName:e.name});let t=await r.getIdToken(),u={name:e.name,email:e.email,role:e.role,createdAt:(0,s.serverTimestamp)(),updatedAt:(0,s.serverTimestamp)()};if(e.role===n.i.SHOP&&e.shopName){let t={userId:r.uid,name:e.shopName,description:"",status:"pending",createdAt:(0,s.serverTimestamp)(),updatedAt:(0,s.serverTimestamp)()},a=await (0,s.ET)((0,s.collection)(o.db,"shops"),t);u.shopId=a.id,await (0,s.pl)((0,s.doc)(o.db,"users",r.uid),u)}else await (0,s.pl)((0,s.doc)(o.db,"users",r.uid),u);return{user:await i(r),token:t}}catch(r){console.error("Error registering user:",r);let e="Error al registrar usuario";throw"auth/email-already-in-use"===r.code?e="Este email ya est\xe1 registrado":"auth/invalid-email"===r.code?e="Email inv\xe1lido":"auth/weak-password"===r.code?e="La contrase\xf1a debe tener al menos 6 caracteres":"auth/operation-not-allowed"===r.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===r.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":r.message&&(e=r.message),Error(e)}},async login(e){try{let r=(await (0,a.e5)(o.I8,e.email,e.password)).user,t=await r.getIdToken();return{user:await i(r),token:t}}catch(r){console.error("Error logging in:",r);let e="Error al iniciar sesi\xf3n";throw"auth/user-not-found"===r.code?e="Usuario no encontrado":"auth/wrong-password"===r.code?e="Contrase\xf1a incorrecta":"auth/invalid-email"===r.code?e="Email inv\xe1lido":"auth/user-disabled"===r.code?e="Usuario deshabilitado":"auth/too-many-requests"===r.code?e="Demasiados intentos. Intenta m\xe1s tarde":"auth/operation-not-allowed"===r.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===r.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":r.message&&(e=r.message),Error(e)}},async logout(){try{await (0,a.w7)(o.I8)}catch(e){throw console.error("Error logging out:",e),e}},async getCurrentUser(){try{let e=o.I8.currentUser;if(!e)return null;return await i(e)}catch(e){return console.error("Error getting current user:",e),null}},async getCurrentUserToken(){try{let e=o.I8.currentUser;if(!e)return null;return await e.getIdToken()}catch(e){return console.error("Error getting token:",e),null}},onAuthStateChanged:e=>(0,a.Aj)(o.I8,async r=>{r?e(await i(r)):e(null)})}},38442:(e,r,t)=>{"use strict";t.d(r,{t:()=>n});var a=t(24978),s=t(31460),o=t(16012);let n=(0,a.Ue)()((0,s.tJ)((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>{r?localStorage.setItem("token",r):localStorage.removeItem("token"),e({token:r})},setIsLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),logout:async()=>{try{await o.Y.logout()}catch(e){console.error("Error logging out:",e)}finally{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}},refreshToken:async()=>{try{let e=await o.Y.getCurrentUserToken();e&&r().setToken(e)}catch(e){console.error("Error refreshing token:",e)}}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},1260:(e,r,t)=>{"use strict";var a;t.d(r,{i:()=>a}),function(e){e.ADMIN="admin",e.SHOP="shop",e.USER="user"}(a||(a={}))},76153:(e,r,t)=>{"use strict";var a=t(81545);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},24198:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>o});var a=t(35023);t(91641);let s=(0,t(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/components/MakeAdminScript.tsx#default`),o={title:"TIKETEA ONLINE",description:"Plataforma de sorteos online - TIKETEA ONLINE"};function n({children:e}){return a.jsx("html",{lang:"es",children:(0,a.jsxs)("body",{children:[e,a.jsx(s,{})]})})}},89880:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/app/panel/page.tsx#default`)},91641:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[3591,3352],()=>t(72271));module.exports=a})();
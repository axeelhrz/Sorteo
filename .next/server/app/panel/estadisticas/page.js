(()=>{var e={};e.id=9641,e.ids=[9641],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},91678:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>_,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(34705),a(22399),a(12874);var s=a(27105),r=a(15265),l=a(90157),i=a.n(l),n=a(44665),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["panel",{children:["estadisticas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,34705)),"/Users/axelhernandez/Sorteos/frontend/src/app/panel/estadisticas/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22399)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,12874,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/axelhernandez/Sorteos/frontend/src/app/panel/estadisticas/page.tsx"],p="/panel/estadisticas/page",_={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/panel/estadisticas/page",pathname:"/panel/estadisticas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7236:()=>{},36072:(e,t,a)=>{Promise.resolve().then(a.bind(a,96798))},4104:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,33817,23)),Promise.resolve().then(a.t.bind(a,19323,23)),Promise.resolve().then(a.t.bind(a,52204,23)),Promise.resolve().then(a.t.bind(a,60820,23)),Promise.resolve().then(a.t.bind(a,55915,23)),Promise.resolve().then(a.t.bind(a,81611,23))},96798:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(19899),r=a(5507),l=a(38442),i=a(1260),n=a(57355),o=a(26028),d=a(84499),c=a(2345),p=a(10195),_=a.n(p);function u(){let{user:e,isAuthenticated:t}=(0,l.t)(),[a,p]=(0,r.useState)(null),[u,f]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),v=async()=>{h(!0),g(null);try{let e=await n.m.getMyShop();p(e);let t=await n.m.getShopStatistics(e.id);f(t)}catch(e){g(e.response?.data?.message||"Error al cargar las estad\xedsticas")}finally{h(!1)}};return s.jsx(c.i,{requiredRole:i.i.SHOP,children:(0,s.jsxs)("div",{className:_().panelContainer,children:[s.jsx(d.G,{isBlocked:a?.status==="blocked"}),(0,s.jsxs)("main",{className:_().mainContent,children:[x&&s.jsx("div",{className:_().alert,children:"Cargando estad\xedsticas..."}),m&&(0,s.jsxs)("div",{className:`${_().alert} ${_().alertError}`,children:[m,s.jsx("button",{onClick:v,className:_().primaryButton,style:{marginLeft:"10px"},children:"Reintentar"})]}),a&&u&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.N,{shop:a}),(0,s.jsxs)("div",{className:_().raffleDetail,children:[s.jsx("h1",{className:_().raffleDetailTitle,children:"Estad\xedsticas de mi tienda"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[(0,s.jsxs)("div",{className:_().statCard,children:[s.jsx("div",{className:_().statCardIcon,children:"\uD83D\uDCCA"}),s.jsx("div",{className:_().statCardValue,children:u.raffles.total}),s.jsx("div",{className:_().statCardLabel,children:"Total de Sorteos"})]}),(0,s.jsxs)("div",{className:_().statCard,children:[s.jsx("div",{className:_().statCardIcon,children:"\uD83C\uDFAB"}),s.jsx("div",{className:_().statCardValue,children:u.tickets.totalSold}),s.jsx("div",{className:_().statCardLabel,children:"Tickets Vendidos"})]}),(0,s.jsxs)("div",{className:_().statCard,children:[s.jsx("div",{className:_().statCardIcon,children:"\uD83D\uDCB0"}),(0,s.jsxs)("div",{className:_().statCardValue,children:["S/. ",u.revenue.total.toFixed(2)]}),s.jsx("div",{className:_().statCardLabel,children:"Ingresos Totales"})]}),(0,s.jsxs)("div",{className:_().statCard,children:[s.jsx("div",{className:_().statCardIcon,children:"\uD83D\uDCC8"}),(0,s.jsxs)("div",{className:_().statCardValue,children:[u.conversionRate.toFixed(1),"%"]}),s.jsx("div",{className:_().statCardLabel,children:"Tasa de Conversi\xf3n"})]})]}),(0,s.jsxs)("div",{className:_().raffleFormSection,style:{marginBottom:"30px"},children:[s.jsx("h2",{className:_().raffleFormSectionTitle,children:"Sorteos"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,s.jsxs)("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50"},children:u.raffles.draft}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Borradores"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#fff3cd",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#856404"},children:u.raffles.pendingApproval}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Pendientes de Aprobaci\xf3n"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#d4edda",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#155724"},children:u.raffles.active}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Activos"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#cce5ff",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#004085"},children:u.raffles.soldOut}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Agotados"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#d1ecf1",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#0c5460"},children:u.raffles.finished}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Finalizados"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#f8d7da",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#721c24"},children:u.raffles.cancelled}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Cancelados"})]})]})]}),(0,s.jsxs)("div",{className:_().raffleFormSection,style:{marginBottom:"30px"},children:[s.jsx("h2",{className:_().raffleFormSectionTitle,children:"Tickets"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,s.jsxs)("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50"},children:u.tickets.totalSold}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Total Vendidos"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#e7f3ff",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#004085"},children:u.tickets.totalAvailable}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Total Disponibles"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#d4edda",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#155724"},children:u.tickets.thisMonth}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Este Mes"})]})]})]}),(0,s.jsxs)("div",{className:_().raffleFormSection,style:{marginBottom:"30px"},children:[s.jsx("h2",{className:_().raffleFormSectionTitle,children:"Ingresos"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,s.jsxs)("div",{style:{padding:"15px",background:"#d4edda",borderRadius:"8px"},children:[(0,s.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#155724"},children:["S/. ",u.revenue.total.toFixed(2)]}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Ingresos Totales"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#cce5ff",borderRadius:"8px"},children:[(0,s.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#004085"},children:["S/. ",u.revenue.thisMonth.toFixed(2)]}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Este Mes"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50"},children:u.revenue.completedPayments}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Pagos Completados"})]})]})]}),(0,s.jsxs)("div",{className:_().raffleFormSection,children:[s.jsx("h2",{className:_().raffleFormSectionTitle,children:"Productos"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,s.jsxs)("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50"},children:u.products.total}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Total de Productos"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#d4edda",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#155724"},children:u.products.active}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Activos"})]}),(0,s.jsxs)("div",{style:{padding:"15px",background:"#fff3cd",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#856404"},children:u.products.withDeposit}),s.jsx("div",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Con Dep\xf3sito"})]})]})]})]})]})]})]})})}},2345:(e,t,a)=>{"use strict";a.d(t,{i:()=>i});var s=a(19899);a(5507);var r=a(76153),l=a(38442);function i({children:e,requiredRole:t}){(0,r.useRouter)();let{user:a,isAuthenticated:i}=(0,l.t)();return i&&a?t&&a.role!==t?s.jsx("div",{children:"No tienes permiso para acceder a esta p\xe1gina"}):s.jsx(s.Fragment,{children:e}):s.jsx("div",{children:"Cargando..."})}},26028:(e,t,a)=>{"use strict";a.d(t,{N:()=>i});var s=a(19899),r=a(10195),l=a.n(r);function i({shop:e}){return s.jsx("div",{className:l().shopHeader,children:(0,s.jsxs)("div",{className:l().shopHeaderContent,children:[e.logo&&s.jsx("img",{src:e.logo,alt:e.name,className:l().shopLogo}),(0,s.jsxs)("div",{className:l().shopHeaderInfo,children:[s.jsx("h1",{className:l().shopName,children:e.name}),s.jsx("p",{className:l().shopDescription,children:e.description})]})]})})}},84499:(e,t,a)=>{"use strict";a.d(t,{G:()=>o});var s=a(19899),r=a(54175),l=a(76153),i=a(10195),n=a.n(i);function o({isBlocked:e=!1}){let t=(0,l.usePathname)();return s.jsx("aside",{className:n().sidebar,children:(0,s.jsxs)("nav",{className:n().sidebarNav,children:[s.jsx(r.default,{href:"/panel/tienda",className:`${n().navLink} ${"/panel/tienda"===t?n().active:""}`,children:"\uD83D\uDCCB Mi tienda"}),s.jsx(r.default,{href:"/panel/productos",className:`${n().navLink} ${"/panel/productos"===t?n().active:""}`,children:"\uD83D\uDCE6 Mis productos"}),s.jsx(r.default,{href:"/panel/sorteos",className:`${n().navLink} ${"/panel/sorteos"===t?n().active:""}`,children:"\uD83C\uDFB2 Mis sorteos"}),!e&&s.jsx(r.default,{href:"/panel/sorteos/crear",className:`${n().navLink} ${"/panel/sorteos/crear"===t?n().active:""}`,children:"âž• Crear sorteo"})]})})}},10752:(e,t,a)=>{"use strict";a.d(t,{x:()=>l});var s=a(20751);class r{client;constructor(){this.client=s.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let t=localStorage.getItem("token");console.log("API Request - Token from localStorage:",t),t?(e.headers.Authorization=`Bearer ${t}`,console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e)))}async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,t){return this.client.get(e,t)}async post(e,t,a){return this.client.post(e,t,a)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}}let l=new r},57355:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var s=a(10752);let r={getMyShop:async()=>(await s.x.get("/shops/my-shop/current")).data,getShopById:async e=>(await s.x.get(`/shops/${e}`)).data,updateShop:async(e,t)=>(await s.x.put(`/shops/${e}`,t)).data,getAllShops:async()=>(await s.x.get("/shops")).data,getVerifiedShops:async()=>(await s.x.get("/shops/verified")).data,getShopStatistics:async e=>(await s.x.get(`/shops/${e}/statistics`)).data}},38442:(e,t,a)=>{"use strict";a.d(t,{t:()=>l});var s=a(24978),r=a(31460);let l=(0,s.Ue)()((0,r.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t})},setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),logout:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},1260:(e,t,a)=>{"use strict";var s;a.d(t,{i:()=>s}),function(e){e.ADMIN="admin",e.SHOP="shop",e.USER="user"}(s||(s={}))},10195:e=>{e.exports={panelContainer:"panel_panelContainer__Kt8Ty",sidebar:"panel_sidebar__KeScH",sidebarNav:"panel_sidebarNav__KjeNV",navLink:"panel_navLink__sQoV6",active:"panel_active___ehGn",mainContent:"panel_mainContent__7V2fv",shopHeader:"panel_shopHeader__iRrDp",shopHeaderContent:"panel_shopHeaderContent__wsZnH",shopLogo:"panel_shopLogo__gTusz",shopHeaderInfo:"panel_shopHeaderInfo__IKOo3",shopName:"panel_shopName__lr5MU",shopDescription:"panel_shopDescription__zNvIE",statusBadge:"panel_statusBadge__37f3q",formGroup:"panel_formGroup__0UyVN",formLabel:"panel_formLabel___zOHD",formInput:"panel_formInput__bLzwR",formTextarea:"panel_formTextarea__B2MkI",formSelect:"panel_formSelect__thum_",primaryButton:"panel_primaryButton__ArDHW",secondaryButton:"panel_secondaryButton__KSKVI",dangerButton:"panel_dangerButton__2WLFi",buttonGroup:"panel_buttonGroup__pcyfD",card:"panel_card__ttDyJ",cardHeader:"panel_cardHeader__scyyA",cardTitle:"panel_cardTitle__K6V__",cardActions:"panel_cardActions___eqre",cardAction:"panel_cardAction__xpZWN",cardActionPrimary:"panel_cardActionPrimary__t_VOi",cardActionSecondary:"panel_cardActionSecondary__gcgLm",table:"panel_table__GBWH_",tableHeader:"panel_tableHeader__TN7va",tableHeaderCell:"panel_tableHeaderCell__WZypp",tableRow:"panel_tableRow__oR22e",tableCell:"panel_tableCell__GdQvd",tableCellCenter:"panel_tableCellCenter__Gc4za",tableCellRight:"panel_tableCellRight__jl067",emptyState:"panel_emptyState__1c4lK",emptyStateIcon:"panel_emptyStateIcon__znkGr",emptyStateTitle:"panel_emptyStateTitle__OpZSI",emptyStateDescription:"panel_emptyStateDescription__P3sK_",alert:"panel_alert__dbKCy",alertSuccess:"panel_alertSuccess__T39ZR",alertError:"panel_alertError__9DFT4",alertWarning:"panel_alertWarning__sOPwe",alertInfo:"panel_alertInfo__PLXx9",progressBar:"panel_progressBar__Ik7pm",progressBarFill:"panel_progressBarFill__NCwij",profileForm:"panel_profileForm__VbWs3",profileFormSection:"panel_profileFormSection__t80bQ",profileFormSectionTitle:"panel_profileFormSectionTitle__o8RW2",readOnlyField:"panel_readOnlyField___M4rQ",raffleForm:"panel_raffleForm__s3ll7",raffleFormSection:"panel_raffleFormSection__PUcJc",raffleFormSectionTitle:"panel_raffleFormSectionTitle__1DglO",dimensionsGrid:"panel_dimensionsGrid__7jafN",dimensionInfo:"panel_dimensionInfo__bjc2e",dimensionLabel:"panel_dimensionLabel__FAjKe",dimensionValue:"panel_dimensionValue__Jm7tM",depositWarning:"panel_depositWarning__mU2qE",ticketCalculation:"panel_ticketCalculation___d694",ticketCalculationValue:"panel_ticketCalculationValue__KOcl_",raffleDetail:"panel_raffleDetail__nigCY",raffleDetailHeader:"panel_raffleDetailHeader__xcVaX",raffleDetailTitle:"panel_raffleDetailTitle___LWvI",raffleDetailStatus:"panel_raffleDetailStatus__GBSlq",raffleDetailSection:"panel_raffleDetailSection__Y6dGR",raffleDetailSectionTitle:"panel_raffleDetailSectionTitle__6HXue",raffleDetailGrid:"panel_raffleDetailGrid__U8h9R",raffleDetailItem:"panel_raffleDetailItem__frOK2",raffleDetailItemLabel:"panel_raffleDetailItemLabel__PLUUN",raffleDetailItemValue:"panel_raffleDetailItemValue__mVKfw",ticketProgress:"panel_ticketProgress__9PZKW",ticketProgressLabel:"panel_ticketProgressLabel__fBS77",ticketProgressPercentage:"panel_ticketProgressPercentage__nBOhy",statCard:"panel_statCard__Dx3Sz",statCardIcon:"panel_statCardIcon__zp227",statCardValue:"panel_statCardValue__RWvG6",statCardLabel:"panel_statCardLabel__wRjrF",formHelpText:"panel_formHelpText__IpKar",formInputError:"panel_formInputError__oPd_O"}},22399:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>r});var s=a(35023);a(91641);let r={title:"TIKETEA ONLINE",description:"Plataforma de sorteos online - TIKETEA ONLINE"};function l({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{children:e})})}},34705:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/app/panel/estadisticas/page.tsx#default`)},91641:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,751,1925,4175],()=>a(91678));module.exports=s})();
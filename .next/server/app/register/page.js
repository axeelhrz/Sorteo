(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},56727:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>u}),r(25943),r(22399),r(12874);var s=r(27105),o=r(15265),a=r(90157),i=r.n(a),l=r(44665),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let u=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25943)),"/Users/axelhernandez/Sorteos/frontend/src/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22399)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,12874,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/axelhernandez/Sorteos/frontend/src/app/register/page.tsx"],m="/register/page",d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},7236:()=>{},1753:(e,t,r)=>{Promise.resolve().then(r.bind(r,47894))},4104:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,33817,23)),Promise.resolve().then(r.t.bind(r,19323,23)),Promise.resolve().then(r.t.bind(r,52204,23)),Promise.resolve().then(r.t.bind(r,60820,23)),Promise.resolve().then(r.t.bind(r,55915,23)),Promise.resolve().then(r.t.bind(r,81611,23))},43993:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(19899),o=r(18154),a=r(54175);let i={src:"/_next/static/media/logo.4501bff6.png",height:1080,width:1080,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAz0lEQVR42mNgaFnGzAAFZnO3GZkDMYyPkDNtkpWbteVEyqr9/0FYdObmEwxc1bJwhXMOXTgx++D5/5P2nvk7Zd/Zv0uOXf4P5J+AyAb3Gi08eun/z99//i48cunf0uOX//3////vsuNX/jOE9QGti+g3Akr8BwlefPj839XHL8EKFhy5+J8hdiLEPTMOnDsBtOY/yHgg+++qk1f/zzt84QQDHGRMk7Wfv/2Ezuwt/5Vmbv6vNXvrCYbIfqgjp2+Ce7Nx23Gjms1HEd6csoEZAALjd67o7P0OAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var l=r(11648),n=r.n(l);function u({size:e="medium",showText:t=!0,className:r="",href:l="/"}){let u=(0,s.jsxs)("div",{className:`${n().logo} ${n()[e]} ${r}`,children:[s.jsx(o.default,{src:i,alt:"TIKETEA ONLINE",width:"small"===e?40:"medium"===e?60:80,height:"small"===e?40:"medium"===e?60:80,className:n().logoImage,priority:!0}),t&&s.jsx("span",{className:n().logoText,children:"TIKETEA ONLINE"})]});return l?s.jsx(a.default,{href:l,className:n().logoLink,children:u}):u}},47894:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(19899),o=r(5507),a=r(54175),i=r(76153),l=r(55562),n=r(10752),u=r(38442),c=r(43993),m=r(37739),d=r.n(m);function p(){let e=(0,i.useRouter)(),{setUser:t,setToken:r}=(0,u.t)(),[m,p]=(0,o.useState)({name:"",email:"",password:"",role:"user",shopName:""}),[h,g]=(0,o.useState)(""),[x,_]=(0,o.useState)(!1),f=e=>{let{name:t,value:r}=e.target;p(e=>({...e,[t]:r}))},b=async s=>{if(s.preventDefault(),g(""),"shop"===m.role&&!m.shopName.trim()){g("El nombre de la tienda es requerido");return}_(!0);try{let s={name:m.name,email:m.email,password:m.password,role:m.role};"shop"===m.role&&m.shopName&&(s.shopName=m.shopName.trim());let{token:o,id:a,name:i,email:l,role:u}=(await n.x.register(s)).data;r(o),t({id:a,name:i,email:l,role:u}),setTimeout(()=>{e.push("/dashboard")},100)}catch(e){g(e.response?.data?.message||"Error al registrarse")}finally{_(!1)}};return s.jsx("div",{className:d().container,children:(0,s.jsxs)("div",{className:d().formCard,children:[s.jsx(c.Z,{size:"medium",className:d().logo}),s.jsx("h2",{className:d().title,children:"Crear Cuenta"}),s.jsx("p",{className:d().subtitle,children:"\xdanete a nuestra plataforma y comienza a participar"}),h&&s.jsx("div",{className:d().errorMessage,children:h}),(0,s.jsxs)("form",{onSubmit:b,className:d().form,children:[(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("label",{htmlFor:"name",className:d().label,children:[s.jsx(l.fzv,{className:d().labelIcon}),"Nombre"]}),s.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:f,required:!0,minLength:3,className:d().input,placeholder:"Tu nombre completo"})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("label",{htmlFor:"email",className:d().label,children:[s.jsx(l.Imn,{className:d().labelIcon}),"Email"]}),s.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:f,required:!0,className:d().input,placeholder:"tu@email.com"})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("label",{htmlFor:"password",className:d().label,children:[s.jsx(l.UIZ,{className:d().labelIcon}),"Contrase\xf1a"]}),s.jsx("input",{type:"password",id:"password",name:"password",value:m.password,onChange:f,required:!0,minLength:8,className:d().input,placeholder:"M\xednimo 8 caracteres"})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[s.jsx("label",{htmlFor:"role",className:d().label,children:"Tipo de cuenta"}),(0,s.jsxs)("select",{id:"role",name:"role",value:m.role,onChange:f,className:d().select,children:[s.jsx("option",{value:"user",children:"Usuario"}),s.jsx("option",{value:"shop",children:"Tienda"})]})]}),"shop"===m.role&&(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("label",{htmlFor:"shopName",className:d().label,children:[s.jsx(l.x8h,{className:d().labelIcon}),"Nombre de la Tienda"]}),s.jsx("input",{type:"text",id:"shopName",name:"shopName",value:m.shopName,onChange:f,required:!0,minLength:3,className:d().input,placeholder:"Ej: Mi Tienda de Sorteos"}),s.jsx("small",{className:d().helpText,children:"Este ser\xe1 el nombre de tu tienda en la plataforma"})]}),s.jsx("button",{type:"submit",disabled:x,className:d().submitButton,children:x?"Registrando...":(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.zy7,{className:d().buttonIcon}),"Crear Cuenta"]})})]}),s.jsx("div",{className:d().footer,children:(0,s.jsxs)("p",{className:d().footerText,children:["\xbfYa tienes una cuenta?"," ",s.jsx(a.default,{href:"/login",className:d().footerLink,children:"Inicia sesi\xf3n aqu\xed"})]})})]})})}},10752:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var s=r(20751);class o{client;constructor(){this.client=s.Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let t=localStorage.getItem("token");console.log("API Request - Token from localStorage:",t),t?(e.headers.Authorization=`Bearer ${t}`,console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e)))}async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,t){return this.client.get(e,t)}async post(e,t,r){return this.client.post(e,t,r)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}}let a=new o},38442:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var s=r(24978),o=r(31460);let a=(0,s.Ue)()((0,o.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t})},setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),logout:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},11648:e=>{e.exports={logo:"Logo_logo__hia7S",logoLink:"Logo_logoLink__gM3sV",logoImage:"Logo_logoImage__daWgp",logoText:"Logo_logoText___NRG4",small:"Logo_small__digRM",medium:"Logo_medium__HI_Ok",large:"Logo_large__OX_7R",dark:"Logo_dark__vov1N"}},37739:e=>{e.exports={container:"RegisterForm_container__PXItq",logo:"RegisterForm_logo__Oe7l8",formCard:"RegisterForm_formCard__85zJy",title:"RegisterForm_title__5_yhQ",subtitle:"RegisterForm_subtitle__ferAR",form:"RegisterForm_form__uphLJ",formGroup:"RegisterForm_formGroup__lN_hv",label:"RegisterForm_label__pcttj",labelIcon:"RegisterForm_labelIcon__KEcvy",input:"RegisterForm_input___RUoH",select:"RegisterForm_select__RUIMH",helpText:"RegisterForm_helpText__V7TVV",submitButton:"RegisterForm_submitButton__ao_5X",buttonIcon:"RegisterForm_buttonIcon__cMnsi",errorMessage:"RegisterForm_errorMessage__Uoa9H",footer:"RegisterForm_footer__24861",footerText:"RegisterForm_footerText__zg9YR",footerLink:"RegisterForm_footerLink__AuLU5"}},22399:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>o});var s=r(35023);r(91641);let o={title:"TIKETEA ONLINE",description:"Plataforma de sorteos online - TIKETEA ONLINE"};function a({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{children:e})})}},25943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(35023);let o=(0,r(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/components/RegisterForm.tsx#default`);function a(){return s.jsx(o,{})}},91641:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,751,1925,4175,5562,8154],()=>r(56727));module.exports=s})();
(()=>{var e={};e.id=1617,e.ids=[1617],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},29043:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(85654),s(24198),s(12874);var a=s(27105),r=s(15265),i=s(90157),n=s.n(i),o=s(44665),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["sorteos",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85654)),"/Users/axelhernandez/Sorteos/frontend/src/app/sorteos/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24198)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,12874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/axelhernandez/Sorteos/frontend/src/app/sorteos/[id]/page.tsx"],u="/sorteos/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/sorteos/[id]/page",pathname:"/sorteos/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},60715:(e,t,s)=>{Promise.resolve().then(s.bind(s,52325))},52325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(19899),r=s(5507),i=s(54175),n=s(18154),o=s(76153),l=s(55562);s(83730);var c=s(80760),d=s(65373),u=s(33745),p=s(59753),m=s.n(p);let h=({raffle:e,onPaymentCreated:t})=>{let s=(0,o.useRouter)(),{isAuthenticated:i}=(0,c.a)(),[n,l]=(0,r.useState)(1),[p,h]=(0,r.useState)(!1),[_,x]=(0,r.useState)(null),g=e.totalTickets-e.soldTickets,j=Number(e.productValue),N=n*j,v=n>0&&n<=g,k=e=>{l(Math.max(1,Math.min(n+e,g)))},y=async()=>{if(!v){x("Cantidad de tickets inv\xe1lida");return}h(!0),x(null);try{let a=await u.Z.createPayment({raffleId:e.id,amount:N,ticketQuantity:n});t&&t(a.id),s.push(`/checkout?paymentId=${a.id}`)}catch(e){x(e.response?.data?.message||"Error al procesar la compra. Intenta de nuevo."),h(!1)}};return i?e.status!==d.r.ACTIVE?a.jsx("div",{className:m().blockContainer,children:a.jsx("div",{className:m().messageBox,children:a.jsx("p",{children:"Este sorteo no est\xe1 disponible para compra"})})}):g<=0?a.jsx("div",{className:m().blockContainer,children:a.jsx("div",{className:m().messageBox,children:a.jsx("p",{children:"\xa1Todos los tickets se han vendido!"})})}):(0,a.jsxs)("div",{className:m().blockContainer,children:[a.jsx("h2",{className:m().title,children:"Compra tus tickets"}),(0,a.jsxs)("div",{className:m().infoSection,children:[(0,a.jsxs)("div",{className:m().infoItem,children:[a.jsx("span",{className:m().label,children:"Tickets disponibles:"}),a.jsx("span",{className:m().value,children:g})]}),(0,a.jsxs)("div",{className:m().infoItem,children:[a.jsx("span",{className:m().label,children:"Precio por ticket:"}),(0,a.jsxs)("span",{className:m().value,children:["S/. ",j.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:m().quantitySection,children:[a.jsx("label",{htmlFor:"quantity",className:m().label,children:"Cantidad de tickets:"}),(0,a.jsxs)("div",{className:m().quantityControls,children:[a.jsx("input",{id:"quantity",type:"number",min:"1",max:g,value:n,onChange:e=>{let t=parseInt(e.target.value,10);isNaN(t)||l(Math.max(1,Math.min(t,g)))},className:m().quantityInput}),(0,a.jsxs)("div",{className:m().quickButtons,children:[a.jsx("button",{className:m().quickButton,onClick:()=>k(1),disabled:n>=g,children:"+1"}),a.jsx("button",{className:m().quickButton,onClick:()=>k(5),disabled:n>=g,children:"+5"}),a.jsx("button",{className:m().quickButton,onClick:()=>k(10),disabled:n>=g,children:"+10"})]})]})]}),a.jsx("div",{className:m().subtotalSection,children:(0,a.jsxs)("div",{className:m().subtotalRow,children:[(0,a.jsxs)("span",{children:["Subtotal (",n," tickets):"]}),(0,a.jsxs)("span",{className:m().subtotalValue,children:["S/. ",N.toFixed(2)]})]})}),_&&a.jsx("div",{className:m().errorMessage,children:_}),a.jsx("button",{className:m().buyButton,onClick:y,disabled:!v||p,children:p?"Procesando...":"Continuar con la compra"}),!v&&(0,a.jsxs)("p",{className:m().validationMessage,children:["Selecciona una cantidad v\xe1lida (1 - ",g,")"]})]}):a.jsx("div",{className:m().blockContainer,children:(0,a.jsxs)("div",{className:m().messageBox,children:[a.jsx("p",{children:"Inicia sesi\xf3n para comprar tickets"}),a.jsx("button",{className:m().loginButton,onClick:()=>s.push("/login"),children:"Iniciar sesi\xf3n"})]})})};var _=s(10752),x=s(17484),g=s(94482),j=s.n(g);function N(){let e=(0,o.useParams)().id,{user:t}=(0,c.a)(),[s,u]=(0,r.useState)(null),[p,m]=(0,r.useState)(!0),[g,N]=(0,r.useState)(null),[v,k]=(0,r.useState)([]),[y,f]=(0,r.useState)(!1);if(p)return a.jsx("main",{className:j().container,children:(0,a.jsxs)("div",{className:j().loadingContainer,children:[a.jsx("div",{className:j().spinner}),a.jsx("p",{children:"Cargando sorteo..."})]})});if(g||!s)return a.jsx("main",{className:j().container,children:(0,a.jsxs)("div",{className:j().errorContainer,children:[a.jsx(l.jRj,{className:j().errorIcon}),a.jsx("h1",{className:j().errorTitle,children:"Sorteo no encontrado"}),a.jsx("p",{className:j().errorDescription,children:"El sorteo que buscas no existe o no est\xe1 disponible en este momento."}),a.jsx(i.default,{href:"/sorteos",children:a.jsx("button",{className:j().backButton,children:"Volver al listado"})})]})});let T=s.soldTickets/s.totalTickets*100,b=s.totalTickets-s.soldTickets,B=s.status===d.r.ACTIVE,w=s.status===d.r.SOLD_OUT,I=s.status===d.r.FINISHED,S=s.status===d.r.PAUSED,C=(()=>{if(b<=0||0===s.soldTickets)return null;let e=Math.max(1,(new Date().getTime()-new Date(s.createdAt).getTime())/864e5),t=s.soldTickets/e;if(t<=0)return null;let a=new Date;return a.setDate(a.getDate()+Math.ceil(b/t)),a})();return(0,a.jsxs)("main",{className:j().container,children:[a.jsx(i.default,{href:"/sorteos",className:j().backLink,children:"← Volver al listado"}),(0,a.jsxs)("div",{className:j().content,children:[(0,a.jsxs)("div",{className:j().leftColumn,children:[(0,a.jsxs)("div",{className:j().imageContainer,children:[s.product?.mainImage?a.jsx(n.default,{src:s.product.mainImage,alt:s.product.name,fill:!0,className:j().image,priority:!0}):a.jsx("div",{className:j().imagePlaceholder,children:a.jsx("span",{children:"Sin imagen disponible"})}),(0,a.jsxs)("div",{className:`${j().statusBadge} ${j()[`status-${s.status}`]}`,children:[s.status===d.r.ACTIVE&&"Activo",s.status===d.r.PAUSED&&"Pausado",s.status===d.r.SOLD_OUT&&"Agotado",s.status===d.r.FINISHED&&"Finalizado"]})]}),(0,a.jsxs)("div",{className:j().shopInfo,children:[a.jsx("h3",{className:j().shopTitle,children:"Tienda"}),(0,a.jsxs)("div",{className:j().shopCard,children:[s.shop?.logo&&a.jsx(n.default,{src:s.shop.logo,alt:s.shop.name,width:48,height:48,className:j().shopLogo}),(0,a.jsxs)("div",{className:j().shopDetails,children:[a.jsx("h4",{className:j().shopName,children:s.shop?.name}),s.shop?.status==="verified"&&(0,a.jsxs)("span",{className:j().verifiedBadge,children:[a.jsx(l._rq,{className:j().verifiedIcon}),"Tienda verificada"]})]})]}),s.shop?.description&&a.jsx("p",{className:j().shopDescription,children:s.shop.description}),a.jsx(i.default,{href:`/tienda/${s.shop?.id}`,children:a.jsx("button",{className:j().viewShopButton,children:"Ver otros sorteos"})})]})]}),(0,a.jsxs)("div",{className:j().rightColumn,children:[(0,a.jsxs)("div",{className:j().productSection,children:[a.jsx("h1",{className:j().productName,children:s.product?.name}),a.jsx("p",{className:j().productDescription,children:s.product?.description}),(0,a.jsxs)("div",{className:j().valueBox,children:[a.jsx("span",{className:j().valueLabel,children:"Valor del producto"}),(0,a.jsxs)("span",{className:j().valueAmount,children:["S/ ",Number(s.productValue).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:j().rulesSection,children:[a.jsx("h3",{className:j().sectionTitle,children:"C\xf3mo funciona este sorteo"}),(0,a.jsxs)("div",{className:j().rulesList,children:[(0,a.jsxs)("div",{className:j().rule,children:[a.jsx("span",{className:j().ruleIcon,children:"\uD83C\uDFAB"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:j().ruleTitle,children:"Tickets y participaci\xf3n"}),(0,a.jsxs)("p",{className:j().ruleText,children:["Por cada producto de S/ ",Number(s.productValue).toFixed(2)," se generan"," ",a.jsx("strong",{children:Math.floor(2*Number(s.productValue))})," tickets."]})]})]}),(0,a.jsxs)("div",{className:j().rule,children:[a.jsx("span",{className:j().ruleIcon,children:"\uD83C\uDFB2"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:j().ruleTitle,children:"Sorteo autom\xe1tico"}),a.jsx("p",{className:j().ruleText,children:"Cuando se venden todos los tickets, el sorteo se ejecuta autom\xe1ticamente."})]})]}),(0,a.jsxs)("div",{className:j().rule,children:[a.jsx("span",{className:j().ruleIcon,children:"\uD83C\uDFC6"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:j().ruleTitle,children:"Ganador aleatorio"}),a.jsx("p",{className:j().ruleText,children:"El ganador se elige de forma completamente aleatoria entre todos los tickets vendidos."})]})]})]})]}),(0,a.jsxs)("div",{className:j().progressSection,children:[a.jsx("h3",{className:j().sectionTitle,children:"Progreso del sorteo"}),(0,a.jsxs)("div",{className:j().progressHeader,children:[a.jsx("span",{className:j().progressLabel,children:"Tickets vendidos"}),(0,a.jsxs)("span",{className:j().progressCount,children:[s.soldTickets," de ",s.totalTickets]})]}),a.jsx("div",{className:j().progressBar,children:a.jsx("div",{className:j().progressFill,style:{width:`${Math.min(T,100)}%`}})}),(0,a.jsxs)("div",{className:j().progressFooter,children:[a.jsx("span",{className:j().remainingTickets,children:b>0?`${b} tickets disponibles`:"Todos los tickets vendidos"}),(0,a.jsxs)("span",{className:j().progressPercent,children:[Math.round(T),"%"]})]}),C&&B&&(0,a.jsxs)("div",{className:j().estimatedDate,children:[a.jsx("span",{className:j().estimatedLabel,children:"Fecha estimada del sorteo:"}),a.jsx("span",{className:j().estimatedValue,children:C.toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]})]}),s.requiresDeposit&&(0,a.jsxs)("div",{className:j().depositInfo,children:[a.jsx(l.UIZ,{className:j().depositIcon}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:j().depositTitle,children:"Dep\xf3sito de garant\xeda"}),a.jsx("p",{className:j().depositText,children:"Esta tienda tiene un dep\xf3sito de garant\xeda para asegurar la entrega del premio."})]})]}),t?(0,a.jsxs)("div",{className:j().userParticipation,children:[a.jsx("h3",{className:j().sectionTitle,children:"Tus participaciones"}),y?a.jsx("p",{className:j().participationText,children:"Cargando tus tickets..."}):v.length>0?(0,a.jsxs)("div",{className:j().ticketsList,children:[(0,a.jsxs)("p",{className:j().participationText,children:["Tienes ",a.jsx("strong",{children:v.length})," ticket",v.length>1?"s":""," en este sorteo:"]}),a.jsx("div",{className:j().ticketNumbers,children:v.map(e=>(0,a.jsxs)("span",{className:j().ticketNumber,children:["#",e.number]},e.id))}),(0,a.jsxs)("p",{className:j().participationDate,children:["Comprado",v.length>1?"s":""," el"," ",new Date(v[0]?.createdAt||Date.now()).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]}):a.jsx("p",{className:j().participationText,children:"A\xfan no participas en este sorteo. \xa1Compra tickets para tener oportunidad de ganar!"})]}):(0,a.jsxs)("div",{className:j().loginPrompt,children:[a.jsx("p",{className:j().loginText,children:"Inicia sesi\xf3n o reg\xedstrate para comprar tickets y ver tus participaciones."}),(0,a.jsxs)("div",{className:j().loginButtons,children:[a.jsx(i.default,{href:"/login",children:a.jsx("button",{className:j().loginButton,children:"Iniciar sesi\xf3n"})}),a.jsx(i.default,{href:"/register",children:a.jsx("button",{className:j().registerButton,children:"Registrarse"})})]})]}),B&&!S&&a.jsx(h,{raffle:s,onPaymentCreated:()=>{t&&setTimeout(()=>{_.x.get(`/api/raffle-tickets?raffleId=${e}`).then(e=>{k(e.data||[])})},2e3)}}),S&&a.jsx("div",{className:j().soldOutMessage,children:a.jsx("p",{children:"Este sorteo est\xe1 pausado temporalmente."})}),w&&a.jsx("div",{className:j().soldOutMessage,children:a.jsx("p",{children:"Tickets agotados. El sorteo se ejecutar\xe1 pronto."})}),I&&(0,a.jsxs)("div",{className:j().finishedMessage,children:[a.jsx("p",{children:"Este sorteo ha finalizado."}),a.jsx(i.default,{href:`/sorteos/${e}/winner`,children:a.jsx("button",{className:j().viewWinnerButton,children:"Ver ticket ganador →"})})]})]})]}),I&&s.winnerTicketId&&(0,a.jsxs)("div",{className:j().winnerSection,children:[a.jsx("h2",{className:j().winnerTitle,children:"\uD83C\uDFC6 Sorteo finalizado"}),(0,a.jsxs)("div",{className:j().winnerCard,children:[(0,a.jsxs)("div",{className:j().winnerInfo,children:[a.jsx("p",{className:j().winnerLabel,children:"El ganador ha sido seleccionado"}),a.jsx("p",{className:j().winnerDetailText,children:"El sorteo ha finalizado y el ganador ha sido notificado. Visita la p\xe1gina del ganador para ver m\xe1s detalles."})]}),a.jsx(i.default,{href:`/sorteos/${e}/winner`,children:a.jsx("button",{className:j().viewWinnerButton,children:"Ver ticket ganador →"})})]})]}),a.jsx(x.Z,{}),(0,a.jsxs)("div",{className:j().relatedSection,children:[a.jsx("h2",{className:j().relatedTitle,children:"Otros sorteos de esta tienda"}),a.jsx("p",{className:j().relatedText,children:(0,a.jsxs)(i.default,{href:`/tienda/${s.shop?.id}`,children:["Ver todos los sorteos de ",s.shop?.name," →"]})})]})]})}},80760:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(5507),r=s(38442);function i(){let[e,t]=(0,a.useState)(!1);return{...(0,r.t)(),isHydrated:e}}s(16012)},10752:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});var a=s(20751);let r=(()=>{let e="http://localhost:3001/api";if(!e.startsWith("http://")&&!e.startsWith("https://"))return console.warn("⚠️ NEXT_PUBLIC_API_URL no tiene protocolo, usando https://"),`https://${e}`;if(!e.endsWith("/api")){let t=e.endsWith("/")?e.slice(0,-1):e;return`${t}/api`}return e})();class i{client;constructor(){this.client=a.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{try{let t=localStorage.getItem("token");console.log("API Request - Token from localStorage:",t),t?(e.headers.Authorization=`Bearer ${t}`,console.log("API Request - Authorization header set:",e.headers.Authorization)):console.log("API Request - No token found"),e.data instanceof FormData&&delete e.headers["Content-Type"]}catch(e){console.error("Error reading token from localStorage:",e)}return e}),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&localStorage.removeItem("token"),Promise.reject(e)))}async register(e){return this.client.post("/auth/register",e)}async login(e){return this.client.post("/auth/login",e)}async getProfile(){return this.client.get("/auth/profile")}async logout(){return this.client.post("/auth/logout")}async get(e,t){return this.client.get(e,t)}async post(e,t,s){return this.client.post(e,t,s)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}}let n=new i},16012:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var a=s(80549),r=s(82986),i=s(26379),n=s(1260);let o=async e=>{try{let t=await (0,r.getDoc)((0,r.doc)(i.db,"users",e.uid));if(!t.exists())return{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:n.i.USER};let s=t.data();return{id:e.uid,name:s.name||e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:s.role||n.i.USER}}catch(t){return console.error("Error converting Firebase user:",t),{id:e.uid,name:e.displayName||e.email?.split("@")[0]||"Usuario",email:e.email||"",role:n.i.USER}}},l={async register(e){try{let t=(await (0,a.Xb)(i.I8,e.email,e.password)).user;e.name&&await (0,a.ck)(t,{displayName:e.name});let s=await t.getIdToken(),l={name:e.name,email:e.email,role:e.role,createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()};if(e.role===n.i.SHOP&&e.shopName){let s={userId:t.uid,name:e.shopName,description:"",status:"pending",createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()},a=await (0,r.ET)((0,r.collection)(i.db,"shops"),s);l.shopId=a.id,await (0,r.pl)((0,r.doc)(i.db,"users",t.uid),l)}else await (0,r.pl)((0,r.doc)(i.db,"users",t.uid),l);return{user:await o(t),token:s}}catch(t){console.error("Error registering user:",t);let e="Error al registrar usuario";throw"auth/email-already-in-use"===t.code?e="Este email ya est\xe1 registrado":"auth/invalid-email"===t.code?e="Email inv\xe1lido":"auth/weak-password"===t.code?e="La contrase\xf1a debe tener al menos 6 caracteres":"auth/operation-not-allowed"===t.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===t.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":t.message&&(e=t.message),Error(e)}},async login(e){try{let t=(await (0,a.e5)(i.I8,e.email,e.password)).user,s=await t.getIdToken();return{user:await o(t),token:s}}catch(t){console.error("Error logging in:",t);let e="Error al iniciar sesi\xf3n";throw"auth/user-not-found"===t.code?e="Usuario no encontrado":"auth/wrong-password"===t.code?e="Contrase\xf1a incorrecta":"auth/invalid-email"===t.code?e="Email inv\xe1lido":"auth/user-disabled"===t.code?e="Usuario deshabilitado":"auth/too-many-requests"===t.code?e="Demasiados intentos. Intenta m\xe1s tarde":"auth/operation-not-allowed"===t.code?e="El m\xe9todo de autenticaci\xf3n por email/password no est\xe1 habilitado. Por favor, contacta al administrador.":"auth/network-request-failed"===t.code?e="Error de conexi\xf3n. Verifica tu conexi\xf3n a internet.":t.message&&(e=t.message),Error(e)}},async logout(){try{await (0,a.w7)(i.I8)}catch(e){throw console.error("Error logging out:",e),e}},async getCurrentUser(){try{let e=i.I8.currentUser;if(!e)return null;return await o(e)}catch(e){return console.error("Error getting current user:",e),null}},async getCurrentUserToken(){try{let e=i.I8.currentUser;if(!e)return null;return await e.getIdToken()}catch(e){return console.error("Error getting token:",e),null}},onAuthStateChanged:e=>(0,a.Aj)(i.I8,async t=>{t?e(await o(t)):e(null)})}},33745:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(10752);let r={async createPayment(e){try{return(await a.x.post("/payments",e)).data}catch(e){throw console.error("Error creating payment:",e),e}},async confirmPayment(e){try{return(await a.x.post("/payments/confirm",e)).data}catch(e){throw console.error("Error confirming payment:",e),e}},async failPayment(e,t){try{return(await a.x.post(`/payments/${e}/fail`,{failureReason:t})).data}catch(e){throw console.error("Error failing payment:",e),e}},async getPaymentById(e){try{return(await a.x.get(`/payments/${e}`)).data}catch(e){throw console.error("Error fetching payment:",e),e}},async getMyPayments(){try{return(await a.x.get("/payments/user/me")).data}catch(e){throw console.error("Error fetching user payments:",e),e}},async getCompletedPaymentsByRaffleId(e){try{return(await a.x.get(`/payments/raffle/${e}`)).data}catch(e){throw console.error("Error fetching raffle payments:",e),e}},async refundPayment(e){try{return(await a.x.post(`/payments/${e}/refund`,{})).data}catch(e){throw console.error("Error refunding payment:",e),e}}}},38442:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var a=s(24978),r=s(31460),i=s(16012);let n=(0,a.Ue)()((0,r.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?localStorage.setItem("token",t):localStorage.removeItem("token"),e({token:t})},setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),logout:async()=>{try{await i.Y.logout()}catch(e){console.error("Error logging out:",e)}finally{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}},refreshToken:async()=>{try{let e=await i.Y.getCurrentUserToken();e&&t().setToken(e)}catch(e){console.error("Error refreshing token:",e)}}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},1260:(e,t,s)=>{"use strict";var a;s.d(t,{i:()=>a}),function(e){e.ADMIN="admin",e.SHOP="shop",e.USER="user"}(a||(a={}))},94482:e=>{e.exports={container:"detail_container__ULKUD",backLink:"detail_backLink__NQ9wo",loadingContainer:"detail_loadingContainer__zkUnc",errorContainer:"detail_errorContainer__YN7G7",spinner:"detail_spinner__weEuB",spin:"detail_spin__yeIrc",errorIcon:"detail_errorIcon__u1Jxx",errorTitle:"detail_errorTitle__jj0vi",errorDescription:"detail_errorDescription__xojbs",backButton:"detail_backButton__245oZ",content:"detail_content__M27T9",leftColumn:"detail_leftColumn__362CK",imageContainer:"detail_imageContainer__5H5v9",image:"detail_image__5cMHf",imagePlaceholder:"detail_imagePlaceholder__3J6i1",statusBadge:"detail_statusBadge__tKHA4","status-active":"detail_status-active__dqsFd","status-sold_out":"detail_status-sold_out__zfI8i","status-finished":"detail_status-finished__mwD6p","status-paused":"detail_status-paused__Gr_IE",shopInfo:"detail_shopInfo__oBDPu",shopTitle:"detail_shopTitle__djNe_",shopCard:"detail_shopCard__TI_qP",shopLogo:"detail_shopLogo__W33_B",shopDetails:"detail_shopDetails__qTKYr",shopName:"detail_shopName__XSKp0",verifiedBadge:"detail_verifiedBadge__AAaj8",verifiedIcon:"detail_verifiedIcon__B3G9b",shopDescription:"detail_shopDescription__y4Him",viewShopButton:"detail_viewShopButton__yppoP",rightColumn:"detail_rightColumn__EevaV",productSection:"detail_productSection__e6RrF",productName:"detail_productName__Vitwc",productDescription:"detail_productDescription__fgglb",valueBox:"detail_valueBox__2LHWf",valueLabel:"detail_valueLabel__1hnls",valueAmount:"detail_valueAmount__ZcW5c",rulesSection:"detail_rulesSection___WLv8",sectionTitle:"detail_sectionTitle__NzNFV",rulesList:"detail_rulesList__pShQw",rule:"detail_rule__8YuSq",ruleIcon:"detail_ruleIcon__wR_Jc",ruleTitle:"detail_ruleTitle__qXFbx",ruleText:"detail_ruleText__LgDI1",progressSection:"detail_progressSection__Dz7o2",progressHeader:"detail_progressHeader__Tl2mB",progressLabel:"detail_progressLabel__tGIZ3",progressCount:"detail_progressCount__eChVp",progressBar:"detail_progressBar__QoIov",progressFill:"detail_progressFill__kDOOh",progressFooter:"detail_progressFooter__H4aLX",remainingTickets:"detail_remainingTickets__7g9ve",progressPercent:"detail_progressPercent__plgYQ",estimatedDate:"detail_estimatedDate__eecTb",estimatedLabel:"detail_estimatedLabel__c4FCn",estimatedValue:"detail_estimatedValue__p_HVX",depositInfo:"detail_depositInfo__cTTME",depositIcon:"detail_depositIcon__7xNM3",depositTitle:"detail_depositTitle__m6PyC",depositText:"detail_depositText__vQG_B",userParticipation:"detail_userParticipation__2fbqO",participationText:"detail_participationText__bm9LK",ticketsList:"detail_ticketsList__1h_Qg",ticketNumbers:"detail_ticketNumbers__rFCaT",ticketNumber:"detail_ticketNumber__NIQqL",participationDate:"detail_participationDate__OhJwK",loginPrompt:"detail_loginPrompt__06FvA",loginText:"detail_loginText__KyGSC",loginButtons:"detail_loginButtons__jo6yd",loginButton:"detail_loginButton__zPo6O",registerButton:"detail_registerButton__Pvffg",buyButton:"detail_buyButton__ZvoJX",soldOutMessage:"detail_soldOutMessage___W9K7",finishedMessage:"detail_finishedMessage__ps6N7",viewWinnerButton:"detail_viewWinnerButton__FFxSF",winnerSection:"detail_winnerSection__8gsd9",winnerTitle:"detail_winnerTitle__198V4",winnerCard:"detail_winnerCard___8oIa",winnerInfo:"detail_winnerInfo__ytu6q",winnerLabel:"detail_winnerLabel__3oCdX",winnerNumber:"detail_winnerNumber__AGkQa",winnerDetails:"detail_winnerDetails__i3j86",winnerDetailText:"detail_winnerDetailText__bYR2D",relatedSection:"detail_relatedSection__Gq38b",relatedTitle:"detail_relatedTitle__z9geH",relatedText:"detail_relatedText__spQ_1"}},59753:e=>{e.exports={blockContainer:"BuyTicketsBlock_blockContainer__2vhQG",title:"BuyTicketsBlock_title__xeTXq",messageBox:"BuyTicketsBlock_messageBox__Bvkmn",loginButton:"BuyTicketsBlock_loginButton__k0fgW",infoSection:"BuyTicketsBlock_infoSection__7xBhO",infoItem:"BuyTicketsBlock_infoItem__nNFXl",label:"BuyTicketsBlock_label__DLbn3",value:"BuyTicketsBlock_value__uYPnp",quantitySection:"BuyTicketsBlock_quantitySection__eAsMh",quantityControls:"BuyTicketsBlock_quantityControls__boTTh",quantityInput:"BuyTicketsBlock_quantityInput__hX66Q",quickButtons:"BuyTicketsBlock_quickButtons__xRSvK",quickButton:"BuyTicketsBlock_quickButton__VaRml",subtotalSection:"BuyTicketsBlock_subtotalSection__LLADU",subtotalRow:"BuyTicketsBlock_subtotalRow__fYzsX",subtotalValue:"BuyTicketsBlock_subtotalValue__JsJyB",errorMessage:"BuyTicketsBlock_errorMessage__LVuEk",buyButton:"BuyTicketsBlock_buyButton__fs33T",validationMessage:"BuyTicketsBlock_validationMessage__b_YTO"}},85654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/app/sorteos/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3591,8559,3352,4175,5562,8154,9311],()=>s(29043));module.exports=a})();
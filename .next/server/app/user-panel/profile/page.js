(()=>{var e={};e.id=4739,e.ids=[4739],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},7066:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>t.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(73050),s(24198),s(12874);var a=s(27105),i=s(15265),n=s(90157),t=s.n(n),o=s(44665),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let c=["",{children:["user-panel",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,73050)),"/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24198)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,12874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/profile/page.tsx"],u="/user-panel/profile/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/user-panel/profile/page",pathname:"/user-panel/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30901:(e,r,s)=>{Promise.resolve().then(s.bind(s,83562))},83562:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(19899),i=s(5507),n=s(97837),t=s(53176),o=s(20504),l=s.n(o);function c(){let[e,r]=(0,i.useState)("profile"),[,s]=(0,i.useState)(null),[,o]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)(!0),[m,h]=(0,i.useState)(null),[x,f]=(0,i.useState)(null),[j,v]=(0,i.useState)({name:"",email:"",phone:"",country:"",city:""}),[_,g]=(0,i.useState)({emailNotifications:!0,emailPromotions:!1,language:"es",timezone:"America/Argentina/Buenos_Aires",privacyShowInitials:!1,privacyHideTicketList:!1}),[b,P]=(0,i.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),y=e=>{let{name:r,value:s}=e.target;v(e=>({...e,[r]:s}))},N=async e=>{e.preventDefault();try{h(null),f(null),await t.m.updateProfile(j),f("Perfil actualizado correctamente")}catch(e){console.error("Error updating profile:",e),h("Error al actualizar el perfil")}},w=e=>{let{name:r,value:s,type:a}=e.target,i=e.target.checked;g(e=>({...e,[r]:"checkbox"===a?i:s}))},C=async e=>{e.preventDefault();try{h(null),f(null),await t.m.updatePreferences(_),f("Preferencias actualizadas correctamente")}catch(e){console.error("Error updating preferences:",e),h("Error al actualizar las preferencias")}},S=e=>{let{name:r,value:s}=e.target;P(e=>({...e,[r]:s}))},q=async e=>{if(e.preventDefault(),b.newPassword!==b.confirmPassword){h("Las contrase\xf1as no coinciden");return}try{h(null),f(null),await t.m.changePassword(b.currentPassword,b.newPassword),f("Contrase\xf1a cambiada correctamente"),P({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Error changing password:",e),h("Error al cambiar la contrase\xf1a")}},k=async()=>{if(confirm("\xbfEst\xe1s seguro? Se cerrar\xe1n todas tus sesiones activas."))try{h(null),f(null),await t.m.closeAllSessions(),f("Todas las sesiones han sido cerradas")}catch(e){console.error("Error closing sessions:",e),h("Error al cerrar las sesiones")}};return u?a.jsx(n.Z,{activeSection:"profile",children:a.jsx("div",{className:l().loadingContainer,children:a.jsx("p",{children:"Cargando perfil..."})})}):a.jsx(n.Z,{activeSection:"profile",children:(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsxs)("div",{className:l().header,children:[a.jsx("h1",{className:l().title,children:"\uD83D\uDC64 Mi Perfil"}),a.jsx("p",{className:l().subtitle,children:"Gestiona tu informaci\xf3n personal, preferencias y seguridad"})]}),m&&a.jsx("div",{className:l().errorBanner,children:m}),x&&a.jsx("div",{className:l().successBanner,children:x}),(0,a.jsxs)("div",{className:l().tabs,children:[a.jsx("button",{className:`${l().tab} ${"profile"===e?l().active:""}`,onClick:()=>r("profile"),children:"\uD83D\uDC64 Datos Personales"}),a.jsx("button",{className:`${l().tab} ${"preferences"===e?l().active:""}`,onClick:()=>r("preferences"),children:"⚙️ Preferencias"}),a.jsx("button",{className:`${l().tab} ${"security"===e?l().active:""}`,onClick:()=>r("security"),children:"\uD83D\uDD12 Seguridad"})]}),(0,a.jsxs)("div",{className:l().content,children:["profile"===e&&(0,a.jsxs)("form",{onSubmit:N,className:l().form,children:[a.jsx("h2",{children:"Datos Personales"}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:j.name,onChange:y,required:!0})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"email",children:"Email *"}),a.jsx("input",{type:"email",id:"email",name:"email",value:j.email,onChange:y,required:!0,disabled:!0}),a.jsx("small",{children:"El email no puede ser modificado"})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"phone",children:"Tel\xe9fono"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:j.phone,onChange:y})]}),(0,a.jsxs)("div",{className:l().formRow,children:[(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"country",children:"Pa\xeds"}),a.jsx("input",{type:"text",id:"country",name:"country",value:j.country,onChange:y})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"city",children:"Ciudad"}),a.jsx("input",{type:"text",id:"city",name:"city",value:j.city,onChange:y})]})]}),a.jsx("button",{type:"submit",className:l().submitButton,children:"Guardar Cambios"})]}),"preferences"===e&&(0,a.jsxs)("form",{onSubmit:C,className:l().form,children:[a.jsx("h2",{children:"Preferencias"}),(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Notificaciones"}),a.jsx("div",{className:l().checkboxGroup,children:(0,a.jsxs)("label",{children:[a.jsx("input",{type:"checkbox",name:"emailNotifications",checked:_.emailNotifications,onChange:w}),"Recibir notificaciones por email"]})}),a.jsx("div",{className:l().checkboxGroup,children:(0,a.jsxs)("label",{children:[a.jsx("input",{type:"checkbox",name:"emailPromotions",checked:_.emailPromotions,onChange:w}),"Recibir emails promocionales"]})})]}),(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Configuraci\xf3n Regional"}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"language",children:"Idioma"}),(0,a.jsxs)("select",{id:"language",name:"language",value:_.language,onChange:w,children:[a.jsx("option",{value:"es",children:"Espa\xf1ol"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"pt",children:"Portugu\xeas"})]})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"timezone",children:"Zona Horaria"}),(0,a.jsxs)("select",{id:"timezone",name:"timezone",value:_.timezone,onChange:w,children:[a.jsx("option",{value:"America/Argentina/Buenos_Aires",children:"Argentina (Buenos Aires)"}),a.jsx("option",{value:"America/Mexico_City",children:"M\xe9xico (Ciudad de M\xe9xico)"}),a.jsx("option",{value:"America/Bogota",children:"Colombia (Bogot\xe1)"}),a.jsx("option",{value:"America/Lima",children:"Per\xfa (Lima)"}),a.jsx("option",{value:"America/Santiago",children:"Chile (Santiago)"})]})]})]}),(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Privacidad"}),a.jsx("div",{className:l().checkboxGroup,children:(0,a.jsxs)("label",{children:[a.jsx("input",{type:"checkbox",name:"privacyShowInitials",checked:_.privacyShowInitials,onChange:w}),"Mostrar solo mis iniciales cuando gano un sorteo"]})}),a.jsx("div",{className:l().checkboxGroup,children:(0,a.jsxs)("label",{children:[a.jsx("input",{type:"checkbox",name:"privacyHideTicketList",checked:_.privacyHideTicketList,onChange:w}),"Ocultar mi lista de tickets p\xfablicamente"]})})]}),a.jsx("button",{type:"submit",className:l().submitButton,children:"Guardar Preferencias"})]}),"security"===e&&(0,a.jsxs)("div",{className:l().securitySection,children:[a.jsx("h2",{children:"Seguridad"}),(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Cambiar Contrase\xf1a"}),(0,a.jsxs)("form",{onSubmit:q,className:l().form,children:[(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"currentPassword",children:"Contrase\xf1a Actual *"}),a.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:b.currentPassword,onChange:S,required:!0})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"newPassword",children:"Nueva Contrase\xf1a *"}),a.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:b.newPassword,onChange:S,required:!0})]}),(0,a.jsxs)("div",{className:l().formGroup,children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrase\xf1a *"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:b.confirmPassword,onChange:S,required:!0})]}),a.jsx("button",{type:"submit",className:l().submitButton,children:"Cambiar Contrase\xf1a"})]})]}),(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Sesiones Activas"}),(0,a.jsxs)("p",{children:["Sesiones activas: ",a.jsx("strong",{children:c?.activeSessions||0})]}),a.jsx("button",{onClick:k,className:l().dangerButton,children:"Cerrar Todas las Sesiones"})]}),c?.twoFactorEnabled&&(0,a.jsxs)("div",{className:l().section,children:[a.jsx("h3",{children:"Autenticaci\xf3n de Dos Factores"}),a.jsx("p",{className:l().enabledBadge,children:"✅ Habilitada"})]})]})]})]})})}},20504:e=>{e.exports={container:"profile_container__mS00e",header:"profile_header__L5zKP",title:"profile_title__S5bBg",subtitle:"profile_subtitle__OaNkf",loadingContainer:"profile_loadingContainer__RxfTX",errorBanner:"profile_errorBanner__69jmp",successBanner:"profile_successBanner__ComY8",tabs:"profile_tabs__ZeAlq",tab:"profile_tab__W6KM8",active:"profile_active__dSGYA",content:"profile_content__1xaEs",form:"profile_form__SZn3N",section:"profile_section__7N_F_",formGroup:"profile_formGroup__iJ57q",formRow:"profile_formRow__DjwPp",checkboxGroup:"profile_checkboxGroup__OPV_X",submitButton:"profile_submitButton__kxnfV",dangerButton:"profile_dangerButton__sy_tg",securitySection:"profile_securitySection__2ByvE",enabledBadge:"profile_enabledBadge__ZjP63"}},73050:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/profile/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[3591,8559,3352,4175,5562,7635],()=>s(7066));module.exports=a})();
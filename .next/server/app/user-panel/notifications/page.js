(()=>{var e={};e.id=6904,e.ids=[6904],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},20705:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>l}),i(8979),i(24198),i(12874);var n=i(27105),s=i(15265),a=i(90157),o=i.n(a),r=i(44665),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);i.d(t,c);let l=["",{children:["user-panel",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,8979)),"/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/notifications/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,24198)),"/Users/axelhernandez/Sorteos/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,12874,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/notifications/page.tsx"],u="/user-panel/notifications/page",p={require:i,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/user-panel/notifications/page",pathname:"/user-panel/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},48324:(e,t,i)=>{Promise.resolve().then(i.bind(i,91477))},91477:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(19899),s=i(5507),a=i(97837),o=i(53176),r=i(97507),c=i.n(r);function l(){let[e,t]=(0,s.useState)([]),[i,r]=(0,s.useState)(!0),[l,d]=(0,s.useState)(null),[u,p]=(0,s.useState)("all"),f=async i=>{try{await o.m.markNotificationAsRead(i),t(e.map(e=>e.id===i?{...e,isRead:!0}:e))}catch(e){console.error("Error marking notification as read:",e)}},_=async()=>{try{await o.m.markAllNotificationsAsRead(),t(e.map(e=>({...e,isRead:!0})))}catch(e){console.error("Error marking all as read:",e)}},m=e.filter(e=>"all"===u||e.type===u),x=e.filter(e=>!e.isRead).length;return i?n.jsx(a.Z,{activeSection:"notifications",children:n.jsx("div",{className:c().loadingContainer,children:n.jsx("p",{children:"Cargando notificaciones..."})})}):n.jsx(a.Z,{activeSection:"notifications",children:(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsxs)("div",{className:c().header,children:[n.jsx("h1",{className:c().title,children:"\uD83D\uDD14 Notificaciones"}),n.jsx("p",{className:c().subtitle,children:x>0?`Tienes ${x} notificaciones sin leer`:"Todas tus notificaciones est\xe1n le\xeddas"})]}),l&&n.jsx("div",{className:c().errorBanner,children:l}),(0,n.jsxs)("div",{className:c().toolbar,children:[(0,n.jsxs)("div",{className:c().filters,children:[n.jsx("button",{className:`${c().filterBtn} ${"all"===u?c().active:""}`,onClick:()=>p("all"),children:"Todas"}),n.jsx("button",{className:`${c().filterBtn} ${"raffle_won"===u?c().active:""}`,onClick:()=>p("raffle_won"),children:"Sorteos Ganados"}),n.jsx("button",{className:`${c().filterBtn} ${"tickets_purchased"===u?c().active:""}`,onClick:()=>p("tickets_purchased"),children:"Compras"}),n.jsx("button",{className:`${c().filterBtn} ${"complaint_response"===u?c().active:""}`,onClick:()=>p("complaint_response"),children:"Reclamos"})]}),x>0&&n.jsx("button",{onClick:_,className:c().markAllButton,children:"Marcar todas como le\xeddas"})]}),0===m.length?(0,n.jsxs)("div",{className:c().emptyState,children:[n.jsx("p",{className:c().emptyIcon,children:"\uD83D\uDCED"}),n.jsx("h2",{children:"No hay notificaciones"}),n.jsx("p",{children:"Aqu\xed aparecer\xe1n tus notificaciones importantes"})]}):n.jsx("div",{className:c().notificationsList,children:m.map(e=>(0,n.jsxs)("div",{className:`${c().notificationItem} ${e.isRead?"":c().unread}`,children:[(0,n.jsxs)("div",{className:c().notificationIcon,children:["raffle_won"===e.type&&"\uD83C\uDFC6","tickets_purchased"===e.type&&"\uD83C\uDFAB","raffle_finished"===e.type&&"✅","complaint_response"===e.type&&"\uD83D\uDCAC","account_change"===e.type&&"⚙️","system"===e.type&&"ℹ️"]}),(0,n.jsxs)("div",{className:c().notificationContent,children:[n.jsx("h3",{className:c().notificationTitle,children:e.title}),n.jsx("p",{className:c().notificationMessage,children:e.message}),(0,n.jsxs)("p",{className:c().notificationDate,children:[new Date(e.createdAt).toLocaleDateString()," -"," ",new Date(e.createdAt).toLocaleTimeString()]})]}),(0,n.jsxs)("div",{className:c().notificationActions,children:[!e.isRead&&n.jsx("button",{className:c().markReadBtn,onClick:()=>f(e.id),children:"Marcar como le\xedda"}),e.actionUrl&&n.jsx("a",{href:e.actionUrl,className:c().actionLink,children:"Ver →"})]})]},e.id))})]})})}},97507:e=>{e.exports={container:"notifications_container__aijrO",header:"notifications_header__VtBR9",title:"notifications_title__wesVT",subtitle:"notifications_subtitle__IgU3e",loadingContainer:"notifications_loadingContainer__qddBr",errorBanner:"notifications_errorBanner__QcTRq",toolbar:"notifications_toolbar__RNoW0",filters:"notifications_filters____D8g",filterBtn:"notifications_filterBtn__VL9Vj",active:"notifications_active__fDiKD",markAllButton:"notifications_markAllButton__uYtWZ",emptyState:"notifications_emptyState__SB2Bl",emptyIcon:"notifications_emptyIcon__nVO1K",notificationsList:"notifications_notificationsList__3Q2Vc",notificationItem:"notifications_notificationItem__gg1PS",unread:"notifications_unread__3e__4",notificationIcon:"notifications_notificationIcon__XC89N",notificationContent:"notifications_notificationContent__t_JMm",notificationTitle:"notifications_notificationTitle__kqHSn",notificationMessage:"notifications_notificationMessage__BBcIC",notificationDate:"notifications_notificationDate__00zjN",notificationActions:"notifications_notificationActions__wGStA",markReadBtn:"notifications_markReadBtn__XMOmc",actionLink:"notifications_actionLink___gzZu"}},8979:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});let n=(0,i(2772).createProxy)(String.raw`/Users/axelhernandez/Sorteos/frontend/src/app/user-panel/notifications/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[3591,8559,3352,4175,5562,7635],()=>i(20705));module.exports=n})();
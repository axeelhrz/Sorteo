"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_services_raffle-service_ts";
exports.ids = ["_ssr_src_services_raffle-service_ts"];
exports.modules = {

/***/ "(ssr)/./src/services/firebase-raffle-service.ts":
/*!*************************************************!*\
  !*** ./src/services/firebase-raffle-service.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   firebaseRaffleService: () => (/* binding */ firebaseRaffleService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/../node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase */ \"(ssr)/./src/lib/firebase.ts\");\n/* harmony import */ var _types_raffle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/raffle */ \"(ssr)/./src/types/raffle.ts\");\n\n\n\n// Helper para convertir Firestore timestamp a Date\nconst convertTimestamp = (timestamp)=>{\n    if (timestamp?.toDate) {\n        return timestamp.toDate();\n    }\n    if (timestamp instanceof Date) {\n        return timestamp;\n    }\n    if (typeof timestamp === \"string\") {\n        return new Date(timestamp);\n    }\n    return new Date();\n};\n// Helper para convertir documento de Firestore a Raffle\nconst convertRaffleDoc = async (docSnap)=>{\n    const data = docSnap.data();\n    const raffle = {\n        id: docSnap.id,\n        shopId: data.shopId || \"\",\n        productId: data.productId || \"\",\n        productValue: data.productValue || 0,\n        totalTickets: data.totalTickets || 0,\n        soldTickets: data.soldTickets || 0,\n        status: data.status || _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.DRAFT,\n        requiresDeposit: data.requiresDeposit || false,\n        winnerTicketId: data.winnerTicketId,\n        specialConditions: data.specialConditions,\n        createdAt: convertTimestamp(data.createdAt),\n        updatedAt: convertTimestamp(data.updatedAt),\n        activatedAt: data.activatedAt ? convertTimestamp(data.activatedAt) : undefined,\n        raffleExecutedAt: data.raffleExecutedAt ? convertTimestamp(data.raffleExecutedAt) : undefined\n    };\n    // Cargar relaciones si existen\n    if (data.shopId) {\n        try {\n            const shopDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"shops\", data.shopId));\n            if (shopDoc.exists()) {\n                const shopData = shopDoc.data();\n                raffle.shop = {\n                    id: shopDoc.id,\n                    userId: shopData.userId || \"\",\n                    name: shopData.name || \"\",\n                    description: shopData.description,\n                    logo: shopData.logo,\n                    publicEmail: shopData.publicEmail,\n                    phone: shopData.phone,\n                    socialMedia: shopData.socialMedia,\n                    status: shopData.status || \"pending\",\n                    createdAt: convertTimestamp(shopData.createdAt),\n                    updatedAt: convertTimestamp(shopData.updatedAt)\n                };\n            }\n        } catch (error) {\n            console.error(\"Error loading shop:\", error);\n        }\n    }\n    if (data.productId) {\n        try {\n            const productDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"products\", data.productId));\n            if (productDoc.exists()) {\n                const productData = productDoc.data();\n                raffle.product = {\n                    id: productDoc.id,\n                    shopId: productData.shopId || \"\",\n                    name: productData.name || \"\",\n                    description: productData.description || \"\",\n                    value: productData.value || 0,\n                    height: productData.height || 0,\n                    width: productData.width || 0,\n                    depth: productData.depth || 0,\n                    requiresDeposit: productData.requiresDeposit || false,\n                    category: productData.category,\n                    mainImage: productData.mainImage,\n                    status: productData.status || \"inactive\",\n                    createdAt: convertTimestamp(productData.createdAt),\n                    updatedAt: convertTimestamp(productData.updatedAt)\n                };\n            }\n        } catch (error) {\n            console.error(\"Error loading product:\", error);\n        }\n    }\n    return raffle;\n};\nconst firebaseRaffleService = {\n    /**\n   * Obtiene sorteos activos con filtros y bÃºsqueda\n   */ async getActiveRaffles (filters) {\n        try {\n            const rafflesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\");\n            // Intentar consulta con filtro de status, pero si falla por Ã­ndice, obtener todos y filtrar\n            let allDocs;\n            try {\n                let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE));\n                // Aplicar filtros adicionales\n                if (filters?.shopId) {\n                    q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"shopId\", \"==\", filters.shopId));\n                }\n                // Intentar ordenar si no hay filtro de shopId (para evitar problemas de Ã­ndices compuestos)\n                if (!filters?.shopId) {\n                    try {\n                        if (filters?.sortBy === \"newest\") {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n                        } else if (filters?.sortBy === \"closest\") {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"soldTickets\", \"desc\"));\n                        } else if (filters?.sortBy === \"price-asc\") {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"productValue\", \"asc\"));\n                        } else if (filters?.sortBy === \"price-desc\") {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"productValue\", \"desc\"));\n                        } else {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n                        }\n                        allDocs = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n                    } catch (orderError) {\n                        // Si falla el orderBy, intentar sin ordenar\n                        console.warn(\"Error con orderBy, obteniendo sin ordenar:\", orderError);\n                        if (filters?.shopId) {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"shopId\", \"==\", filters.shopId));\n                        } else {\n                            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE));\n                        }\n                        allDocs = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n                    }\n                } else {\n                    allDocs = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n                }\n            } catch (queryError) {\n                // Si falla la consulta con where, obtener todos y filtrar en memoria\n                console.warn(\"Error en consulta con where, obteniendo todos los sorteos:\", queryError);\n                const allRafflesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef);\n                const allRafflesSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(allRafflesQuery);\n                // Filtrar por status activo en memoria\n                allDocs = {\n                    docs: allRafflesSnapshot.docs.filter((doc)=>{\n                        const status = doc.data().status;\n                        return status === _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE || status === \"active\";\n                    })\n                };\n                console.log(`ðŸ“Š Sorteos activos encontrados despuÃ©s de filtrar: ${allDocs.docs.length} de ${allRafflesSnapshot.docs.length} totales`);\n            }\n            let raffles = [];\n            // Convertir documentos\n            for (const docSnap of allDocs.docs){\n                try {\n                    const raffle = await convertRaffleDoc(docSnap);\n                    raffles.push(raffle);\n                } catch (error) {\n                    console.error(\"Error converting raffle doc:\", error);\n                }\n            }\n            console.log(`âœ… Sorteos activos cargados: ${raffles.length}`);\n            // Aplicar filtros que requieren los datos completos\n            if (filters?.category) {\n                raffles = raffles.filter((r)=>r.product?.category === filters.category);\n            }\n            if (filters?.minValue !== undefined) {\n                raffles = raffles.filter((r)=>r.productValue >= filters.minValue);\n            }\n            if (filters?.maxValue !== undefined) {\n                raffles = raffles.filter((r)=>r.productValue <= filters.maxValue);\n            }\n            if (filters?.search) {\n                const searchLower = filters.search.toLowerCase();\n                raffles = raffles.filter((r)=>r.product?.name.toLowerCase().includes(searchLower) || r.product?.description.toLowerCase().includes(searchLower) || r.shop?.name.toLowerCase().includes(searchLower));\n            }\n            // Ordenar en memoria si hay filtro de shopId o si no se pudo ordenar en la consulta\n            if (filters?.shopId || filters?.sortBy) {\n                if (filters?.sortBy === \"newest\") {\n                    raffles.sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime());\n                } else if (filters?.sortBy === \"closest\") {\n                    raffles.sort((a, b)=>b.soldTickets - a.soldTickets);\n                } else if (filters?.sortBy === \"price-asc\") {\n                    raffles.sort((a, b)=>a.productValue - b.productValue);\n                } else if (filters?.sortBy === \"price-desc\") {\n                    raffles.sort((a, b)=>b.productValue - a.productValue);\n                }\n            }\n            // Aplicar paginaciÃ³n manual\n            const total = raffles.length;\n            const totalPages = Math.ceil(total / pageSize);\n            const paginatedRaffles = raffles.slice(offset, offset + pageSize);\n            return {\n                data: paginatedRaffles,\n                total,\n                page,\n                limit: pageSize,\n                totalPages\n            };\n        } catch (error) {\n            console.error(\"Error fetching active raffles:\", error);\n            throw error;\n        }\n    },\n    /**\n   * Obtiene un sorteo especÃ­fico por ID (pÃºblico)\n   */ async getRaffleById (id) {\n        try {\n            const raffleDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\", id));\n            if (!raffleDoc.exists()) {\n                throw new Error(\"Raffle not found\");\n            }\n            return await convertRaffleDoc(raffleDoc);\n        } catch (error) {\n            console.error(\"Error fetching raffle:\", error);\n            throw error;\n        }\n    },\n    /**\n   * Obtiene sorteos de una tienda especÃ­fica (pÃºblico)\n   */ async getRafflesByShop (shopId, filters) {\n        try {\n            const rafflesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\");\n            // No ordenamos en la consulta para evitar problemas de Ã­ndices compuestos\n            // Ordenaremos en memoria despuÃ©s\n            let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"shopId\", \"==\", shopId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE));\n            const allDocs = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            let raffles = [];\n            for (const docSnap of allDocs.docs){\n                const raffle = await convertRaffleDoc(docSnap);\n                raffles.push(raffle);\n            }\n            // Aplicar bÃºsqueda si existe\n            if (filters?.search) {\n                const searchLower = filters.search.toLowerCase();\n                raffles = raffles.filter((r)=>r.product?.name.toLowerCase().includes(searchLower) || r.product?.description.toLowerCase().includes(searchLower));\n            }\n            // Ordenar en memoria\n            if (filters?.sortBy === \"newest\") {\n                raffles.sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime());\n            } else if (filters?.sortBy === \"closest\") {\n                raffles.sort((a, b)=>b.soldTickets - a.soldTickets);\n            } else {\n                raffles.sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime());\n            }\n            // PaginaciÃ³n\n            const pageSize1 = filters?.limit || 12;\n            const page1 = filters?.page || 1;\n            const offset1 = (page1 - 1) * pageSize1;\n            const total = raffles.length;\n            const totalPages = Math.ceil(total / pageSize1);\n            const paginatedRaffles = raffles.slice(offset1, offset1 + pageSize1);\n            return {\n                data: paginatedRaffles,\n                total,\n                page: page1,\n                limit: pageSize1,\n                totalPages\n            };\n        } catch (error) {\n            console.error(\"Error fetching shop raffles:\", error);\n            throw error;\n        }\n    },\n    /**\n   * Obtiene categorÃ­as disponibles para filtrar\n   */ async getCategories () {\n        try {\n            const productsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"products\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(productsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", \"active\"));\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const categories = new Set();\n            snapshot.docs.forEach((doc)=>{\n                const data = doc.data();\n                if (data.category) {\n                    categories.add(data.category);\n                }\n            });\n            return Array.from(categories).sort();\n        } catch (error) {\n            console.error(\"Error fetching categories:\", error);\n            return [];\n        }\n    },\n    /**\n   * Obtiene tiendas con sorteos activos\n   */ async getShopsWithActiveRaffles () {\n        try {\n            const rafflesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(rafflesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.ACTIVE));\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const shopIds = new Set();\n            snapshot.docs.forEach((doc)=>{\n                const data = doc.data();\n                if (data.shopId) {\n                    shopIds.add(data.shopId);\n                }\n            });\n            // Obtener informaciÃ³n de las tiendas\n            const shops = [];\n            for (const shopId of shopIds){\n                try {\n                    const shopDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"shops\", shopId));\n                    if (shopDoc.exists()) {\n                        const shopData = shopDoc.data();\n                        shops.push({\n                            id: shopDoc.id,\n                            name: shopData.name || \"Tienda sin nombre\"\n                        });\n                    }\n                } catch (error) {\n                    console.error(`Error loading shop ${shopId}:`, error);\n                }\n            }\n            return shops.sort((a, b)=>a.name.localeCompare(b.name));\n        } catch (error) {\n            console.error(\"Error fetching shops:\", error);\n            return [];\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc2VydmljZXMvZmlyZWJhc2UtcmFmZmxlLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVU0QjtBQUNRO0FBQ2tCO0FBd0J0RCxtREFBbUQ7QUFDbkQsTUFBTVMsbUJBQW1CLENBQUNDO0lBQ3hCLElBQUlBLFdBQVdDLFFBQVE7UUFDckIsT0FBT0QsVUFBVUMsTUFBTTtJQUN6QjtJQUNBLElBQUlELHFCQUFxQkUsTUFBTTtRQUM3QixPQUFPRjtJQUNUO0lBQ0EsSUFBSSxPQUFPQSxjQUFjLFVBQVU7UUFDakMsT0FBTyxJQUFJRSxLQUFLRjtJQUNsQjtJQUNBLE9BQU8sSUFBSUU7QUFDYjtBQUVBLHdEQUF3RDtBQUN4RCxNQUFNQyxtQkFBbUIsT0FBT0M7SUFDOUIsTUFBTUMsT0FBT0QsUUFBUUMsSUFBSTtJQUN6QixNQUFNQyxTQUFpQjtRQUNyQkMsSUFBSUgsUUFBUUcsRUFBRTtRQUNkQyxRQUFRSCxLQUFLRyxNQUFNLElBQUk7UUFDdkJDLFdBQVdKLEtBQUtJLFNBQVMsSUFBSTtRQUM3QkMsY0FBY0wsS0FBS0ssWUFBWSxJQUFJO1FBQ25DQyxjQUFjTixLQUFLTSxZQUFZLElBQUk7UUFDbkNDLGFBQWFQLEtBQUtPLFdBQVcsSUFBSTtRQUNqQ0MsUUFBUVIsS0FBS1EsTUFBTSxJQUFJZix1REFBWUEsQ0FBQ2dCLEtBQUs7UUFDekNDLGlCQUFpQlYsS0FBS1UsZUFBZSxJQUFJO1FBQ3pDQyxnQkFBZ0JYLEtBQUtXLGNBQWM7UUFDbkNDLG1CQUFtQlosS0FBS1ksaUJBQWlCO1FBQ3pDQyxXQUFXbkIsaUJBQWlCTSxLQUFLYSxTQUFTO1FBQzFDQyxXQUFXcEIsaUJBQWlCTSxLQUFLYyxTQUFTO1FBQzFDQyxhQUFhZixLQUFLZSxXQUFXLEdBQUdyQixpQkFBaUJNLEtBQUtlLFdBQVcsSUFBSUM7UUFDckVDLGtCQUFrQmpCLEtBQUtpQixnQkFBZ0IsR0FBR3ZCLGlCQUFpQk0sS0FBS2lCLGdCQUFnQixJQUFJRDtJQUN0RjtJQUVBLCtC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QUNyRCxLQUFLLE1BQU01RixVQUFVMkYsUUFBUztnQkFDNUIsSUFBSTtvQkFDRixNQUFNNUUsVUFBVSxNQUFNN0IsMERBQU1BLENBQUNDLHVEQUFHQSxDQUFDRSw2Q0FBRUEsRUFBRSxTQUFTVztvQkFDOUMsSUFBSWUsUUFBUUMsTUFBTSxJQUFJO3dCQUNwQixNQUFNQyxXQUFXRixRQUFRbEIsSUFBSTt3QkFDN0IrRixNQUFNckMsSUFBSSxDQUFDOzRCQUNUeEQsSUFBSWdCLFFBQVFoQixFQUFFOzRCQUNkcUIsTUFBTUgsU0FBU0csSUFBSSxJQUFJO3dCQUN6QjtvQkFDRjtnQkFDRixFQUFFLE9BQU9NLE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLG1CQUFtQixFQUFFMUIsT0FBTyxDQUFDLENBQUMsRUFBRTBCO2dCQUNqRDtZQUNGO1lBRUEsT0FBT2tFLE1BQU03QixJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsRUFBRTVDLElBQUksQ0FBQ3lFLGFBQWEsQ0FBQzVCLEVBQUU3QyxJQUFJO1FBQ3pELEVBQUUsT0FBT00sT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtZQUN2QyxPQUFPLEVBQUU7UUFDWDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NvcnRlb3MtZnJvbnRlbmQvLi9zcmMvc2VydmljZXMvZmlyZWJhc2UtcmFmZmxlLXNlcnZpY2UudHM/ZGFkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBxdWVyeSxcbiAgd2hlcmUsXG4gIGdldERvY3MsXG4gIGdldERvYyxcbiAgZG9jLFxuICBvcmRlckJ5LFxuICBRdWVyeURvY3VtZW50U25hcHNob3QsXG4gIERvY3VtZW50RGF0YSxcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UnO1xuaW1wb3J0IHsgUmFmZmxlLCBSYWZmbGVTdGF0dXMgfSBmcm9tICdAL3R5cGVzL3JhZmZsZSc7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnQC90eXBlcy9wcm9kdWN0JztcbmltcG9ydCB7IFNob3AgfSBmcm9tICdAL3R5cGVzL3Nob3AnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJhZmZsZUZpbHRlcnMge1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgc2hvcElkPzogc3RyaW5nO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIG1pblZhbHVlPzogbnVtYmVyO1xuICBtYXhWYWx1ZT86IG51bWJlcjtcbiAgc2VhcmNoPzogc3RyaW5nO1xuICBzb3J0Qnk/OiAnbmV3ZXN0JyB8ICdjbG9zZXN0JyB8ICdwcmljZS1hc2MnIHwgJ3ByaWNlLWRlc2MnO1xuICBwYWdlPzogbnVtYmVyO1xuICBsaW1pdD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWdpbmF0ZWRSYWZmbGVzIHtcbiAgZGF0YTogUmFmZmxlW107XG4gIHRvdGFsOiBudW1iZXI7XG4gIHBhZ2U6IG51bWJlcjtcbiAgbGltaXQ6IG51bWJlcjtcbiAgdG90YWxQYWdlczogbnVtYmVyO1xufVxuXG4vLyBIZWxwZXIgcGFyYSBjb252ZXJ0aXIgRmlyZXN0b3JlIHRpbWVzdGFtcCBhIERhdGVcbmNvbnN0IGNvbnZlcnRUaW1lc3RhbXAgPSAodGltZXN0YW1wOiBhbnkpOiBEYXRlID0+IHtcbiAgaWYgKHRpbWVzdGFtcD8udG9EYXRlKSB7XG4gICAgcmV0dXJuIHRpbWVzdGFtcC50b0RhdGUoKTtcbiAgfVxuICBpZiAodGltZXN0YW1wIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiB0aW1lc3RhbXA7XG4gIH1cbiAgaWYgKHR5cGVvZiB0aW1lc3RhbXAgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKCk7XG59O1xuXG4vLyBIZWxwZXIgcGFyYSBjb252ZXJ0aXIgZG9jdW1lbnRvIGRlIEZpcmVzdG9yZSBhIFJhZmZsZVxuY29uc3QgY29udmVydFJhZmZsZURvYyA9IGFzeW5jIChkb2NTbmFwOiBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPik6IFByb21pc2U8UmFmZmxlPiA9PiB7XG4gIGNvbnN0IGRhdGEgPSBkb2NTbmFwLmRhdGEoKTtcbiAgY29uc3QgcmFmZmxlOiBSYWZmbGUgPSB7XG4gICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgc2hvcElkOiBkYXRhLnNob3BJZCB8fCAnJyxcbiAgICBwcm9kdWN0SWQ6IGRhdGEucHJvZHVjdElkIHx8ICcnLFxuICAgIHByb2R1Y3RWYWx1ZTogZGF0YS5wcm9kdWN0VmFsdWUgfHwgMCxcbiAgICB0b3RhbFRpY2tldHM6IGRhdGEudG90YWxUaWNrZXRzIHx8IDAsXG4gICAgc29sZFRpY2tldHM6IGRhdGEuc29sZFRpY2tldHMgfHwgMCxcbiAgICBzdGF0dXM6IGRhdGEuc3RhdHVzIHx8IFJhZmZsZVN0YXR1cy5EUkFGVCxcbiAgICByZXF1aXJlc0RlcG9zaXQ6IGRhdGEucmVxdWlyZXNEZXBvc2l0IHx8IGZhbHNlLFxuICAgIHdpbm5lclRpY2tldElkOiBkYXRhLndpbm5lclRpY2tldElkLFxuICAgIHNwZWNpYWxDb25kaXRpb25zOiBkYXRhLnNwZWNpYWxDb25kaXRpb25zLFxuICAgIGNyZWF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICBhY3RpdmF0ZWRBdDogZGF0YS5hY3RpdmF0ZWRBdCA/IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5hY3RpdmF0ZWRBdCkgOiB1bmRlZmluZWQsXG4gICAgcmFmZmxlRXhlY3V0ZWRBdDogZGF0YS5yYWZmbGVFeGVjdXRlZEF0ID8gY29udmVydFRpbWVzdGFtcChkYXRhLnJhZmZsZUV4ZWN1dGVkQXQpIDogdW5kZWZpbmVkLFxuICB9O1xuXG4gIC8vIENhcmdhciByZWxhY2lvbmVzIHNpIGV4aXN0ZW5cbiAgaWYgKGRhdGEuc2hvcElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNob3BEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAnc2hvcHMnLCBkYXRhLnNob3BJZCkpO1xuICAgICAgaWYgKHNob3BEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgY29uc3Qgc2hvcERhdGEgPSBzaG9wRG9jLmRhdGEoKTtcbiAgICAgICAgcmFmZmxlLnNob3AgPSB7XG4gICAgICAgICAgaWQ6IHNob3BEb2MuaWQsXG4gICAgICAgICAgdXNlcklkOiBzaG9wRGF0YS51c2VySWQgfHwgJycsXG4gICAgICAgICAgbmFtZTogc2hvcERhdGEubmFtZSB8fCAnJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc2hvcERhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgbG9nbzogc2hvcERhdGEubG9nbyxcbiAgICAgICAgICBwdWJsaWNFbWFpbDogc2hvcERhdGEucHVibGljRW1haWwsXG4gICAgICAgICAgcGhvbmU6IHNob3BEYXRhLnBob25lLFxuICAgICAgICAgIHNvY2lhbE1lZGlhOiBzaG9wRGF0YS5zb2NpYWxNZWRpYSxcbiAgICAgICAgICBzdGF0dXM6IHNob3BEYXRhLnN0YXR1cyB8fCAncGVuZGluZycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKHNob3BEYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKHNob3BEYXRhLnVwZGF0ZWRBdCksXG4gICAgICAgIH0gYXMgU2hvcDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzaG9wOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YS5wcm9kdWN0SWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZHVjdERvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICdwcm9kdWN0cycsIGRhdGEucHJvZHVjdElkKSk7XG4gICAgICBpZiAocHJvZHVjdERvYy5leGlzdHMoKSkge1xuICAgICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHByb2R1Y3REb2MuZGF0YSgpO1xuICAgICAgICByYWZmbGUucHJvZHVjdCA9IHtcbiAgICAgICAgICBpZDogcHJvZHVjdERvYy5pZCxcbiAgICAgICAgICBzaG9wSWQ6IHByb2R1Y3REYXRhLnNob3BJZCB8fCAnJyxcbiAgICAgICAgICBuYW1lOiBwcm9kdWN0RGF0YS5uYW1lIHx8ICcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0RGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICB2YWx1ZTogcHJvZHVjdERhdGEudmFsdWUgfHwgMCxcbiAgICAgICAgICBoZWlnaHQ6IHByb2R1Y3REYXRhLmhlaWdodCB8fCAwLFxuICAgICAgICAgIHdpZHRoOiBwcm9kdWN0RGF0YS53aWR0aCB8fCAwLFxuICAgICAgICAgIGRlcHRoOiBwcm9kdWN0RGF0YS5kZXB0aCB8fCAwLFxuICAgICAgICAgIHJlcXVpcmVzRGVwb3NpdDogcHJvZHVjdERhdGEucmVxdWlyZXNEZXBvc2l0IHx8IGZhbHNlLFxuICAgICAgICAgIGNhdGVnb3J5OiBwcm9kdWN0RGF0YS5jYXRlZ29yeSxcbiAgICAgICAgICBtYWluSW1hZ2U6IHByb2R1Y3REYXRhLm1haW5JbWFnZSxcbiAgICAgICAgICBzdGF0dXM6IHByb2R1Y3REYXRhLnN0YXR1cyB8fCAnaW5hY3RpdmUnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogY29udmVydFRpbWVzdGFtcChwcm9kdWN0RGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogY29udmVydFRpbWVzdGFtcChwcm9kdWN0RGF0YS51cGRhdGVkQXQpLFxuICAgICAgICB9IGFzIFByb2R1Y3Q7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcHJvZHVjdDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJhZmZsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaXJlYmFzZVJhZmZsZVNlcnZpY2UgPSB7XG4gIC8qKlxuICAgKiBPYnRpZW5lIHNvcnRlb3MgYWN0aXZvcyBjb24gZmlsdHJvcyB5IGLDunNxdWVkYVxuICAgKi9cbiAgYXN5bmMgZ2V0QWN0aXZlUmFmZmxlcyhmaWx0ZXJzPzogUmFmZmxlRmlsdGVycyk6IFByb21pc2U8UGFnaW5hdGVkUmFmZmxlcz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYWZmbGVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3JhZmZsZXMnKTtcbiAgICAgIFxuICAgICAgLy8gSW50ZW50YXIgY29uc3VsdGEgY29uIGZpbHRybyBkZSBzdGF0dXMsIHBlcm8gc2kgZmFsbGEgcG9yIMOtbmRpY2UsIG9idGVuZXIgdG9kb3MgeSBmaWx0cmFyXG4gICAgICBsZXQgYWxsRG9jcztcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBxID0gcXVlcnkocmFmZmxlc1JlZiwgd2hlcmUoJ3N0YXR1cycsICc9PScsIFJhZmZsZVN0YXR1cy5BQ1RJVkUpKTtcblxuICAgICAgICAvLyBBcGxpY2FyIGZpbHRyb3MgYWRpY2lvbmFsZXNcbiAgICAgICAgaWYgKGZpbHRlcnM/LnNob3BJZCkge1xuICAgICAgICAgIHEgPSBxdWVyeShxLCB3aGVyZSgnc2hvcElkJywgJz09JywgZmlsdGVycy5zaG9wSWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludGVudGFyIG9yZGVuYXIgc2kgbm8gaGF5IGZpbHRybyBkZSBzaG9wSWQgKHBhcmEgZXZpdGFyIHByb2JsZW1hcyBkZSDDrW5kaWNlcyBjb21wdWVzdG9zKVxuICAgICAgICBpZiAoIWZpbHRlcnM/LnNob3BJZCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVycz8uc29ydEJ5ID09PSAnbmV3ZXN0Jykge1xuICAgICAgICAgICAgICBxID0gcXVlcnkocSwgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcnM/LnNvcnRCeSA9PT0gJ2Nsb3Nlc3QnKSB7XG4gICAgICAgICAgICAgIHEgPSBxdWVyeShxLCBvcmRlckJ5KCdzb2xkVGlja2V0cycsICdkZXNjJykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzPy5zb3J0QnkgPT09ICdwcmljZS1hc2MnKSB7XG4gICAgICAgICAgICAgIHEgPSBxdWVyeShxLCBvcmRlckJ5KCdwcm9kdWN0VmFsdWUnLCAnYXNjJykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzPy5zb3J0QnkgPT09ICdwcmljZS1kZXNjJykge1xuICAgICAgICAgICAgICBxID0gcXVlcnkocSwgb3JkZXJCeSgncHJvZHVjdFZhbHVlJywgJ2Rlc2MnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBxID0gcXVlcnkocSwgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGxEb2NzID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgICAgICB9IGNhdGNoIChvcmRlckVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIC8vIFNpIGZhbGxhIGVsIG9yZGVyQnksIGludGVudGFyIHNpbiBvcmRlbmFyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGNvbiBvcmRlckJ5LCBvYnRlbmllbmRvIHNpbiBvcmRlbmFyOicsIG9yZGVyRXJyb3IpO1xuICAgICAgICAgICAgaWYgKGZpbHRlcnM/LnNob3BJZCkge1xuICAgICAgICAgICAgICBxID0gcXVlcnkocmFmZmxlc1JlZiwgd2hlcmUoJ3N0YXR1cycsICc9PScsIFJhZmZsZVN0YXR1cy5BQ1RJVkUpLCB3aGVyZSgnc2hvcElkJywgJz09JywgZmlsdGVycy5zaG9wSWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHEgPSBxdWVyeShyYWZmbGVzUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgUmFmZmxlU3RhdHVzLkFDVElWRSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxsRG9jcyA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbERvY3MgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChxdWVyeUVycm9yOiBhbnkpIHtcbiAgICAgICAgLy8gU2kgZmFsbGEgbGEgY29uc3VsdGEgY29uIHdoZXJlLCBvYnRlbmVyIHRvZG9zIHkgZmlsdHJhciBlbiBtZW1vcmlhXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgZW4gY29uc3VsdGEgY29uIHdoZXJlLCBvYnRlbmllbmRvIHRvZG9zIGxvcyBzb3J0ZW9zOicsIHF1ZXJ5RXJyb3IpO1xuICAgICAgICBjb25zdCBhbGxSYWZmbGVzUXVlcnkgPSBxdWVyeShyYWZmbGVzUmVmKTtcbiAgICAgICAgY29uc3QgYWxsUmFmZmxlc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhhbGxSYWZmbGVzUXVlcnkpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmlsdHJhciBwb3Igc3RhdHVzIGFjdGl2byBlbiBtZW1vcmlhXG4gICAgICAgIGFsbERvY3MgPSB7XG4gICAgICAgICAgZG9jczogYWxsUmFmZmxlc1NuYXBzaG90LmRvY3MuZmlsdGVyKGRvYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBkb2MuZGF0YSgpLnN0YXR1cztcbiAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IFJhZmZsZVN0YXR1cy5BQ1RJVkUgfHwgc3RhdHVzID09PSAnYWN0aXZlJztcbiAgICAgICAgICB9KVxuICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFNvcnRlb3MgYWN0aXZvcyBlbmNvbnRyYWRvcyBkZXNwdcOpcyBkZSBmaWx0cmFyOiAke2FsbERvY3MuZG9jcy5sZW5ndGh9IGRlICR7YWxsUmFmZmxlc1NuYXBzaG90LmRvY3MubGVuZ3RofSB0b3RhbGVzYCk7XG4gICAgICB9XG5cbiAgICAgIGxldCByYWZmbGVzOiBSYWZmbGVbXSA9IFtdO1xuXG4gICAgICAvLyBDb252ZXJ0aXIgZG9jdW1lbnRvc1xuICAgICAgZm9yIChjb25zdCBkb2NTbmFwIG9mIGFsbERvY3MuZG9jcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJhZmZsZSA9IGF3YWl0IGNvbnZlcnRSYWZmbGVEb2MoZG9jU25hcCk7XG4gICAgICAgICAgcmFmZmxlcy5wdXNoKHJhZmZsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29udmVydGluZyByYWZmbGUgZG9jOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFNvcnRlb3MgYWN0aXZvcyBjYXJnYWRvczogJHtyYWZmbGVzLmxlbmd0aH1gKTtcblxuICAgICAgLy8gQXBsaWNhciBmaWx0cm9zIHF1ZSByZXF1aWVyZW4gbG9zIGRhdG9zIGNvbXBsZXRvc1xuICAgICAgaWYgKGZpbHRlcnM/LmNhdGVnb3J5KSB7XG4gICAgICAgIHJhZmZsZXMgPSByYWZmbGVzLmZpbHRlcigocikgPT4gci5wcm9kdWN0Py5jYXRlZ29yeSA9PT0gZmlsdGVycy5jYXRlZ29yeSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWx0ZXJzPy5taW5WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJhZmZsZXMgPSByYWZmbGVzLmZpbHRlcigocikgPT4gci5wcm9kdWN0VmFsdWUgPj0gZmlsdGVycy5taW5WYWx1ZSEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycz8ubWF4VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByYWZmbGVzID0gcmFmZmxlcy5maWx0ZXIoKHIpID0+IHIucHJvZHVjdFZhbHVlIDw9IGZpbHRlcnMubWF4VmFsdWUhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnM/LnNlYXJjaCkge1xuICAgICAgICBjb25zdCBzZWFyY2hMb3dlciA9IGZpbHRlcnMuc2VhcmNoLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJhZmZsZXMgPSByYWZmbGVzLmZpbHRlcihcbiAgICAgICAgICAocikgPT5cbiAgICAgICAgICAgIHIucHJvZHVjdD8ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgICAgci5wcm9kdWN0Py5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgICAgci5zaG9wPy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBPcmRlbmFyIGVuIG1lbW9yaWEgc2kgaGF5IGZpbHRybyBkZSBzaG9wSWQgbyBzaSBubyBzZSBwdWRvIG9yZGVuYXIgZW4gbGEgY29uc3VsdGFcbiAgICAgIGlmIChmaWx0ZXJzPy5zaG9wSWQgfHwgZmlsdGVycz8uc29ydEJ5KSB7XG4gICAgICAgIGlmIChmaWx0ZXJzPy5zb3J0QnkgPT09ICduZXdlc3QnKSB7XG4gICAgICAgICAgcmFmZmxlcy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSBhLmNyZWF0ZWRBdC5nZXRUaW1lKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcnM/LnNvcnRCeSA9PT0gJ2Nsb3Nlc3QnKSB7XG4gICAgICAgICAgcmFmZmxlcy5zb3J0KChhLCBiKSA9PiBiLnNvbGRUaWNrZXRzIC0gYS5zb2xkVGlja2V0cyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVycz8uc29ydEJ5ID09PSAncHJpY2UtYXNjJykge1xuICAgICAgICAgIHJhZmZsZXMuc29ydCgoYSwgYikgPT4gYS5wcm9kdWN0VmFsdWUgLSBiLnByb2R1Y3RWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVycz8uc29ydEJ5ID09PSAncHJpY2UtZGVzYycpIHtcbiAgICAgICAgICByYWZmbGVzLnNvcnQoKGEsIGIpID0+IGIucHJvZHVjdFZhbHVlIC0gYS5wcm9kdWN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFwbGljYXIgcGFnaW5hY2nDs24gbWFudWFsXG4gICAgICBjb25zdCB0b3RhbCA9IHJhZmZsZXMubGVuZ3RoO1xuICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKTtcbiAgICAgIGNvbnN0IHBhZ2luYXRlZFJhZmZsZXMgPSByYWZmbGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcGFnZVNpemUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBwYWdpbmF0ZWRSYWZmbGVzLFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgbGltaXQ6IHBhZ2VTaXplLFxuICAgICAgICB0b3RhbFBhZ2VzLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHJhZmZsZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPYnRpZW5lIHVuIHNvcnRlbyBlc3BlY8OtZmljbyBwb3IgSUQgKHDDumJsaWNvKVxuICAgKi9cbiAgYXN5bmMgZ2V0UmFmZmxlQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxSYWZmbGU+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmFmZmxlRG9jID0gYXdhaXQgZ2V0RG9jKGRvYyhkYiwgJ3JhZmZsZXMnLCBpZCkpO1xuICAgICAgaWYgKCFyYWZmbGVEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYWZmbGUgbm90IGZvdW5kJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgY29udmVydFJhZmZsZURvYyhyYWZmbGVEb2MgYXMgUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByYWZmbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPYnRpZW5lIHNvcnRlb3MgZGUgdW5hIHRpZW5kYSBlc3BlY8OtZmljYSAocMO6YmxpY28pXG4gICAqL1xuICBhc3luYyBnZXRSYWZmbGVzQnlTaG9wKHNob3BJZDogc3RyaW5nLCBmaWx0ZXJzPzogT21pdDxSYWZmbGVGaWx0ZXJzLCAnc2hvcElkJz4pOiBQcm9taXNlPFBhZ2luYXRlZFJhZmZsZXM+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmFmZmxlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdyYWZmbGVzJyk7XG4gICAgICAvLyBObyBvcmRlbmFtb3MgZW4gbGEgY29uc3VsdGEgcGFyYSBldml0YXIgcHJvYmxlbWFzIGRlIMOtbmRpY2VzIGNvbXB1ZXN0b3NcbiAgICAgIC8vIE9yZGVuYXJlbW9zIGVuIG1lbW9yaWEgZGVzcHXDqXNcbiAgICAgIGxldCBxID0gcXVlcnkocmFmZmxlc1JlZiwgd2hlcmUoJ3Nob3BJZCcsICc9PScsIHNob3BJZCksIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBSYWZmbGVTdGF0dXMuQUNUSVZFKSk7XG5cbiAgICAgIGNvbnN0IGFsbERvY3MgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgbGV0IHJhZmZsZXM6IFJhZmZsZVtdID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgZG9jU25hcCBvZiBhbGxEb2NzLmRvY3MpIHtcbiAgICAgICAgY29uc3QgcmFmZmxlID0gYXdhaXQgY29udmVydFJhZmZsZURvYyhkb2NTbmFwKTtcbiAgICAgICAgcmFmZmxlcy5wdXNoKHJhZmZsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwbGljYXIgYsO6c3F1ZWRhIHNpIGV4aXN0ZVxuICAgICAgaWYgKGZpbHRlcnM/LnNlYXJjaCkge1xuICAgICAgICBjb25zdCBzZWFyY2hMb3dlciA9IGZpbHRlcnMuc2VhcmNoLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJhZmZsZXMgPSByYWZmbGVzLmZpbHRlcihcbiAgICAgICAgICAocikgPT5cbiAgICAgICAgICAgIHIucHJvZHVjdD8ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgICAgci5wcm9kdWN0Py5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3JkZW5hciBlbiBtZW1vcmlhXG4gICAgICBpZiAoZmlsdGVycz8uc29ydEJ5ID09PSAnbmV3ZXN0Jykge1xuICAgICAgICByYWZmbGVzLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcnM/LnNvcnRCeSA9PT0gJ2Nsb3Nlc3QnKSB7XG4gICAgICAgIHJhZmZsZXMuc29ydCgoYSwgYikgPT4gYi5zb2xkVGlja2V0cyAtIGEuc29sZFRpY2tldHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFmZmxlcy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSBhLmNyZWF0ZWRBdC5nZXRUaW1lKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBQYWdpbmFjacOzblxuICAgICAgY29uc3QgcGFnZVNpemUgPSBmaWx0ZXJzPy5saW1pdCB8fCAxMjtcbiAgICAgIGNvbnN0IHBhZ2UgPSBmaWx0ZXJzPy5wYWdlIHx8IDE7XG4gICAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG4gICAgICBjb25zdCB0b3RhbCA9IHJhZmZsZXMubGVuZ3RoO1xuICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKTtcbiAgICAgIGNvbnN0IHBhZ2luYXRlZFJhZmZsZXMgPSByYWZmbGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcGFnZVNpemUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBwYWdpbmF0ZWRSYWZmbGVzLFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgbGltaXQ6IHBhZ2VTaXplLFxuICAgICAgICB0b3RhbFBhZ2VzLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2hvcCByYWZmbGVzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogT2J0aWVuZSBjYXRlZ29yw61hcyBkaXNwb25pYmxlcyBwYXJhIGZpbHRyYXJcbiAgICovXG4gIGFzeW5jIGdldENhdGVnb3JpZXMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9kdWN0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICdwcm9kdWN0cycpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KHByb2R1Y3RzUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgJ2FjdGl2ZScpKTtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5KSB7XG4gICAgICAgICAgY2F0ZWdvcmllcy5hZGQoZGF0YS5jYXRlZ29yeSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShjYXRlZ29yaWVzKS5zb3J0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhdGVnb3JpZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogT2J0aWVuZSB0aWVuZGFzIGNvbiBzb3J0ZW9zIGFjdGl2b3NcbiAgICovXG4gIGFzeW5jIGdldFNob3BzV2l0aEFjdGl2ZVJhZmZsZXMoKTogUHJvbWlzZTxBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9Pj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYWZmbGVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3JhZmZsZXMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShyYWZmbGVzUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgUmFmZmxlU3RhdHVzLkFDVElWRSkpO1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgICBjb25zdCBzaG9wSWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgaWYgKGRhdGEuc2hvcElkKSB7XG4gICAgICAgICAgc2hvcElkcy5hZGQoZGF0YS5zaG9wSWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gT2J0ZW5lciBpbmZvcm1hY2nDs24gZGUgbGFzIHRpZW5kYXNcbiAgICAgIGNvbnN0IHNob3BzOiBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9PiA9IFtdO1xuICAgICAgZm9yIChjb25zdCBzaG9wSWQgb2Ygc2hvcElkcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHNob3BEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAnc2hvcHMnLCBzaG9wSWQpKTtcbiAgICAgICAgICBpZiAoc2hvcERvYy5leGlzdHMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hvcERhdGEgPSBzaG9wRG9jLmRhdGEoKTtcbiAgICAgICAgICAgIHNob3BzLnB1c2goe1xuICAgICAgICAgICAgICBpZDogc2hvcERvYy5pZCxcbiAgICAgICAgICAgICAgbmFtZTogc2hvcERhdGEubmFtZSB8fCAnVGllbmRhIHNpbiBub21icmUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgc2hvcCAke3Nob3BJZH06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG9wcy5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2hvcHM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSxcbn07XG5cbiJdLCJuYW1lcyI6WyJjb2xsZWN0aW9uIiwicXVlcnkiLCJ3aGVyZSIsImdldERvY3MiLCJnZXREb2MiLCJkb2MiLCJvcmRlckJ5IiwiZGIiLCJSYWZmbGVTdGF0dXMiLCJjb252ZXJ0VGltZXN0YW1wIiwidGltZXN0YW1wIiwidG9EYXRlIiwiRGF0ZSIsImNvbnZlcnRSYWZmbGVEb2MiLCJkb2NTbmFwIiwiZGF0YSIsInJhZmZsZSIsImlkIiwic2hvcElkIiwicHJvZHVjdElkIiwicHJvZHVjdFZhbHVlIiwidG90YWxUaWNrZXRzIiwic29sZFRpY2tldHMiLCJzdGF0dXMiLCJEUkFGVCIsInJlcXVpcmVzRGVwb3NpdCIsIndpbm5lclRpY2tldElkIiwic3BlY2lhbENvbmRpdGlvbnMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJhY3RpdmF0ZWRBdCIsInVuZGVmaW5lZCIsInJhZmZsZUV4ZWN1dGVkQXQiLCJzaG9wRG9jIiwiZXhpc3RzIiwic2hvcERhdGEiLCJzaG9wIiwidXNlcklkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwibG9nbyIsInB1YmxpY0VtYWlsIiwicGhvbmUiLCJzb2NpYWxNZWRpYSIsImVycm9yIiwiY29uc29sZSIsInByb2R1Y3REb2MiLCJwcm9kdWN0RGF0YSIsInByb2R1Y3QiLCJ2YWx1ZSIsImhlaWdodCIsIndpZHRoIiwiZGVwdGgiLCJjYXRlZ29yeSIsIm1haW5JbWFnZSIsImZpcmViYXNlUmFmZmxlU2VydmljZSIsImdldEFjdGl2ZVJhZmZsZXMiLCJmaWx0ZXJzIiwicmFmZmxlc1JlZiIsImFsbERvY3MiLCJxIiwiQUNUSVZFIiwic29ydEJ5Iiwib3JkZXJFcnJvciIsIndhcm4iLCJxdWVyeUVycm9yIiwiYWxsUmFmZmxlc1F1ZXJ5IiwiYWxsUmFmZmxlc1NuYXBzaG90IiwiZG9jcyIsImZpbHRlciIsImxvZyIsImxlbmd0aCIsInJhZmZsZXMiLCJwdXNoIiwiciIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzZWFyY2giLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsImIiLCJnZXRUaW1lIiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJwYWdlU2l6ZSIsInBhZ2luYXRlZFJhZmZsZXMiLCJzbGljZSIsIm9mZnNldCIsInBhZ2UiLCJsaW1pdCIsImdldFJhZmZsZUJ5SWQiLCJyYWZmbGVEb2MiLCJFcnJvciIsImdldFJhZmZsZXNCeVNob3AiLCJnZXRDYXRlZ29yaWVzIiwicHJvZHVjdHNSZWYiLCJzbmFwc2hvdCIsImNhdGVnb3JpZXMiLCJTZXQiLCJmb3JFYWNoIiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiZ2V0U2hvcHNXaXRoQWN0aXZlUmFmZmxlcyIsInNob3BJZHMiLCJzaG9wcyIsImxvY2FsZUNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/services/firebase-raffle-service.ts\n");

/***/ }),

/***/ "(ssr)/./src/services/firebase-raffle-write-service.ts":
/*!*******************************************************!*\
  !*** ./src/services/firebase-raffle-write-service.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   firebaseRaffleWriteService: () => (/* binding */ firebaseRaffleWriteService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/../node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase */ \"(ssr)/./src/lib/firebase.ts\");\n/* harmony import */ var _types_raffle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/raffle */ \"(ssr)/./src/types/raffle.ts\");\n\n\n\n// Helper para convertir Firestore timestamp a Date\nconst convertTimestamp = (timestamp)=>{\n    if (timestamp?.toDate) {\n        return timestamp.toDate();\n    }\n    if (timestamp instanceof Date) {\n        return timestamp;\n    }\n    if (typeof timestamp === \"string\") {\n        return new Date(timestamp);\n    }\n    return new Date();\n};\n// Helper para convertir documento de Firestore a Raffle\nconst convertRaffleDoc = async (docSnap)=>{\n    const data = docSnap.data();\n    return {\n        id: docSnap.id,\n        shopId: data.shopId || \"\",\n        productId: data.productId || \"\",\n        productValue: data.productValue || 0,\n        totalTickets: data.totalTickets || 0,\n        soldTickets: data.soldTickets || 0,\n        status: data.status || _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.DRAFT,\n        requiresDeposit: data.requiresDeposit || false,\n        winnerTicketId: data.winnerTicketId,\n        specialConditions: data.specialConditions,\n        createdAt: convertTimestamp(data.createdAt),\n        updatedAt: convertTimestamp(data.updatedAt),\n        activatedAt: data.activatedAt ? convertTimestamp(data.activatedAt) : undefined,\n        raffleExecutedAt: data.raffleExecutedAt ? convertTimestamp(data.raffleExecutedAt) : undefined\n    };\n};\nconst firebaseRaffleWriteService = {\n    /**\n   * Crea un nuevo sorteo\n   * Calcula automÃ¡ticamente los tickets como el doble del valor del producto\n   */ async createRaffle (data) {\n        try {\n            // Obtener el producto para calcular los tickets\n            const productDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"products\", data.productId));\n            if (!productDoc.exists()) {\n                throw new Error(\"Producto no encontrado\");\n            }\n            const productData = productDoc.data();\n            const productValue = productData.value || 0;\n            // Calcular tickets: doble del valor del producto\n            const totalTickets = Math.floor(productValue * 2);\n            if (totalTickets <= 0) {\n                throw new Error(\"El valor del producto debe ser mayor a 0\");\n            }\n            const rafflesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\");\n            const raffleData = {\n                shopId: data.shopId,\n                productId: data.productId,\n                productValue: productValue,\n                totalTickets: totalTickets,\n                soldTickets: 0,\n                status: _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.DRAFT,\n                requiresDeposit: productData.requiresDeposit || false,\n                specialConditions: data.specialConditions || null,\n                winnerTicketId: null,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            };\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)(rafflesRef, raffleData);\n            const raffleDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (!raffleDoc.exists()) {\n                throw new Error(\"Error al crear el sorteo\");\n            }\n            return await convertRaffleDoc(raffleDoc);\n        } catch (error) {\n            console.error(\"Error creating raffle:\", error);\n            throw error;\n        }\n    },\n    /**\n   * Actualiza un sorteo existente\n   */ async updateRaffle (id, data) {\n        try {\n            const raffleRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\", id);\n            const updateData = {\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            };\n            if (data.specialConditions !== undefined) {\n                updateData.specialConditions = data.specialConditions;\n            }\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(raffleRef, updateData);\n            const updatedDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(raffleRef);\n            if (!updatedDoc.exists()) {\n                throw new Error(\"Sorteo no encontrado\");\n            }\n            return await convertRaffleDoc(updatedDoc);\n        } catch (error) {\n            console.error(\"Error updating raffle:\", error);\n            throw error;\n        }\n    },\n    /**\n   * EnvÃ­a un sorteo para aprobaciÃ³n\n   */ async submitForApproval (id) {\n        try {\n            const raffleRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\", id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(raffleRef, {\n                status: _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.PENDING_APPROVAL,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            });\n            const updatedDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(raffleRef);\n            if (!updatedDoc.exists()) {\n                throw new Error(\"Sorteo no encontrado\");\n            }\n            return await convertRaffleDoc(updatedDoc);\n        } catch (error) {\n            console.error(\"Error submitting raffle for approval:\", error);\n            throw error;\n        }\n    },\n    /**\n   * Cancela un sorteo\n   */ async cancelRaffle (id) {\n        try {\n            const raffleRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"raffles\", id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(raffleRef, {\n                status: _types_raffle__WEBPACK_IMPORTED_MODULE_2__.RaffleStatus.CANCELLED,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            });\n            const updatedDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(raffleRef);\n            if (!updatedDoc.exists()) {\n                throw new Error(\"Sorteo no encontrado\");\n            }\n            return await convertRaffleDoc(updatedDoc);\n        } catch (error) {\n            console.error(\"Error cancelling raffle:\", error);\n            throw error;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc2VydmljZXMvZmlyZWJhc2UtcmFmZmxlLXdyaXRlLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVM0QjtBQUNRO0FBQ29EO0FBR3hGLG1EQUFtRDtBQUNuRCxNQUFNUSxtQkFBbUIsQ0FBQ0M7SUFDeEIsSUFBSUEsV0FBV0MsUUFBUTtRQUNyQixPQUFPRCxVQUFVQyxNQUFNO0lBQ3pCO0lBQ0EsSUFBSUQscUJBQXFCRSxNQUFNO1FBQzdCLE9BQU9GO0lBQ1Q7SUFDQSxJQUFJLE9BQU9BLGNBQWMsVUFBVTtRQUNqQyxPQUFPLElBQUlFLEtBQUtGO0lBQ2xCO0lBQ0EsT0FBTyxJQUFJRTtBQUNiO0FBRUEsd0RBQXdEO0FBQ3hELE1BQU1DLG1CQUFtQixPQUFPQztJQUM5QixNQUFNQyxPQUFPRCxRQUFRQyxJQUFJO0lBQ3pCLE9BQU87UUFDTEMsSUFBSUYsUUFBUUUsRUFBRTtRQUNkQyxRQUFRRixLQUFLRSxNQUFNLElBQUk7UUFDdkJDLFdBQVdILEtBQUtHLFNBQVMsSUFBSTtRQUM3QkMsY0FBY0osS0FBS0ksWUFBWSxJQUFJO1FBQ25DQyxjQUFjTCxLQUFLSyxZQUFZLElBQUk7UUFDbkNDLGFBQWFOLEtBQUtNLFdBQVcsSUFBSTtRQUNqQ0MsUUFBUVAsS0FBS08sTUFBTSxJQUFJZCx1REFBWUEsQ0FBQ2UsS0FBSztRQUN6Q0MsaUJBQWlCVCxLQUFLUyxlQUFlLElBQUk7UUFDekNDLGdCQUFnQlYsS0FBS1UsY0FBYztRQUNuQ0MsbUJBQW1CWCxLQUFLVyxpQkFBaUI7UUFDekNDLFdBQVdsQixpQkFBaUJNLEtBQUtZLFNBQVM7UUFDMUNDLFdBQVduQixpQkFBaUJNLEtBQUthLFNBQVM7UUFDMUNDLGFBQWFkLEtBQUtjLFdBQVcsR0FBR3BCLGlCQUFpQk0sS0FBS2MsV0FBVyxJQUFJQztRQUNyRUMsa0JBQWtCaEIsS0FBS2dCLGdCQUFnQixHQUFHdEIsaUJBQWlCTSxLQUFLZ0IsZ0JBQWdCLElBQUlEO0lBQ3RGO0FBQ0Y7QUFFTyxN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UUFDUjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNUSxjQUFhckMsRUFBVTtRQUMzQixJQUFJO1lBQ0YsTUFBTWdDLFlBQVk1Qyx1REFBR0EsQ0FBQ0csNkNBQUVBLEVBQUUsV0FBV1M7WUFDckMsTUFBTWIsNkRBQVNBLENBQUM2QyxXQUFXO2dCQUN6QjFCLFFBQVFkLHVEQUFZQSxDQUFDOEMsU0FBUztnQkFDOUIxQixXQUFXdEIsbUVBQWVBO1lBQzVCO1lBRUEsTUFBTTRDLGFBQWEsTUFBTTdDLDBEQUFNQSxDQUFDMkM7WUFDaEMsSUFBSSxDQUFDRSxXQUFXZixNQUFNLElBQUk7Z0JBQ3hCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLE9BQU8sTUFBTXZCLGlCQUFpQnFDO1FBQ2hDLEVBQUUsT0FBT0wsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29ydGVvcy1mcm9udGVuZC8uL3NyYy9zZXJ2aWNlcy9maXJlYmFzZS1yYWZmbGUtd3JpdGUtc2VydmljZS50cz84NWMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbGxlY3Rpb24sXG4gIGFkZERvYyxcbiAgdXBkYXRlRG9jLFxuICBkb2MsXG4gIGdldERvYyxcbiAgc2VydmVyVGltZXN0YW1wLFxuICBRdWVyeURvY3VtZW50U25hcHNob3QsXG4gIERvY3VtZW50RGF0YSxcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UnO1xuaW1wb3J0IHsgUmFmZmxlLCBSYWZmbGVTdGF0dXMsIENyZWF0ZVJhZmZsZUR0bywgVXBkYXRlUmFmZmxlRHRvIH0gZnJvbSAnQC90eXBlcy9yYWZmbGUnO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gJ0AvdHlwZXMvcHJvZHVjdCc7XG5cbi8vIEhlbHBlciBwYXJhIGNvbnZlcnRpciBGaXJlc3RvcmUgdGltZXN0YW1wIGEgRGF0ZVxuY29uc3QgY29udmVydFRpbWVzdGFtcCA9ICh0aW1lc3RhbXA6IGFueSk6IERhdGUgPT4ge1xuICBpZiAodGltZXN0YW1wPy50b0RhdGUpIHtcbiAgICByZXR1cm4gdGltZXN0YW1wLnRvRGF0ZSgpO1xuICB9XG4gIGlmICh0aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIHRpbWVzdGFtcDtcbiAgfVxuICBpZiAodHlwZW9mIHRpbWVzdGFtcCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wKTtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUoKTtcbn07XG5cbi8vIEhlbHBlciBwYXJhIGNvbnZlcnRpciBkb2N1bWVudG8gZGUgRmlyZXN0b3JlIGEgUmFmZmxlXG5jb25zdCBjb252ZXJ0UmFmZmxlRG9jID0gYXN5bmMgKGRvY1NuYXA6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KTogUHJvbWlzZTxSYWZmbGU+ID0+IHtcbiAgY29uc3QgZGF0YSA9IGRvY1NuYXAuZGF0YSgpO1xuICByZXR1cm4ge1xuICAgIGlkOiBkb2NTbmFwLmlkLFxuICAgIHNob3BJZDogZGF0YS5zaG9wSWQgfHwgJycsXG4gICAgcHJvZHVjdElkOiBkYXRhLnByb2R1Y3RJZCB8fCAnJyxcbiAgICBwcm9kdWN0VmFsdWU6IGRhdGEucHJvZHVjdFZhbHVlIHx8IDAsXG4gICAgdG90YWxUaWNrZXRzOiBkYXRhLnRvdGFsVGlja2V0cyB8fCAwLFxuICAgIHNvbGRUaWNrZXRzOiBkYXRhLnNvbGRUaWNrZXRzIHx8IDAsXG4gICAgc3RhdHVzOiBkYXRhLnN0YXR1cyB8fCBSYWZmbGVTdGF0dXMuRFJBRlQsXG4gICAgcmVxdWlyZXNEZXBvc2l0OiBkYXRhLnJlcXVpcmVzRGVwb3NpdCB8fCBmYWxzZSxcbiAgICB3aW5uZXJUaWNrZXRJZDogZGF0YS53aW5uZXJUaWNrZXRJZCxcbiAgICBzcGVjaWFsQ29uZGl0aW9uczogZGF0YS5zcGVjaWFsQ29uZGl0aW9ucyxcbiAgICBjcmVhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgIHVwZGF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCksXG4gICAgYWN0aXZhdGVkQXQ6IGRhdGEuYWN0aXZhdGVkQXQgPyBjb252ZXJ0VGltZXN0YW1wKGRhdGEuYWN0aXZhdGVkQXQpIDogdW5kZWZpbmVkLFxuICAgIHJhZmZsZUV4ZWN1dGVkQXQ6IGRhdGEucmFmZmxlRXhlY3V0ZWRBdCA/IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5yYWZmbGVFeGVjdXRlZEF0KSA6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaXJlYmFzZVJhZmZsZVdyaXRlU2VydmljZSA9IHtcbiAgLyoqXG4gICAqIENyZWEgdW4gbnVldm8gc29ydGVvXG4gICAqIENhbGN1bGEgYXV0b23DoXRpY2FtZW50ZSBsb3MgdGlja2V0cyBjb21vIGVsIGRvYmxlIGRlbCB2YWxvciBkZWwgcHJvZHVjdG9cbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJhZmZsZShkYXRhOiBDcmVhdGVSYWZmbGVEdG8pOiBQcm9taXNlPFJhZmZsZT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBPYnRlbmVyIGVsIHByb2R1Y3RvIHBhcmEgY2FsY3VsYXIgbG9zIHRpY2tldHNcbiAgICAgIGNvbnN0IHByb2R1Y3REb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAncHJvZHVjdHMnLCBkYXRhLnByb2R1Y3RJZCkpO1xuICAgICAgaWYgKCFwcm9kdWN0RG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvZHVjdG8gbm8gZW5jb250cmFkbycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHByb2R1Y3REb2MuZGF0YSgpIGFzIFByb2R1Y3Q7XG4gICAgICBjb25zdCBwcm9kdWN0VmFsdWUgPSBwcm9kdWN0RGF0YS52YWx1ZSB8fCAwO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhciB0aWNrZXRzOiBkb2JsZSBkZWwgdmFsb3IgZGVsIHByb2R1Y3RvXG4gICAgICBjb25zdCB0b3RhbFRpY2tldHMgPSBNYXRoLmZsb29yKHByb2R1Y3RWYWx1ZSAqIDIpO1xuXG4gICAgICBpZiAodG90YWxUaWNrZXRzIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCB2YWxvciBkZWwgcHJvZHVjdG8gZGViZSBzZXIgbWF5b3IgYSAwJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJhZmZsZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAncmFmZmxlcycpO1xuICAgICAgY29uc3QgcmFmZmxlRGF0YSA9IHtcbiAgICAgICAgc2hvcElkOiBkYXRhLnNob3BJZCxcbiAgICAgICAgcHJvZHVjdElkOiBkYXRhLnByb2R1Y3RJZCxcbiAgICAgICAgcHJvZHVjdFZhbHVlOiBwcm9kdWN0VmFsdWUsXG4gICAgICAgIHRvdGFsVGlja2V0czogdG90YWxUaWNrZXRzLFxuICAgICAgICBzb2xkVGlja2V0czogMCxcbiAgICAgICAgc3RhdHVzOiBSYWZmbGVTdGF0dXMuRFJBRlQsXG4gICAgICAgIHJlcXVpcmVzRGVwb3NpdDogcHJvZHVjdERhdGEucmVxdWlyZXNEZXBvc2l0IHx8IGZhbHNlLFxuICAgICAgICBzcGVjaWFsQ29uZGl0aW9uczogZGF0YS5zcGVjaWFsQ29uZGl0aW9ucyB8fCBudWxsLFxuICAgICAgICB3aW5uZXJUaWNrZXRJZDogbnVsbCxcbiAgICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhyYWZmbGVzUmVmLCByYWZmbGVEYXRhKTtcbiAgICAgIGNvbnN0IHJhZmZsZURvYyA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgICAgXG4gICAgICBpZiAoIXJhZmZsZURvYy5leGlzdHMoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGVsIHNvcnRlbycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgY29udmVydFJhZmZsZURvYyhyYWZmbGVEb2MgYXMgUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyByYWZmbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBY3R1YWxpemEgdW4gc29ydGVvIGV4aXN0ZW50ZVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUmFmZmxlKGlkOiBzdHJpbmcsIGRhdGE6IFVwZGF0ZVJhZmZsZUR0byk6IFByb21pc2U8UmFmZmxlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhZmZsZVJlZiA9IGRvYyhkYiwgJ3JhZmZsZXMnLCBpZCk7XG4gICAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7XG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB9O1xuXG4gICAgICBpZiAoZGF0YS5zcGVjaWFsQ29uZGl0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZURhdGEuc3BlY2lhbENvbmRpdGlvbnMgPSBkYXRhLnNwZWNpYWxDb25kaXRpb25zO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB1cGRhdGVEb2MocmFmZmxlUmVmLCB1cGRhdGVEYXRhKTtcbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlZERvYyA9IGF3YWl0IGdldERvYyhyYWZmbGVSZWYpO1xuICAgICAgaWYgKCF1cGRhdGVkRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU29ydGVvIG5vIGVuY29udHJhZG8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IGNvbnZlcnRSYWZmbGVEb2ModXBkYXRlZERvYyBhcyBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHJhZmZsZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVudsOtYSB1biBzb3J0ZW8gcGFyYSBhcHJvYmFjacOzblxuICAgKi9cbiAgYXN5bmMgc3VibWl0Rm9yQXBwcm92YWwoaWQ6IHN0cmluZyk6IFByb21pc2U8UmFmZmxlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhZmZsZVJlZiA9IGRvYyhkYiwgJ3JhZmZsZXMnLCBpZCk7XG4gICAgICBhd2FpdCB1cGRhdGVEb2MocmFmZmxlUmVmLCB7XG4gICAgICAgIHN0YXR1czogUmFmZmxlU3RhdHVzLlBFTkRJTkdfQVBQUk9WQUwsXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdXBkYXRlZERvYyA9IGF3YWl0IGdldERvYyhyYWZmbGVSZWYpO1xuICAgICAgaWYgKCF1cGRhdGVkRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU29ydGVvIG5vIGVuY29udHJhZG8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IGNvbnZlcnRSYWZmbGVEb2ModXBkYXRlZERvYyBhcyBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgcmFmZmxlIGZvciBhcHByb3ZhbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbmNlbGEgdW4gc29ydGVvXG4gICAqL1xuICBhc3luYyBjYW5jZWxSYWZmbGUoaWQ6IHN0cmluZyk6IFByb21pc2U8UmFmZmxlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhZmZsZVJlZiA9IGRvYyhkYiwgJ3JhZmZsZXMnLCBpZCk7XG4gICAgICBhd2FpdCB1cGRhdGVEb2MocmFmZmxlUmVmLCB7XG4gICAgICAgIHN0YXR1czogUmFmZmxlU3RhdHVzLkNBTkNFTExFRCxcbiAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB1cGRhdGVkRG9jID0gYXdhaXQgZ2V0RG9jKHJhZmZsZVJlZik7XG4gICAgICBpZiAoIXVwZGF0ZWREb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3J0ZW8gbm8gZW5jb250cmFkbycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgY29udmVydFJhZmZsZURvYyh1cGRhdGVkRG9jIGFzIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyByYWZmbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxufTtcblxuIl0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJhZGREb2MiLCJ1cGRhdGVEb2MiLCJkb2MiLCJnZXREb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJkYiIsIlJhZmZsZVN0YXR1cyIsImNvbnZlcnRUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJ0b0RhdGUiLCJEYXRlIiwiY29udmVydFJhZmZsZURvYyIsImRvY1NuYXAiLCJkYXRhIiwiaWQiLCJzaG9wSWQiLCJwcm9kdWN0SWQiLCJwcm9kdWN0VmFsdWUiLCJ0b3RhbFRpY2tldHMiLCJzb2xkVGlja2V0cyIsInN0YXR1cyIsIkRSQUZUIiwicmVxdWlyZXNEZXBvc2l0Iiwid2lubmVyVGlja2V0SWQiLCJzcGVjaWFsQ29uZGl0aW9ucyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImFjdGl2YXRlZEF0IiwidW5kZWZpbmVkIiwicmFmZmxlRXhlY3V0ZWRBdCIsImZpcmViYXNlUmFmZmxlV3JpdGVTZXJ2aWNlIiwiY3JlYXRlUmFmZmxlIiwicHJvZHVjdERvYyIsImV4aXN0cyIsIkVycm9yIiwicHJvZHVjdERhdGEiLCJ2YWx1ZSIsIk1hdGgiLCJmbG9vciIsInJhZmZsZXNSZWYiLCJyYWZmbGVEYXRhIiwiZG9jUmVmIiwicmFmZmxlRG9jIiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlUmFmZmxlIiwicmFmZmxlUmVmIiwidXBkYXRlRGF0YSIsInVwZGF0ZWREb2MiLCJzdWJtaXRGb3JBcHByb3ZhbCIsIlBFTkRJTkdfQVBQUk9WQUwiLCJjYW5jZWxSYWZmbGUiLCJDQU5DRUxMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/services/firebase-raffle-write-service.ts\n");

/***/ }),

/***/ "(ssr)/./src/services/raffle-service.ts":
/*!****************************************!*\
  !*** ./src/services/raffle-service.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   raffleService: () => (/* binding */ raffleService)\n/* harmony export */ });\n/* harmony import */ var _firebase_raffle_write_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase-raffle-write-service */ \"(ssr)/./src/services/firebase-raffle-write-service.ts\");\n/* harmony import */ var _firebase_raffle_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase-raffle-service */ \"(ssr)/./src/services/firebase-raffle-service.ts\");\n\n\nconst raffleService = {\n    // Operaciones de lectura usan firebase-raffle-service\n    async getRafflesByShop (shopId) {\n        const result = await _firebase_raffle_service__WEBPACK_IMPORTED_MODULE_1__.firebaseRaffleService.getRafflesByShop(shopId, {\n            limit: 100\n        });\n        return result.data;\n    },\n    async getRaffleById (id) {\n        return _firebase_raffle_service__WEBPACK_IMPORTED_MODULE_1__.firebaseRaffleService.getRaffleById(id);\n    },\n    async getActiveRaffles () {\n        const result = await _firebase_raffle_service__WEBPACK_IMPORTED_MODULE_1__.firebaseRaffleService.getActiveRaffles({\n            limit: 100\n        });\n        return result.data;\n    },\n    async getAllRaffles () {\n        // Obtener todos los sorteos (sin filtro de status)\n        const { collection, getDocs } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! firebase/firestore */ \"(ssr)/../node_modules/firebase/firestore/dist/index.mjs\"));\n        const { db } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/firebase */ \"(ssr)/./src/lib/firebase.ts\"));\n        const rafflesRef = collection(db, \"raffles\");\n        const snapshot = await getDocs(rafflesRef);\n        const raffles = [];\n        for (const docSnap of snapshot.docs){\n            const data = docSnap.data();\n            raffles.push({\n                id: docSnap.id,\n                shopId: data.shopId || \"\",\n                productId: data.productId || \"\",\n                productValue: data.productValue || 0,\n                totalTickets: data.totalTickets || 0,\n                soldTickets: data.soldTickets || 0,\n                status: data.status || \"draft\",\n                requiresDeposit: data.requiresDeposit || false,\n                winnerTicketId: data.winnerTicketId,\n                specialConditions: data.specialConditions,\n                createdAt: data.createdAt?.toDate() || new Date(),\n                updatedAt: data.updatedAt?.toDate() || new Date(),\n                activatedAt: data.activatedAt?.toDate(),\n                raffleExecutedAt: data.raffleExecutedAt?.toDate()\n            });\n        }\n        return raffles;\n    },\n    // Operaciones de escritura usan firebase-raffle-write-service\n    async createRaffle (data) {\n        return _firebase_raffle_write_service__WEBPACK_IMPORTED_MODULE_0__.firebaseRaffleWriteService.createRaffle(data);\n    },\n    async updateRaffle (id, data) {\n        return _firebase_raffle_write_service__WEBPACK_IMPORTED_MODULE_0__.firebaseRaffleWriteService.updateRaffle(id, data);\n    },\n    async submitForApproval (id) {\n        return _firebase_raffle_write_service__WEBPACK_IMPORTED_MODULE_0__.firebaseRaffleWriteService.submitForApproval(id);\n    },\n    async cancelRaffle (id) {\n        return _firebase_raffle_write_service__WEBPACK_IMPORTED_MODULE_0__.firebaseRaffleWriteService.cancelRaffle(id);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc2VydmljZXMvcmFmZmxlLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZFO0FBQ1g7QUFHM0QsTUFBTUUsZ0JBQWdCO0lBQzNCLHNEQUFzRDtJQUN0RCxNQUFNQyxrQkFBaUJDLE1BQWM7UUFDbkMsTUFBTUMsU0FBUyxNQUFNSiwyRUFBcUJBLENBQUNFLGdCQUFnQixDQUFDQyxRQUFRO1lBQUVFLE9BQU87UUFBSTtRQUNqRixPQUFPRCxPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsTUFBTUMsZUFBY0MsRUFBVTtRQUM1QixPQUFPUiwyRUFBcUJBLENBQUNPLGFBQWEsQ0FBQ0M7SUFDN0M7SUFFQSxNQUFNQztRQUNKLE1BQU1MLFNBQVMsTUFBTUosMkVBQXFCQSxDQUFDUyxnQkFBZ0IsQ0FBQztZQUFFSixPQUFPO1FBQUk7UUFDekUsT0FBT0QsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLE1BQU1JO1FBQ0osbURBQW1EO1FBQ25ELE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNLHlLQUFPO1FBQzdDLE1BQU0sRUFBRUMsRUFBRSxFQUFFLEdBQUcsTUFBTSx5SUFBTztRQUM1QixNQUFNQyxhQUFhSCxXQUFXRSxJQUFJO1FBQ2xDLE1BQU1FLFdBQVcsTUFBTUgsUUFBUUU7UUFDL0IsTUFBTUUsVUFBb0IsRUFBRTtRQUU1QixLQUFLLE1BQU1DLFdBQVdGLFNBQVNHLElBQUksQ0FBRTtZQUNuQyxNQUFNWixPQUFPVyxRQUFRWCxJQUFJO1lBQ3pCVSxRQUFRRyxJQUFJLENBQUM7Z0JBQ1hYLElBQUlTLFFBQVFULEVBQUU7Z0JBQ2RMLFFBQVFHLEtBQUtILE1BQU0sSUFBSTtnQkFDdkJpQixXQUFXZCxLQUFLYyxTQUFTLElBQUk7Z0JBQzdCQyxjQUFjZixLQUFLZSxZQUFZLElBQUk7Z0JBQ25DQyxjQUFjaEIsS0FBS2dCLFlBQVksSUFBSTtnQkFDbkNDLGFBQWFqQixLQUFLaUIsV0FBVyxJQUFJO2dCQUNqQ0MsUUFBUWxCLEtBQUtrQixNQUFNLElBQUk7Z0JBQ3ZCQyxpQkFBaUJuQixLQUFLbUIsZUFBZSxJQUFJO2dCQUN6Q0MsZ0JBQWdCcEIsS0FBS29CLGNBQWM7Z0JBQ25DQyxtQkFBbUJyQixLQUFLcUIsaUJBQWlCO2dCQUN6Q0MsV0FBV3RCLEtBQUtzQixTQUFTLEVBQUVDLFlBQVksSUFBSUM7Z0JBQzNDQyxXQUFXekIsS0FBS3lCLFNBQVMsRUFBRUYsWUFBWSxJQUFJQztnQkFDM0NFLGFBQWExQixLQUFLMEIsV0FBVyxFQUFFSDtnQkFDL0JJLGtCQUFrQjNCLEtBQUsyQixnQkFBZ0IsRUFBRUo7WUFDM0M7UUFDRjtRQUVBLE9BQU9iO0lBQ1Q7SUFFQSw4REFBOEQ7SUFDOUQsTUFBTWtCLGNBQWE1QixJQUFxQjtRQUN0QyxPQUFPUCxzRkFBMEJBLENBQUNtQyxZQUFZLENBQUM1QjtJQUNqRDtJQUVBLE1BQU02QixjQUFhM0IsRUFBVSxFQUFFRixJQUFxQjtRQUNsRCxPQUFPUCxzRkFBMEJBLENBQUNvQyxZQUFZLENBQUMzQixJQUFJRjtJQUNyRDtJQUVBLE1BQU04QixtQkFBa0I1QixFQUFVO1FBQ2hDLE9BQU9ULHNGQUEwQkEsQ0FBQ3FDLGlCQUFpQixDQUFDNUI7SUFDdEQ7SUFFQSxNQUFNNkIsY0FBYTdCLEVBQVU7UUFDM0IsT0FBT1Qsc0ZBQTBCQSxDQUFDc0MsWUFBWSxDQUFDN0I7SUFDakQ7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29ydGVvcy1mcm9udGVuZC8uL3NyYy9zZXJ2aWNlcy9yYWZmbGUtc2VydmljZS50cz82MTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpcmViYXNlUmFmZmxlV3JpdGVTZXJ2aWNlIH0gZnJvbSAnLi9maXJlYmFzZS1yYWZmbGUtd3JpdGUtc2VydmljZSc7XG5pbXBvcnQgeyBmaXJlYmFzZVJhZmZsZVNlcnZpY2UgfSBmcm9tICcuL2ZpcmViYXNlLXJhZmZsZS1zZXJ2aWNlJztcbmltcG9ydCB7IFJhZmZsZSwgQ3JlYXRlUmFmZmxlRHRvLCBVcGRhdGVSYWZmbGVEdG8gfSBmcm9tICdAL3R5cGVzL3JhZmZsZSc7XG5cbmV4cG9ydCBjb25zdCByYWZmbGVTZXJ2aWNlID0ge1xuICAvLyBPcGVyYWNpb25lcyBkZSBsZWN0dXJhIHVzYW4gZmlyZWJhc2UtcmFmZmxlLXNlcnZpY2VcbiAgYXN5bmMgZ2V0UmFmZmxlc0J5U2hvcChzaG9wSWQ6IHN0cmluZyk6IFByb21pc2U8UmFmZmxlW10+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZVJhZmZsZVNlcnZpY2UuZ2V0UmFmZmxlc0J5U2hvcChzaG9wSWQsIHsgbGltaXQ6IDEwMCB9KTtcbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0UmFmZmxlQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxSYWZmbGU+IHtcbiAgICByZXR1cm4gZmlyZWJhc2VSYWZmbGVTZXJ2aWNlLmdldFJhZmZsZUJ5SWQoaWQpO1xuICB9LFxuXG4gIGFzeW5jIGdldEFjdGl2ZVJhZmZsZXMoKTogUHJvbWlzZTxSYWZmbGVbXT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZpcmViYXNlUmFmZmxlU2VydmljZS5nZXRBY3RpdmVSYWZmbGVzKHsgbGltaXQ6IDEwMCB9KTtcbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0QWxsUmFmZmxlcygpOiBQcm9taXNlPFJhZmZsZVtdPiB7XG4gICAgLy8gT2J0ZW5lciB0b2RvcyBsb3Mgc29ydGVvcyAoc2luIGZpbHRybyBkZSBzdGF0dXMpXG4gICAgY29uc3QgeyBjb2xsZWN0aW9uLCBnZXREb2NzIH0gPSBhd2FpdCBpbXBvcnQoJ2ZpcmViYXNlL2ZpcmVzdG9yZScpO1xuICAgIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvZmlyZWJhc2UnKTtcbiAgICBjb25zdCByYWZmbGVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3JhZmZsZXMnKTtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocmFmZmxlc1JlZik7XG4gICAgY29uc3QgcmFmZmxlczogUmFmZmxlW10gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGRvY1NuYXAgb2Ygc25hcHNob3QuZG9jcykge1xuICAgICAgY29uc3QgZGF0YSA9IGRvY1NuYXAuZGF0YSgpO1xuICAgICAgcmFmZmxlcy5wdXNoKHtcbiAgICAgICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgICAgIHNob3BJZDogZGF0YS5zaG9wSWQgfHwgJycsXG4gICAgICAgIHByb2R1Y3RJZDogZGF0YS5wcm9kdWN0SWQgfHwgJycsXG4gICAgICAgIHByb2R1Y3RWYWx1ZTogZGF0YS5wcm9kdWN0VmFsdWUgfHwgMCxcbiAgICAgICAgdG90YWxUaWNrZXRzOiBkYXRhLnRvdGFsVGlja2V0cyB8fCAwLFxuICAgICAgICBzb2xkVGlja2V0czogZGF0YS5zb2xkVGlja2V0cyB8fCAwLFxuICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzIHx8ICdkcmFmdCcsXG4gICAgICAgIHJlcXVpcmVzRGVwb3NpdDogZGF0YS5yZXF1aXJlc0RlcG9zaXQgfHwgZmFsc2UsXG4gICAgICAgIHdpbm5lclRpY2tldElkOiBkYXRhLndpbm5lclRpY2tldElkLFxuICAgICAgICBzcGVjaWFsQ29uZGl0aW9uczogZGF0YS5zcGVjaWFsQ29uZGl0aW9ucyxcbiAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdD8udG9EYXRlKCkgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdD8udG9EYXRlKCkgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgYWN0aXZhdGVkQXQ6IGRhdGEuYWN0aXZhdGVkQXQ/LnRvRGF0ZSgpLFxuICAgICAgICByYWZmbGVFeGVjdXRlZEF0OiBkYXRhLnJhZmZsZUV4ZWN1dGVkQXQ/LnRvRGF0ZSgpLFxuICAgICAgfSBhcyBSYWZmbGUpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmFmZmxlcztcbiAgfSxcblxuICAvLyBPcGVyYWNpb25lcyBkZSBlc2NyaXR1cmEgdXNhbiBmaXJlYmFzZS1yYWZmbGUtd3JpdGUtc2VydmljZVxuICBhc3luYyBjcmVhdGVSYWZmbGUoZGF0YTogQ3JlYXRlUmFmZmxlRHRvKTogUHJvbWlzZTxSYWZmbGU+IHtcbiAgICByZXR1cm4gZmlyZWJhc2VSYWZmbGVXcml0ZVNlcnZpY2UuY3JlYXRlUmFmZmxlKGRhdGEpO1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZVJhZmZsZShpZDogc3RyaW5nLCBkYXRhOiBVcGRhdGVSYWZmbGVEdG8pOiBQcm9taXNlPFJhZmZsZT4ge1xuICAgIHJldHVybiBmaXJlYmFzZVJhZmZsZVdyaXRlU2VydmljZS51cGRhdGVSYWZmbGUoaWQsIGRhdGEpO1xuICB9LFxuXG4gIGFzeW5jIHN1Ym1pdEZvckFwcHJvdmFsKGlkOiBzdHJpbmcpOiBQcm9taXNlPFJhZmZsZT4ge1xuICAgIHJldHVybiBmaXJlYmFzZVJhZmZsZVdyaXRlU2VydmljZS5zdWJtaXRGb3JBcHByb3ZhbChpZCk7XG4gIH0sXG5cbiAgYXN5bmMgY2FuY2VsUmFmZmxlKGlkOiBzdHJpbmcpOiBQcm9taXNlPFJhZmZsZT4ge1xuICAgIHJldHVybiBmaXJlYmFzZVJhZmZsZVdyaXRlU2VydmljZS5jYW5jZWxSYWZmbGUoaWQpO1xuICB9LFxufTsiXSwibmFtZXMiOlsiZmlyZWJhc2VSYWZmbGVXcml0ZVNlcnZpY2UiLCJmaXJlYmFzZVJhZmZsZVNlcnZpY2UiLCJyYWZmbGVTZXJ2aWNlIiwiZ2V0UmFmZmxlc0J5U2hvcCIsInNob3BJZCIsInJlc3VsdCIsImxpbWl0IiwiZGF0YSIsImdldFJhZmZsZUJ5SWQiLCJpZCIsImdldEFjdGl2ZVJhZmZsZXMiLCJnZXRBbGxSYWZmbGVzIiwiY29sbGVjdGlvbiIsImdldERvY3MiLCJkYiIsInJhZmZsZXNSZWYiLCJzbmFwc2hvdCIsInJhZmZsZXMiLCJkb2NTbmFwIiwiZG9jcyIsInB1c2giLCJwcm9kdWN0SWQiLCJwcm9kdWN0VmFsdWUiLCJ0b3RhbFRpY2tldHMiLCJzb2xkVGlja2V0cyIsInN0YXR1cyIsInJlcXVpcmVzRGVwb3NpdCIsIndpbm5lclRpY2tldElkIiwic3BlY2lhbENvbmRpdGlvbnMiLCJjcmVhdGVkQXQiLCJ0b0RhdGUiLCJEYXRlIiwidXBkYXRlZEF0IiwiYWN0aXZhdGVkQXQiLCJyYWZmbGVFeGVjdXRlZEF0IiwiY3JlYXRlUmFmZmxlIiwidXBkYXRlUmFmZmxlIiwic3VibWl0Rm9yQXBwcm92YWwiLCJjYW5jZWxSYWZmbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/services/raffle-service.ts\n");

/***/ }),

/***/ "(ssr)/./src/types/raffle.ts":
/*!*****************************!*\
  !*** ./src/types/raffle.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RaffleStatus: () => (/* binding */ RaffleStatus)\n/* harmony export */ });\nvar RaffleStatus;\n(function(RaffleStatus) {\n    RaffleStatus[\"DRAFT\"] = \"draft\";\n    RaffleStatus[\"PENDING_APPROVAL\"] = \"pending_approval\";\n    RaffleStatus[\"ACTIVE\"] = \"active\";\n    RaffleStatus[\"PAUSED\"] = \"paused\";\n    RaffleStatus[\"SOLD_OUT\"] = \"sold_out\";\n    RaffleStatus[\"FINISHED\"] = \"finished\";\n    RaffleStatus[\"CANCELLED\"] = \"cancelled\";\n    RaffleStatus[\"REJECTED\"] = \"rejected\";\n})(RaffleStatus || (RaffleStatus = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvdHlwZXMvcmFmZmxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O1VBR1lBOzs7Ozs7Ozs7R0FBQUEsaUJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29ydGVvcy1mcm9udGVuZC8uL3NyYy90eXBlcy9yYWZmbGUudHM/ZGM1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi9wcm9kdWN0JztcbmltcG9ydCB7IFNob3AgfSBmcm9tICcuL3Nob3AnO1xuXG5leHBvcnQgZW51bSBSYWZmbGVTdGF0dXMge1xuICBEUkFGVCA9ICdkcmFmdCcsXG4gIFBFTkRJTkdfQVBQUk9WQUwgPSAncGVuZGluZ19hcHByb3ZhbCcsXG4gIEFDVElWRSA9ICdhY3RpdmUnLFxuICBQQVVTRUQgPSAncGF1c2VkJyxcbiAgU09MRF9PVVQgPSAnc29sZF9vdXQnLFxuICBGSU5JU0hFRCA9ICdmaW5pc2hlZCcsXG4gIENBTkNFTExFRCA9ICdjYW5jZWxsZWQnLFxuICBSRUpFQ1RFRCA9ICdyZWplY3RlZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFmZmxlIHtcbiAgaWQ6IHN0cmluZztcbiAgc2hvcElkOiBzdHJpbmc7XG4gIHByb2R1Y3RJZDogc3RyaW5nO1xuICBwcm9kdWN0VmFsdWU6IG51bWJlcjtcbiAgdG90YWxUaWNrZXRzOiBudW1iZXI7XG4gIHNvbGRUaWNrZXRzOiBudW1iZXI7XG4gIHN0YXR1czogUmFmZmxlU3RhdHVzO1xuICByZXF1aXJlc0RlcG9zaXQ6IGJvb2xlYW47XG4gIHdpbm5lclRpY2tldElkPzogc3RyaW5nO1xuICBzcGVjaWFsQ29uZGl0aW9ucz86IHN0cmluZztcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG4gIGFjdGl2YXRlZEF0PzogRGF0ZTtcbiAgcmFmZmxlRXhlY3V0ZWRBdD86IERhdGU7XG4gIHNob3A/OiBTaG9wO1xuICBwcm9kdWN0PzogUHJvZHVjdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVSYWZmbGVEdG8ge1xuICBzaG9wSWQ6IHN0cmluZztcbiAgcHJvZHVjdElkOiBzdHJpbmc7XG4gIHNwZWNpYWxDb25kaXRpb25zPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVJhZmZsZUR0byB7XG4gIHNwZWNpYWxDb25kaXRpb25zPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhZmZsZVdpdGhSZWxhdGlvbnMgZXh0ZW5kcyBSYWZmbGUge1xuICBzaG9wOiBTaG9wO1xuICBwcm9kdWN0OiBQcm9kdWN0O1xufSJdLCJuYW1lcyI6WyJSYWZmbGVTdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/types/raffle.ts\n");

/***/ })

};
;